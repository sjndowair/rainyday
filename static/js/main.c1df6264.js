/*! For license information please see main.c1df6264.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+u+l+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+c,"g");e.exports=function(e){return e.match(d)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),u=n(5893),c=n(3279),h=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var d=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return u(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Oe(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Ie(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ae(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){Ne=!1}function De(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Re=!0,Le=e}};function ze(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,De.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,kt,Ot=!1,Tt=[],Ct=null,At=null,Pt=null,It=new Map,jt=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ot=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),It.forEach(Ut),jt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),It.forEach(t),jt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Rt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Rt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Rt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&$r(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=L({},un,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),yn=on(L({},hn,{relatedTarget:0})),gn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var On=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(On),Cn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(In),Nn=[9,13,27,32],Mn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Dn,Ln=c&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Oe(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Ie(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Or=kr("animationend"),Tr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Pr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Ir.length;Nr++){var Mr=Ir[Nr];jr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}jr(Or,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(Cr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(ze.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=o,i=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Or:case Tr:case Cr:l=gn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=je(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:wi(l),f=null==u?s:wi(u),(s=new c(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(a,s,l,c,!1),null!==u&&null!==h&&Gr(a,h,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Yn;else if($n(s))if(Xn)y=ar;else{y=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":($n(g)||"true"===g.contentEditable)&&(yr=g,gr=r,vr=null);break;case"focusout":vr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(g=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=je(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=je(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=je(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,yi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Oi(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Pi=Ti;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ai),ki(Ci)}function Mi(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Oi(Ci,t),Oi(Ai,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,Oi(Ci,e),Oi(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Oi(Ci,e)):ki(Ai),Oi(Ai,n)}var Fi=null,Ui=!1,Bi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var qi=[],$i=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[$i++]=Wi,qi[$i++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--$i],qi[$i]=null,Wi=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=w.ReactCurrentBatchConfig;function go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&bo(o)===t.type)?((r=i(t,n.props)).ref=go(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=go(e,null,t),n.return=e,n;case _:return(t=Fu(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,h=o,m=o=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var g=f(i,h,s[m],l);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,h=y}if(m===s.length)return n(i,h),io&&Ji(i,m),u;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&Ji(i,m),u}for(h=r(i,h);m<s.length;m++)null!==(y=p(h,i,m,s[m],l))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function y(i,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,y),null===h?c=b:h.sibling=b,h=b,m=g}if(v.done)return n(i,m),io&&Ji(i,y),c;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=d(i,v.value,u))&&(s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return io&&Ji(i,y),c}for(m=r(i,m);!v.done;y++,v=l.next())null!==(v=p(m,i,y,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===j&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=go(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=Du(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Mu(a.type,a.key,a.props,null,r.mode,l)).ref=go(r,o,a),l.return=r,r=l)}return s(r);case _:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case j:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(D(a))return y(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),So=Ei(null),Eo=null,ko=null,Oo=null;function To(){Oo=ko=Eo=null}function Co(e){var t=So.current;ki(So),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){Eo=e,Oo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Eo)throw Error(o(308));ko=e,Eo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var jo=null;function No(e){null===jo?jo=[e]:jo.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,c=u=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=h}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Wo=Ei(Ho),Ko=Ei(Ho),Go=Ei(Ho);function Qo(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Oi(Go,t),Oi(Ko,e),Oi(Wo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wo),Oi(Wo,t)}function Xo(){ki(Wo),ki(Ko),ki(Go)}function Jo(e){Qo(Go.current);var t=Qo(Wo.current),n=le(t,e.type);t!==n&&(Oi(Ko,e),Oi(Wo,n))}function Zo(e){Ko.current===e&&(ki(Wo),ki(Ko))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,ha=!1,da=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(ha)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((aa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,sa.lanes|=h,Rl|=h}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ia(9,Oa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Aa(e)}function Ta(e,t,n){return n((function(){Ca(t)&&Aa(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Aa(e){var t=Do(e,1);null!==t&&nu(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return ba().memoizedState}function Na(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ia(t,n,o,r))}sa.flags|=e,i.memoizedState=Ia(1|t,n,o,r)}function Da(e,t){return Na(8390656,8,e,t)}function Ra(e,t){return Ma(2048,8,e,t)}function La(e,t){return Ma(4,2,e,t)}function Fa(e,t){return Ma(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Ua.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ka(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Mo(e,t,n,r))){nu(n,e,r,eu()),Xa(n,t,r)}}function Ga(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,No(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Mo(e,t,i,r))&&(nu(n,e,r,i=eu()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){ha=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Io,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Io,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Al.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Io,useCallback:Va,useContext:Io,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:ja,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return $a(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:Va,useContext:Io,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:_a,useRef:ja,useState:function(){return _a(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:$a(t,la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nu(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nu(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nu(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=ji(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=ji(t)?Pi:Ci.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),hs(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_o(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ya(e,t,n,r,o,i),n=ga(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Nu(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Os(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(Nl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(Nl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oi(Nl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oi(Nl,jl),jl|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=ji(n)?Pi:Ci.current;return o=Ii(t,o),Po(t,i),n=ya(e,t,n,r,o,i),r=ga(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Ts(e,t,n,r,i){if(ji(n)){var o=!0;Ri(t)}else o=!1;if(Po(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Io(u):u=Ii(t,u=ji(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Ro=!1;var d=t.memoizedState;a.state=d,qo(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Ai.current||Ro?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(t,l=ji(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&ss(t,a,r,l),Ro=!1,d=t.memoizedState,a.state=d,qo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Ai.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(u=Ro||os(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),$s(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Yo(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Is,js,Ns,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oi(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ru(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ds,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ru({mode:"visible",children:r.children},i,0,null),(a=Du(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),nu(r,e,i,-1))}return mu(),Us(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Nu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Nu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return ji(t.type)&&Ni(),Ws(t),null;case 3:return r=t.stateNode,Xo(),ki(Ai),ki(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),js(e,t),Ws(t),null;case 5:Zo(t);var i=Qo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Qo(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Go.current),Qo(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ml&&(Ml=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Xo(),js(e,t),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Co(t.type._context),Ws(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Xe()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Oi(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return ji(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),ki(Ai),ki(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return Xo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Wo.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(e,t,n),Ys=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(a,s,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){Eu(e,e.return,y)}try{nl(5,e,e.return)}catch(y){Eu(e,e.return,y)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(y){Eu(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?ye(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(y){Eu(e,e.return,y)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Eu(e,e.return,y)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(y){Eu(e,e.return,y)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||h,ml(t,e),Ys=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Eu(r,n,y)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Js=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(y){Eu(e,e.return,y)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Eu(e,e.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Qs;var u=Ys;if(Qs=a,(Ys=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Js=l):_l(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Qs=s,Ys=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$o(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Eu(t,a,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,El=Math.ceil,kl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Al=null,Pl=null,Il=0,jl=0,Nl=Ei(0),Ml=0,Dl=null,Rl=0,Ll=0,Fl=0,Ul=null,Bl=null,zl=0,Vl=1/0,ql=null,$l=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Il?Il&-Il:null!==yo.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));gt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Ll|=n),4===Ml&&su(e,Il)),ru(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=Xe()+500,Ui&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Al?Il:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lu.bind(null,e)):zi(lu.bind(null,e)),ai((function(){0===(6&Cl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Cl;Cl|=2;var a=pu();for(Al===e&&Il===t||(ql=null,Vl=Xe()+500,du(e,t));;)try{vu();break}catch(l){fu(e,l)}To(),kl.current=a,Cl=i,null!==Pl?t=0:(Al=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Dl,du(e,0),su(e,r),ru(e,Xe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=Dl,du(e,0),su(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Bl,ql);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Bl,ql),t);break}xu(e,Bl,ql);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Bl,ql),r);break}xu(e,Bl,ql);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function su(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Cl))throw Error(o(327));_u();var t=dt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dl,du(e,0),su(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Bl,ql),ru(e,Xe()),null}function uu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=Xe()+500,Ui&&Vi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&_u();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&Vi()}}function hu(){jl=Nl.current,ki(Nl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Xo(),ki(Ai),ki(Ci),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:ki(ea);break;case 10:Co(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Al=e,Pl=e=Nu(e.current,null),Il=jl=t,Ml=0,Dl=null,Fl=Ll=Rl=0,Bl=Ul=null,null!==jo){for(t=0;t<jo.length;t++)if(null!==(r=(n=jo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}jo=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(To(),ia.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,ha=!1,da=0,Ol.current=null,null===n||null===n.return){Ml=1,Dl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Il,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}if(0===(1&t)){ms(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),mo(us(u,l));break e}}a=u=us(u,l),4!==Ml&&(Ml=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function mu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Rl)&&0===(268435455&Ll)||su(Al,Il)}function yu(e,t){var n=Cl;Cl|=2;var r=pu();for(Al===e&&Il===t||(ql=null,du(e,t));;)try{gu();break}catch(i){fu(e,i)}if(To(),Cl=n,kl.current=r,null!==Pl)throw Error(o(261));return Al=null,Il=0,Ml}function gu(){for(;null!==Pl;)bu(Pl)}function vu(){for(;null!==Pl&&!Qe();)bu(Pl)}function bu(e){var t=Sl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Ol.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ml=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xu(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Gl);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Pl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Au(tt,(function(){return _u(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,Ol.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=s),f===a&&++h===r&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ns(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),yl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Cl=l,bt=s,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&_u(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _u(){if(null!==Gl){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(ol(h),h===c){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Eu(l,l.return,_)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Cl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Su(e,t,n){e=Bo(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bo(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>Xe()-zl?du(e,0):Fl|=n),ru(e,t)}function Ou(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Do(e,t))&&(gt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ou(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ou(e,n)}function Au(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Pu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Du(n.children,i,a,t);case E:s=8,i|=8;break;case k:return(e=Iu(12,n,t,2|i)).elementType=k,e.lanes=a,e;case A:return(e=Iu(13,n,t,i)).elementType=A,e.lanes=a,e;case P:return(e=Iu(19,n,t,i)).elementType=P,e.lanes=a,e;case N:return Ru(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case T:s=9;break e;case C:s=11;break e;case I:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Iu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Iu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function zu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Di(e,n,t)}return t}function Vu(e,t,n,r,i,o,a,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=zu(null),n=e.current,(o=Uo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nu(e,i,a,o),zo(e,i,a)),a}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:Jo(t);break;case 1:ji(t.type)&&Ri(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oi(ea,1&ea.current),null!==(e=$s(e,t,n))?e.sibling:null);Oi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return $s(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ii(t,Ci.current);Po(t,n),i=ya(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=$s(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oi(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=$s(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Uo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ao(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ao(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Io(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),_s(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,ji(r)?(e=!0,Ri(t)):e=!1,Po(t,n),as(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}qu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=$u(a);o.call(e)}}var a=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=$u(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return $u(a)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),0===(6&Cl)&&(Vl=Xe()+500,Vi()))}break;case 13:cu((function(){var t=Do(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},_t=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Do(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,xi,Oe,Te,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),d=!n&&!c&&!h&&l(e),f=n||c||h||d,p=f?r(e.length,String):[],m=p.length;for(var y in e)!t&&!u.call(e,y)||f&&("length"==y||h&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,y=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var g=e[p],v=t[p];if(a)var b=u?a(v,g,p,t,e,l):a(g,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(g===e||s(g,e,n,a,l)))return y.push(t)}))){m=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,h,d,f,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,p=t,h=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||y&&e-p>=c}function w(){var e=i();if(b(e))return x(e);d=setTimeout(w,function(e){var n=t-(e-f);return y?s(n,c-(e-p)):n}(e))}function x(e){return d=void 0,g&&l?v(e):(l=u=void 0,h)}function _(){var e=i(),n=b(e);if(l=arguments,u=this,f=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(w,t),m?v(e):h}(f);if(y)return clearTimeout(d),d=setTimeout(w,t),v(f)}return void 0===d&&(d=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(y="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=u=d=void 0},_.flush=function(){return void 0===d?h:x(i())},_}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=b.prototype=new v;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+C(s=e[u],u);l+=A(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=o+C(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},N={transition:null},M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var u=-1,c=i,h=e.length,d=!0,f=[],p=f;if(n)d=!1,c=o;else if(h>=200){var m=t?null:s(e);if(m)return l(m);d=!1,c=a,p=new r}else p=t?[]:f;e:for(;++u<h;){var y=e[u],g=t?t(y):y;if(y=n||0!==y?y:0,d&&g===g){for(var v=p.length;v--;)if(p[v]===g)continue e;t&&p.push(g),f.push(y)}else c(p,g,n)||(p!==f&&p.push(g),f.push(y))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),u=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in t:i.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++h<c;){var g=e[d=u[h]],v=t[d];if(o)var b=l?o(v,g,d,t,e,s):o(g,v,d,e,t,s);if(!(void 0===b?g===v||a(g,v,n,o,s):b)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),u=n(4543),c=n(1268),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=l(e),b=l(t),w=v?d:s(e),x=b?d:s(t),_=(w=w==h?f:w)==f,S=(x=x==h?f:x)==f,E=w==x;if(E&&u(e)){if(!u(t))return!1;v=!0,_=!1}if(E&&!_)return g||(g=new r),v||c(e)?i(e,t,n,m,y,g):o(e,t,w,n,m,y,g);if(!(1&n)){var k=_&&p.call(e,"__wrapped__"),O=S&&p.call(t,"__wrapped__");if(k||O){var T=k?e.value():e,C=O?t.value():t;return g||(g=new r),y(T,C,n,m,g)}}return!!E&&(g||(g=new r),a(e,t,n,m,y,g))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],h=e[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var f=new r;if(o)var p=o(h,d,c,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),u=n(6996),c="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),y=u(i),g=u(o),v=u(a),b=u(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=c||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case y:return c;case g:return h;case v:return d;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(y=!1,w(e),!m)if(null!==r(u))m=!0,N(_);else{var t=r(c);null!==t&&M(x,t.startTime-e)}}function _(e,n){m=!1,y&&(y=!1,v(O),O=-1),p=!0;var o=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&M(x,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,O=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function P(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,j=I.port2;I.port1.onmessage=P,S=function(){j.postMessage(null)}}else S=function(){g(P,0)};function N(e){k=e,E||(E=!0,S())}function M(e,n){O=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(y?(v(O),O=-1):y=!0,M(x,o-a))):(e.sortIndex=s,n(u,e),m||p||(m=!0,N(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",u=l+"Invalid argument: ",c=l+"Exponent out of range: ",h=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,y=h(1286742750677284.5),g={};function v(e,t){var n,r,i,o,a,l,u,c,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),s?C(t,d):t;if(u=e.d,c=t.d,a=e.e,i=t.e,u=u.slice(),o=a-i){for(o<0?(r=u,o=-o,l=c.length):(r=c,i=a,l=u.length),o>(l=(a=Math.ceil(d/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=u.length)-(o=c.length)<0&&(o=l,r=c,c=u,u=r),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/p|0,u[o]%=p;for(n&&(u.unshift(n),++i),l=u.length;0==u[--l];)u.pop();return t.d=u,t.e=i,s?C(t,d):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return x(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return S(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(O(n,a),O(e,a),a),s=!0,C(t,o))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},g.naturalExponential=g.exp=function(){return _(this)},g.naturalLogarithm=g.ln=function(){return O(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(l+"NaN")}for(e=S(u),s=!1,0==(i=Math.sqrt(+u))||i==1/0?(((t=w(u.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=a=(n=c.precision)+3;;)if(r=(o=r).plus(x(u,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},g.times=g.mul=function(e){var t,n,r,i,o,a,l,u,c,h=this,d=h.constructor,f=h.d,m=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,(u=f.length)<(c=m.length)&&(o=f,f=m,m=o,a=u,u=c,c=a),o=[],r=a=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?C(e,d.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),C(n,e+S(n)+1,t))},g.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=P(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=P(r=C(new i(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?P(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=P((r=C(new a(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return C(new t(e),S(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,o,a,u,c=this,d=c.constructor,f=+(e=new d(e));if(!e.s)return new d(i);if(!(c=new d(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(i))return c;if(r=d.precision,e.eq(i))return C(c,r);if(u=(t=e.e)>=(n=e.d.length-1),a=c.s,u){if((n=f<0?-f:f)<=m){for(o=new d(i),t=Math.ceil(r/7+4),s=!1;n%2&&I((o=o.times(c)).d,t),0!==(n=h(n/2));)I((c=c.times(c)).d,t);return s=!0,e.s<0?new d(i).div(o):C(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,s=!1,o=e.times(O(c,r+12)),s=!0,(o=_(o)).s=a,o},g.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=P(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=P(i=C(new a(i),e,t),e<=(n=S(i))||n<=a.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=S(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,u,c,h,d,f,m,y,g,v,b,w,x,_,E,k,O,T,A=r.constructor,P=r.s==i.s?1:-1,I=r.d,j=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(u=r.e-i.e,O=j.length,E=I.length,y=(m=new A(P)).d=[],c=0;j[c]==(I[c]||0);)++c;if(j[c]>(I[c]||0)&&--u,(w=null==o?o=A.precision:a?o+(S(r)-S(i))+1:o)<0)return new A(0);if(w=w/7+2|0,c=0,1==O)for(h=0,j=j[0],w++;(c<E||h)&&w--;c++)x=h*p+(I[c]||0),y[c]=x/j|0,h=x%j|0;else{for((h=p/(j[0]+1)|0)>1&&(j=e(j,h),I=e(I,h),O=j.length,E=I.length),_=O,v=(g=I.slice(0,O)).length;v<O;)g[v++]=0;(T=j.slice()).unshift(0),k=j[0],j[1]>=p/2&&++k;do{h=0,(s=t(j,g,O,v))<0?(b=g[0],O!=v&&(b=b*p+(g[1]||0)),(h=b/k|0)>1?(h>=p&&(h=p-1),1==(s=t(d=e(j,h),g,f=d.length,v=g.length))&&(h--,n(d,O<f?T:j,f))):(0==h&&(s=h=1),d=j.slice()),(f=d.length)<v&&d.unshift(0),n(g,d,v),-1==s&&(s=t(j,g,O,v=g.length))<1&&(h++,n(g,O<v?T:j,v)),v=g.length):0===s&&(h++,g=[0]),y[c++]=h,s&&g[0]?g[v++]=I[_]||0:(g=[I[_]],v=1)}while((_++<E||void 0!==g[0])&&w--)}return y[0]||y.shift(),m.e=u,C(m,a?o+S(m)+1:o)}}();function _(e,t){var n,r,o,a,l,u=0,h=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(c+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(l+=Math.log(d(2,h))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++u),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;h--;)o=C(o.times(o),l);return f.precision=p,null==t?(s=!0,C(o,p)):o}o=a}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,o,a,u,c,h,d,f,p=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new g(0);if(null==t?(s=!1,d=v):d=t,m.eq(10))return null==t&&(s=!0),E(g,d);if(d+=10,g.precision=d,r=(n=w(y)).charAt(0),a=S(m),!(Math.abs(a)<15e14))return h=E(g,d+2,v).times(a+""),m=O(new g(r+"."+n.slice(1)),d-10).plus(h),g.precision=v,null==t?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(a=S(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),c=u=m=x(m.minus(i),m.plus(i),d),f=C(m.times(m),d),o=3;;){if(u=C(u.times(f),d),w((h=c.plus(x(u,new g(o),d))).d).slice(0,d)===w(c.d).slice(0,d))return c=c.times(2),0!==a&&(c=c.plus(E(g,d+2,v).times(a+""))),c=x(c,new g(p),d),g.precision=v,null==t?(s=!0,C(c,v)):c;c=h,o+=2}}function T(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(c+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,o,a,l,u,f,m,g=e.d;for(a=1,o=g[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=g.length))return e;for(f=o=g[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=d(10,a-i-1))%10|0,u=t<0||void 0!==g[m+1]||f%o,u=n<4?(l||u)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||u||6==n&&(r>0?i>0?f/d(10,a-i):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return u?(o=S(e),g.length=1,t=t-o-1,g[0]=d(10,(7-t%7)%7),e.e=h(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=m,o=1,m--):(g.length=m+1,o=d(10,7-r),g[m]=i>0?(f/d(10,a-i)%d(10,i)|0)*o:0),u)for(;;){if(0==m){(g[0]+=o)==p&&(g[0]=1,++e.e);break}if(g[m]+=o,g[m]!=p)break;g[m--]=0,o=1}for(r=g.length;0===g[--r];)g.pop();if(s&&(e.e>y||e.e<-y))throw Error(c+S(e));return e}function A(e,t){var n,r,i,o,a,l,u,c,h,d,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,m):t;if(u=e.d,d=t.d,r=t.e,c=e.e,u=u.slice(),a=c-r){for((h=a<0)?(n=u,a=-a,l=d.length):(n=d,r=c,l=u.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=u.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}a=0}for(h&&(n=u,u=d,d=n,t.s=-t.s),l=u.length,i=d.length-l;i>0;--i)u[l++]=0;for(i=d.length;i>a;){if(u[--i]<d[i]){for(o=i;o&&0===u[--o];)u[o]=p-1;--u[o],u[i]+=p}u[i]-=d[i]}for(;0===u[--l];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,s?C(t,m):t):new f(0)}function P(e,t,n){var r,i=S(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function I(e,t){if(e.length>t)return e.length=t,!0}function j(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(u+e);T(t,e)}if(o.prototype=g,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=j,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,h=!1;++u<c;){var d=l(t[u]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=a}return u}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var y=a(f(e),f(t),r,u,h,d);return d.delete(e),y;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".5ae6d263.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="rainyday:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/rainyday/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkrainyday=self.webpackChunkrainyday||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>U_,scaleDiverging:()=>yC,scaleDivergingLog:()=>gC,scaleDivergingPow:()=>bC,scaleDivergingSqrt:()=>wC,scaleDivergingSymlog:()=>vC,scaleIdentity:()=>ck,scaleImplicit:()=>L_,scaleLinear:()=>uk,scaleLog:()=>bk,scaleOrdinal:()=>F_,scalePoint:()=>z_,scalePow:()=>Ck,scaleQuantile:()=>Bk,scaleQuantize:()=>zk,scaleRadial:()=>Ik,scaleSequential:()=>uC,scaleSequentialLog:()=>cC,scaleSequentialPow:()=>dC,scaleSequentialQuantile:()=>pC,scaleSequentialSqrt:()=>fC,scaleSequentialSymlog:()=>hC,scaleSqrt:()=>Ak,scaleSymlog:()=>Sk,scaleThreshold:()=>Vk,scaleTime:()=>oC,scaleUtc:()=>aC,tickFormat:()=>sk});var t,r=n(4391),i=n(5043),o=n.t(i,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,p=t.Pop,m=null,y=g();function g(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=g(),n=null==e?null:e-y;y=e,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==y&&(y=0,f.replaceState(a({},f.state,{idx:y}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s,v),m=e,()=>{o.removeEventListener(s,v),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=h(w.location,e,n);r&&r(i,e),y=g()+1;let a=c(i,y),s=w.createHref(i);try{f.pushState(a,"",s)}catch(ig){if(ig instanceof DOMException&&"DataCloneError"===ig.name)throw ig;o.location.assign(s)}u&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(w.location,e,n);r&&r(i,e),y=g();let o=c(i,y),a=w.createHref(i);f.replaceState(o,"",a),u&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=I(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=P(i);a=C(o[s],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=R([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=b(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,_=2,S=1,E=10,k=-2,O=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=k),t&&(r+=_),n.filter((e=>!O(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?S:E)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:R([o,c.pathname]),pathnameBase:L(R([o,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(o=R([o,c.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(ig){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+ig+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=N(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),l(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let o,s=""===e||""===i.pathname,u=s?"/":i.pathname;if(null==u)o=n;else{let e=t.length-1;if(!r&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:U(i)}}(i,o),h=u&&"/"!==u&&u.endsWith("/"),d=(s||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const $=i.createContext(null);const H=i.createContext(null);const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function Y(){return null!=i.useContext(K)}function X(){return Y()||l(!1),i.useContext(K).location}function J(e){i.useContext(W).static||i.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=i.useContext(G);return e?function(){let{router:e}=le(ae.UseNavigateStable),t=ce(se.UseNavigateStable),n=i.useRef(!1);return J((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){Y()||l(!1);let e=i.useContext($),{basename:t,future:n,navigator:r}=i.useContext(W),{matches:o}=i.useContext(G),{pathname:a}=X(),s=JSON.stringify(M(o,n.v7_relativeSplatPath)),u=i.useRef(!1);J((()=>{u.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void r.go(n);let o=D(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:R([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e]);return c}()}function ee(e,n,r,o){Y()||l(!1);let{navigator:a,static:s}=i.useContext(W),{matches:u}=i.useContext(G),c=u[u.length-1],h=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,m=X();if(n){var g;let e="string"===typeof n?f(n):n;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||l(!1),p=e}else p=m;let v=p.pathname||"/",b=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&r&&r.matches&&r.matches.length>0?r.matches:y(e,{pathname:b});let x=oe(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:R([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,r,o);return n&&x?i.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},x):x}function te(){let e=function(){var e;let t=i.useContext(Q),n=ue(se.UseRouteError),r=ce(se.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ne=i.createElement(te,null);class re extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(G.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(G.Provider,{value:t},r)}function oe(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,u=null==(o=n)?void 0:o.errors;if(null!=u){let e=s.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,l=!1,d=null,f=null;var p;n&&(a=u&&r.route.id?u[r.route.id]:void 0,d=r.route.errorElement||ne,c&&(h<0&&0===o?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):h===o&&(l=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),y=()=>{let t;return t=a?d:l?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ie,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(re,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function le(e){let t=i.useContext($);return t||l(!1),t}function ue(e){let t=i.useContext(H);return t||l(!1),t}function ce(e){let t=function(){let e=i.useContext(G);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function de(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function fe(e){l(!1)}function pe(e){let{basename:n="/",children:r=null,location:o,navigationType:a=t.Pop,navigator:s,static:u=!1,future:c}=e;Y()&&l(!1);let h=n.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:s,static:u,future:q({v7_relativeSplatPath:!1},c)})),[h,c,s,u]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:m="",hash:y="",state:g=null,key:v="default"}=o,b=i.useMemo((()=>{let e=I(p,h);return null==e?null:{location:{pathname:e,search:m,hash:y,state:g,key:v},navigationType:a}}),[h,p,m,y,g,v,a]);return null==b?null:i.createElement(W.Provider,{value:d},i.createElement(K.Provider,{children:r,value:b}))}function me(e){let{children:t,location:n}=e;return function(e,t){return ee(e,t)}(ye(t),n)}new Promise((()=>{}));i.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ye(e.props.children,o));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,o)),n.push(a)})),n}const ge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var be={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const we=(0,i.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:u,...c}=e;return(0,i.createElement)("svg",{ref:t,...be,width:r,height:r,stroke:n,strokeWidth:a?24*Number(o)/Number(r):o,className:ve("lucide",s),...c},[...u.map((e=>{let[t,n]=e;return(0,i.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),xe=(e,t)=>{const n=(0,i.forwardRef)(((n,r)=>{let{className:o,...a}=n;return(0,i.createElement)(we,{ref:r,iconNode:t,className:ve(`lucide-${ge(e)}`,o),...a})}));return n.displayName=`${e}`,n},_e=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Se=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ee=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ke=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Oe=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,o);return o},Te=e=>e;const Ce=e=>{const t=(e=>e?Oe(e):Oe)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;const n=i.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return i.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Ae=e=>e?Ce(e):Ce;function Pe(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(r=n.getItem(e))?r:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const Ie=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Ie(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>Ie(e)(n)}}},je=(e,t)=>(n,r,i)=>{let o={storage:Pe((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const s=new Set,l=new Set;let u=o.storage;if(!u)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...arguments)}),r,i);const c=()=>{const e=o.partialize({...r()});return u.setItem(o.name,{state:e,version:o.version})},h=i.setState;i.setState=(e,t)=>{h(e,t),c()};const d=e((function(){n(...arguments),c()}),r,i);let f;i.getInitialState=()=>d;const p=()=>{var e,t;if(!u)return;a=!1,s.forEach((e=>{var t;return e(null!=(t=r())?t:d)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=r())?e:d))||void 0;return Ie(u.getItem.bind(u))(o.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){const t=o.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,a]=e;if(f=o.merge(a,null!=(t=r())?t:d),n(f,!0),i)return c()})).then((()=>{null==i||i(f,void 0),f=r(),a=!0,l.forEach((e=>e(f)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||p(),f||d},Ne=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new De;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(e){return function(e){const t=Ne(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Le=function(e){try{return Me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Fe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return Fe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Le(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Be=e=>{var t,n;return null===(n=null===(t=Ue())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ze=e=>{const t=Be(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ve=()=>{var e;return null===(e=Ue())||void 0===e?void 0:e.config},qe=e=>{var t;return null===(t=Ue())||void 0===t?void 0:t[`_${e}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function He(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(o)),""].join(".")}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return!function(){var e;const t=null===(e=Ue())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Xe,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Qe(n,o,t)}}const Xe=/\{\$([^}]+)}/g;function Je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ze(n)&&Ze(o)){if(!Je(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function it(){}function ot(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const st="[DEFAULT]";class lt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:st})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===st?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return this.component?this.component.multipleInstances?e:st:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ct=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const dt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},ft=ht.INFO,pt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class yt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=mt,this._userLogHandler=null,ct.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?dt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}let gt,vt;const bt=new WeakMap,wt=new WeakMap,xt=new WeakMap,_t=new WeakMap,St=new WeakMap;let Et={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vt||(vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),Tt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ct(this),t,...r);return xt.set(o,t.sort?t.sort():[t]),Tt(o)}}function Ot(e){return"function"===typeof e?kt(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));wt.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,gt||(gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Et):e)}function Tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Tt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&bt.set(t,e)})).catch((()=>{})),St.set(t,e),t}(e);if(_t.has(e))return _t.get(e);const t=Ot(e);return t!==e&&(_t.set(e,t),St.set(t,e)),t}const Ct=e=>St.get(e);const At=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],It=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(It.get(t))return It.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!At.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return It.set(t,o),o}Et=(e=>({...e,get:(t,n,r)=>jt(t,n)||e.get(t,n,r),has:(t,n)=>!!jt(t,n)||e.has(t,n)}))(Et);class Nt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Mt="@firebase/app",Dt="0.11.2",Rt=new yt("@firebase/app"),Lt="@firebase/app-compat",Ft="@firebase/analytics-compat",Ut="@firebase/analytics",Bt="@firebase/app-check-compat",zt="@firebase/app-check",Vt="@firebase/auth",qt="@firebase/auth-compat",$t="@firebase/database",Ht="@firebase/data-connect",Wt="@firebase/database-compat",Kt="@firebase/functions",Gt="@firebase/functions-compat",Qt="@firebase/installations",Yt="@firebase/installations-compat",Xt="@firebase/messaging",Jt="@firebase/messaging-compat",Zt="@firebase/performance",en="@firebase/performance-compat",tn="@firebase/remote-config",nn="@firebase/remote-config-compat",rn="@firebase/storage",on="@firebase/storage-compat",an="@firebase/firestore",sn="@firebase/vertexai",ln="@firebase/firestore-compat",un="firebase",cn="[DEFAULT]",hn={[Mt]:"fire-core",[Lt]:"fire-core-compat",[Ut]:"fire-analytics",[Ft]:"fire-analytics-compat",[zt]:"fire-app-check",[Bt]:"fire-app-check-compat",[Vt]:"fire-auth",[qt]:"fire-auth-compat",[$t]:"fire-rtdb",[Ht]:"fire-data-connect",[Wt]:"fire-rtdb-compat",[Kt]:"fire-fn",[Gt]:"fire-fn-compat",[Qt]:"fire-iid",[Yt]:"fire-iid-compat",[Xt]:"fire-fcm",[Jt]:"fire-fcm-compat",[Zt]:"fire-perf",[en]:"fire-perf-compat",[tn]:"fire-rc",[nn]:"fire-rc-compat",[rn]:"fire-gcs",[on]:"fire-gcs-compat",[an]:"fire-fst",[ln]:"fire-fst-compat",[sn]:"fire-vertex","fire-js":"fire-js",[un]:"fire-js-all"},dn=new Map,fn=new Map,pn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(n){Rt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yn(e){const t=e.name;if(pn.has(t))return Rt.debug(`There were multiple attempts to register component ${t}.`),!1;pn.set(t,e);for(const n of dn.values())mn(n,e);for(const n of fn.values())mn(n,e);return!0}function gn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const bn=new Ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new at("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const xn="11.4.0";function _n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:cn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=Ve()),!n)throw bn.create("no-options");const o=dn.get(i);if(o){if(Je(n,o.options)&&Je(r,o.config))return o;throw bn.create("duplicate-app",{appName:i})}const a=new ut(i);for(const l of pn.values())a.addComponent(l);const s=new wn(n,r,a);return dn.set(i,s),s}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;const t=dn.get(e);if(!t&&e===cn&&Ve())return _n();if(!t)throw bn.create("no-app",{appName:e});return t}function En(e,t,n){var r;let i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rt.warn(e.join(" "))}yn(new at(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const kn="firebase-heartbeat-store";let On=null;function Tn(){return On||(On=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Tt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Tt(a.result),e.oldVersion,e.newVersion,Tt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(kn)}catch(n){console.warn(n)}}}).catch((e=>{throw bn.create("idb-open",{originalErrorMessage:e.message})}))),On}async function Cn(e,t){try{const n=(await Tn()).transaction(kn,"readwrite"),r=n.objectStore(kn);await r.put(t,An(e)),await n.done}catch(n){if(n instanceof Qe)Rt.warn(n.message);else{const e=bn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Rt.warn(e.message)}}}function An(e){return`${e.name}!${e.options.appId}`}class Pn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=In();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Rt.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=In(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Nn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Re(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Rt.warn(t),""}}}function In(){return(new Date).toISOString().substring(0,10)}class jn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ge()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ig){t(ig)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tn()).transaction(kn),n=await t.objectStore(kn).get(An(e));return await t.done,n}catch(t){if(t instanceof Qe)Rt.warn(t.message);else{const e=bn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Rt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Nn(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}var Mn;Mn="",yn(new at("platform-logger",(e=>new Nt(e)),"PRIVATE")),yn(new at("heartbeat",(e=>new Pn(e)),"PRIVATE")),En(Mt,Dt,Mn),En(Mt,Dt,"esm2017"),En("fire-js","");var Dn,Rn,Ln="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(s,s);if(h(e))return t=y(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=y(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=g(n),r=g(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);0>=u.l(e)&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(o=a(n)).j(t);h(u)||0<u.l(e);)u=(o=a(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new m(i,e)}function g(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,y=65535&e.i(o);n[2*i+2*o]+=f*y,p(n,2*i+2*o),n[2*i+2*o+1]+=l*y,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Rn=Fn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},Dn=Fn.Integer=r}).apply("undefined"!==typeof Ln?Ln:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Un,Bn,zn,Vn,qn,$n,Hn,Wn,Kn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Gn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Kn&&Kn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return y[" "](e),e}y[" "]=function(){};var g=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new O),(e=>e.reset()));class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(I)}};var I=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(Kb){S(Kb)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function j(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Kb){}return e}();function D(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g){e:{try{y(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,N);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new z(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[$]=null)):B(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;x(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}h(le,j);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ye(){}pe.prototype.h=null;var ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){N.call(this,"d")}function be(){N.call(this,"c")}h(ve,N),h(be,N);var we={},xe=null;function _e(){return xe=xe||new ne}function Se(e){N.call(this,we.La,e)}function Ee(e){const t=_e();re(t,new Se(t))}function ke(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function Oe(e){const t=_e();re(t,new ke(t,e))}function Te(e,t){N.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,N),we.STAT_EVENT="statevent",h(ke,N),we.Ma="timingevent",h(Te,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ie,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}h(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ie=new Me;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var o=0;o<i.length;o++){var a=W(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||sn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),Oe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),qe(s)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||un(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?un(n,7):Gt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ee()}catch(c){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var o=r.length,a=4==$t(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Oe(12),Ke(this),We(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Fe){4==d&&(this.s=4,Oe(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Oe(15),Pe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(h),h.M=!0,Oe(11))}}else Pe(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),We(this)}else Pe(this.i,this.l,s,null),Ge(this,s);4==d&&Ke(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Ke(this),We(this)}}}catch(d){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Oe(17)),Ke(this),this.s=2,We(this)):$e(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?gt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,yt=/[#\?:]/g,gt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function Et(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Tt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,St(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Nt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Vt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Lt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<$t(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){qt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qn){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}cn(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),C||(T(),C=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ct(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),C||(T(),C=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(u(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(u(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=c(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ot(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ot(0,0,!1,t)}))}(r.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),cn(e),Yt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),Zt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new At({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(Yb){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Yb){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Oe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ct(n=at(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},h(yn,ve),h(gn,be),h(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new yn(e))},vn.prototype.sa=function(e){re(this.g,new gn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Wn=Gn.createWebChannelTransport=function(){return new pn},Hn=Gn.getStatEventTarget=function(){return _e()},$n=Gn.Event=we,qn=Gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Vn=Gn.ErrorCode=je,Ne.COMPLETE="complete",zn=Gn.EventType=Ne,ye.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Bn=Gn.WebChannel=ye,Gn.FetchXmlHttpFactory=At,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Un=Gn.XhrIo=Rt}).apply("undefined"!==typeof Kn?Kn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qn="@firebase/firestore",Yn="4.7.9";class Xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");let Jn="11.4.0";const Zn=new yt("@firebase/firestore");function er(){return Zn.logLevel}function tr(e){if(Zn.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ir);Zn.debug(`Firestore (${Jn}): ${e}`,...i)}}function nr(e){if(Zn.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ir);Zn.error(`Firestore (${Jn}): ${e}`,...i)}}function rr(e){if(Zn.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ir);Zn.warn(`Firestore (${Jn}): ${e}`,...i)}}function ir(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function or(){const e=`FIRESTORE (${Jn}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw nr(e),new Error(e)}function ar(e,t){e||or()}function sr(e,t){return e}const lr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ur extends Qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xn.UNAUTHENTICATED)))}shutdown(){}}class fr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pr{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ar(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{tr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(tr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(tr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ar("string"==typeof t.accessToken),new hr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ar(null===e||"string"==typeof e),new Xn(e)}}class mr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new mr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vr{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ar(void 0===this.o);const n=e=>{null!=e.error&&tr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,tr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{tr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):tr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new gr(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ar("string"==typeof e.token),this.R=e.token,new gr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function br(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class wr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=br(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function xr(e,t){return e<t?-1:e>t?1:0}function _r(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Sr=-62135596800,Er=1e6;class kr{static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Er);return new kr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ur(lr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ur(lr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sr)throw new ur(lr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ur(lr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Er}_compareTo(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sr;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Or{static fromTimestamp(e){return new Or(e)}static min(){return new Or(new kr(0,0))}static max(){return new Or(new kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tr="__name__";class Cr{constructor(e,t,n){void 0===t?t=0:t>e.length&&or(),void 0===n?n=e.length-t:n>e.length-t&&or(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Cr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Cr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Cr.isNumericId(e),r=Cr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dn.fromString(e.substring(4,e.length-2))}}class Ar extends Cr{construct(e,t,n){return new Ar(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ur(lr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ar(e)}static emptyPath(){return new Ar([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Cr{construct(e,t,n){return new Ir(e,t,n)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Tr}static keyField(){return new Ir([Tr])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ur(lr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ur(lr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ur(lr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ur(lr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class jr{constructor(e){this.path=e}static fromPath(e){return new jr(Ar.fromString(e))}static fromName(e){return new jr(Ar.fromString(e).popFirst(5))}static empty(){return new jr(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jr(new Ar(e.slice()))}}const Nr=-1;class Mr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Mr.UNKNOWN_ID=-1;function Dr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Or.fromTimestamp(1e9===r?new kr(n+1,0):new kr(n,r));return new Lr(i,jr.empty(),t)}function Rr(e){return new Lr(e.readTime,e.key,Nr)}class Lr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Lr(Or.min(),jr.empty(),Nr)}static max(){return new Lr(Or.max(),jr.empty(),Nr)}}function Fr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=jr.comparator(e.documentKey,t.documentKey),0!==n?n:xr(e.largestBatchId,t.largestBatchId))}const Ur="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Br{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zr(e){if(e.code!==lr.FAILED_PRECONDITION||e.message!==Ur)throw e;tr("LocalStore","Unexpectedly lost primary lease")}class Vr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&or(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Vr?t:Vr.resolve(t)}catch(e){return Vr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Vr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Vr.reject(t)}static resolve(e){return new Vr(((t,n)=>{t(e)}))}static reject(e){return new Vr(((t,n)=>{n(e)}))}static waitFor(e){return new Vr(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Vr.resolve(!1);for(const n of e)t=t.next((e=>e?Vr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Vr(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Vr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function qr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $r(e){return"IndexedDbTransactionError"===e.name}class Hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hr.ae=-1;const Wr=-1;function Kr(e){return null==e}function Gr(e){return 0===e&&1/e==-1/0}function Qr(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Yr="\x01";function Xr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zr(t)),t=Jr(e.get(n),t);return Zr(t)}function Jr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Yr:n+="\x01\x11";break;default:n+=t}}return n}function Zr(e){return e+Yr+"\x01"}const ei="remoteDocuments",ti="owner",ni="mutationQueues",ri="mutations";const ii="documentMutations",oi="remoteDocumentsV14",ai="remoteDocumentGlobal",si="targets",li="targetDocuments",ui="targetGlobal",ci="collectionParents",hi="clientMetadata",di="bundles",fi="namedQueries",pi="indexConfiguration",mi="indexState",yi="indexEntries",gi="documentOverlays",vi="globals",bi=[ni,ri,ii,ei,si,ti,ui,li,hi,ai,ci,di,fi],wi=[ni,ri,ii,oi,si,ti,ui,li,hi,ai,ci,di,fi,gi],xi=wi,_i=[...xi,pi,mi,yi];function Si(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ei(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ki(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Oi{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ti(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ti(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ti(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ti(this.root,e,this.comparator,!0)}}class Ti{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ci.RED,this.left=null!=r?r:Ci.EMPTY,this.right=null!=i?i:Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ci.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw or();if(this.right.isRed())throw or();const e=this.left.check();if(e!==this.right.check())throw or();return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw or()}get value(){throw or()}get color(){throw or()}get left(){throw or()}get right(){throw or()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pi(this.data.getIterator())}getIteratorFrom(e){return new Pi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ai))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ai(this.comparator);return t.data=e,t}}class Pi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ii{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Ii([])}unionWith(e){let t=new Ai(Ir.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _r(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ji extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ji("Invalid base64 string: "+e):e}}(e);return new Ni(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Mi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(e){if(ar(!!e),"string"==typeof e){let t=0;const n=Mi.exec(e);if(ar(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ri(e.seconds),nanos:Ri(e.nanos)}}function Ri(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Li(e){return"string"==typeof e?Ni.fromBase64String(e):Ni.fromUint8Array(e)}const Fi="server_timestamp",Ui="__type__",Bi="__previous_value__",zi="__local_write_time__";function Vi(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ui])||void 0===n?void 0:n.stringValue)===Fi}function qi(e){const t=e.mapValue.fields[Bi];return Vi(t)?qi(t):t}function $i(e){const t=Di(e.mapValue.fields[zi].timestampValue);return new kr(t.seconds,t.nanos)}class Hi{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}const Wi="(default)";class Ki{constructor(e,t){this.projectId=e,this.database=t||Wi}static empty(){return new Ki("","")}get isDefaultDatabase(){return this.database===Wi}isEqual(e){return e instanceof Ki&&e.projectId===this.projectId&&e.database===this.database}}const Gi="__type__",Qi="__max__",Yi={mapValue:{fields:{__type__:{stringValue:Qi}}}},Xi="__vector__",Ji="value";function Zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vi(e)?4:go(e)?9007199254740991:mo(e)?10:11:or()}function eo(e,t){if(e===t)return!0;const n=Zi(e);if(n!==Zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $i(e).isEqual($i(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Di(e.timestampValue),r=Di(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Li(e.bytesValue).isEqual(Li(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ri(e.geoPointValue.latitude)===Ri(t.geoPointValue.latitude)&&Ri(e.geoPointValue.longitude)===Ri(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ri(e.integerValue)===Ri(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ri(e.doubleValue),r=Ri(t.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _r(e.arrayValue.values||[],t.arrayValue.values||[],eo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Si(n)!==Si(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eo(n[i],r[i])))return!1;return!0}(e,t);default:return or()}}function to(e,t){return void 0!==(e.values||[]).find((e=>eo(e,t)))}function no(e,t){if(e===t)return 0;const n=Zi(e),r=Zi(t);if(n!==r)return xr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ri(e.integerValue||e.doubleValue),r=Ri(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ro(e.timestampValue,t.timestampValue);case 4:return ro($i(e),$i(t));case 5:return xr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Li(e),r=Li(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xr(n[i],r[i]);if(0!==e)return e}return xr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xr(Ri(e.latitude),Ri(t.latitude));return 0!==n?n:xr(Ri(e.longitude),Ri(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return io(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Ji])||void 0===n?void 0:n.arrayValue,u=null===(r=s[Ji])||void 0===r?void 0:r.arrayValue,c=xr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:io(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Yi.mapValue&&t===Yi.mapValue)return 0;if(e===Yi.mapValue)return 1;if(t===Yi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=xr(r[a],o[a]);if(0!==e)return e;const t=no(n[r[a]],i[o[a]]);if(0!==t)return t}return xr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw or()}}function ro(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xr(e,t);const n=Di(e),r=Di(t),i=xr(n.seconds,r.seconds);return 0!==i?i:xr(n.nanos,r.nanos)}function io(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=no(n[i],r[i]);if(e)return e}return xr(n.length,r.length)}function oo(e){return ao(e)}function ao(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Di(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Li(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ao(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ao(e.fields[i])}`;return n+"}"}(e.mapValue):or()}function so(e){switch(Zi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qi(e);return t?16+so(t):16;case 5:return 2*e.stringValue.length;case 6:return Li(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+so(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ei(e.fields,((e,n)=>{t+=e.length+so(n)})),t}(e.mapValue);default:throw or()}}function lo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function uo(e){return!!e&&"integerValue"in e}function co(e){return!!e&&"arrayValue"in e}function ho(e){return!!e&&"nullValue"in e}function fo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function po(e){return!!e&&"mapValue"in e}function mo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Gi])||void 0===n?void 0:n.stringValue)===Xi}function yo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ei(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=yo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function go(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Qi}class vo{constructor(e){this.value=e}static empty(){return new vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!po(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yo(t)}setAll(e){let t=Ir.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());po(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];po(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ei(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new vo(yo(this.value))}}function bo(e){const t=[];return Ei(e.fields,((e,n)=>{const r=new Ir([e]);if(po(n)){const e=bo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ii(t)}class wo{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wo(e,0,Or.min(),Or.min(),Or.min(),vo.empty(),0)}static newFoundDocument(e,t,n,r){return new wo(e,1,t,Or.min(),n,r,0)}static newNoDocument(e,t){return new wo(e,2,t,Or.min(),Or.min(),vo.empty(),0)}static newUnknownDocument(e,t){return new wo(e,3,t,Or.min(),Or.min(),vo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Or.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Or.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xo{constructor(e,t){this.position=e,this.inclusive=t}}function _o(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?jr.comparator(jr.fromName(a.referenceValue),n.key):no(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function So(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!eo(e.position[n],t.position[n]))return!1;return!0}class Eo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ko(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Oo{}class To extends Oo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Do(e,t,n):"array-contains"===t?new Uo(e,n):"in"===t?new Bo(e,n):"not-in"===t?new zo(e,n):"array-contains-any"===t?new Vo(e,n):new To(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ro(e,n):new Lo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(no(t,this.value)):null!==t&&Zi(this.value)===Zi(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return or()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Co extends Oo{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Co(e,t)}matches(e){return Ao(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ao(e){return"and"===e.op}function Po(e){return Io(e)&&Ao(e)}function Io(e){for(const t of e.filters)if(t instanceof Co)return!1;return!0}function jo(e){if(e instanceof To)return e.field.canonicalString()+e.op.toString()+oo(e.value);if(Po(e))return e.filters.map((e=>jo(e))).join(",");{const t=e.filters.map((e=>jo(e))).join(",");return`${e.op}(${t})`}}function No(e,t){return e instanceof To?function(e,t){return t instanceof To&&e.op===t.op&&e.field.isEqual(t.field)&&eo(e.value,t.value)}(e,t):e instanceof Co?function(e,t){return t instanceof Co&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&No(n,t.filters[r])),!0)}(e,t):void or()}function Mo(e){return e instanceof To?function(e){return`${e.field.canonicalString()} ${e.op} ${oo(e.value)}`}(e):e instanceof Co?function(e){return e.op.toString()+" {"+e.getFilters().map(Mo).join(" ,")+"}"}(e):"Filter"}class Do extends To{constructor(e,t,n){super(e,t,n),this.key=jr.fromName(n.referenceValue)}matches(e){const t=jr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ro extends To{constructor(e,t){super(e,"in",t),this.keys=Fo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Lo extends To{constructor(e,t){super(e,"not-in",t),this.keys=Fo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>jr.fromName(e.referenceValue)))}class Uo extends To{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return co(t)&&to(t.arrayValue,this.value)}}class Bo extends To{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&to(this.value.arrayValue,t)}}class zo extends To{constructor(e,t){super(e,"not-in",t)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!to(this.value.arrayValue,t)}}class Vo extends To{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!co(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>to(this.value.arrayValue,e)))}}class qo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function $o(e){return new qo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ho(e){const t=sr(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Kr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>oo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>oo(e))).join(",")),t.le=e}return t.le}function Wo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ko(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!No(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!So(e.startAt,t.startAt)&&So(e.endAt,t.endAt)}function Ko(e){return jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Go{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Qo(e,t,n,r,i,o,a,s){return new Go(e,t,n,r,i,o,a,s)}function Yo(e){return new Go(e)}function Xo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jo(e){return null!==e.collectionGroup}function Zo(e){const t=sr(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ai(Ir.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Eo(r,n))})),e.has(Ir.keyField().canonicalString())||t.he.push(new Eo(Ir.keyField(),n))}return t.he}function ea(e){const t=sr(e);return t.Pe||(t.Pe=ta(t,Zo(e))),t.Pe}function ta(e,t){if("F"===e.limitType)return $o(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Eo(e.field,t)}));const n=e.endAt?new xo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xo(e.startAt.position,e.startAt.inclusive):null;return $o(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function na(e,t){const n=e.filters.concat([t]);return new Go(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ra(e,t,n){return new Go(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ia(e,t){return Wo(ea(e),ea(t))&&e.limitType===t.limitType}function oa(e){return`${Ho(ea(e))}|lt:${e.limitType}`}function aa(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Mo(e))).join(", ")}]`),Kr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>oo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>oo(e))).join(",")),`Target(${t})`}(ea(e))}; limitType=${e.limitType})`}function sa(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Zo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_o(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zo(e),t))&&!(e.endAt&&!function(e,t,n){const r=_o(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zo(e),t))}(e,t)}function la(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ua(e){return(t,n)=>{let r=!1;for(const i of Zo(e)){const e=ca(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ca(e,t,n){const r=e.field.isKeyField()?jr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?no(r,i):or()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return or()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ki(this.inner)}size(){return this.innerSize}}const da=new Oi(jr.comparator);function fa(){return da}const pa=new Oi(jr.comparator);function ma(){let e=pa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ya(e){let t=pa;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ga(){return ba()}function va(){return ba()}function ba(){return new ha((e=>e.toString()),((e,t)=>e.isEqual(t)))}const wa=new Oi(jr.comparator),xa=new Ai(jr.comparator);function _a(){let e=xa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Sa=new Ai(xr);function Ea(){return Sa}function ka(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}function Oa(e){return{integerValue:""+e}}function Ta(e,t){return Qr(t)?Oa(t):ka(e,t)}class Ca{constructor(){this._=void 0}}function Aa(e,t,n){return e instanceof ja?function(e,t){const n={fields:{[Ui]:{stringValue:Fi},[zi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vi(t)&&(t=qi(t)),t&&(n.fields[Bi]=t),{mapValue:n}}(n,t):e instanceof Na?Ma(e,t):e instanceof Da?Ra(e,t):function(e,t){const n=Ia(e,t),r=Fa(n)+Fa(e.Ie);return uo(n)&&uo(e.Ie)?Oa(r):ka(e.serializer,r)}(e,t)}function Pa(e,t,n){return e instanceof Na?Ma(e,t):e instanceof Da?Ra(e,t):n}function Ia(e,t){return e instanceof La?function(e){return uo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ja extends Ca{}class Na extends Ca{constructor(e){super(),this.elements=e}}function Ma(e,t){const n=Ua(t);for(const r of e.elements)n.some((e=>eo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Da extends Ca{constructor(e){super(),this.elements=e}}function Ra(e,t){let n=Ua(t);for(const r of e.elements)n=n.filter((e=>!eo(e,r)));return{arrayValue:{values:n}}}class La extends Ca{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Fa(e){return Ri(e.integerValue||e.doubleValue)}function Ua(e){return co(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ba{constructor(e,t){this.field=e,this.transform=t}}class za{constructor(e,t){this.version=e,this.transformResults=t}}class Va{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Va}static exists(e){return new Va(void 0,e)}static updateTime(e){return new Va(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $a{}function Ha(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ts(e.key,Va.none()):new Ya(e.key,e.data,Va.none());{const n=e.data,r=vo.empty();let i=new Ai(Ir.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Xa(e.key,r,new Ii(i.toArray()),Va.none())}}function Wa(e,t,n){e instanceof Ya?function(e,t,n){const r=e.value.clone(),i=Za(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xa?function(e,t,n){if(!qa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Za(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ja(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ka(e,t,n,r){return e instanceof Ya?function(e,t,n,r){if(!qa(e.precondition,t))return n;const i=e.value.clone(),o=es(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xa?function(e,t,n,r){if(!qa(e.precondition,t))return n;const i=es(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ja(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return qa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ga(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ia(r.transform,e||null);null!=i&&(null===n&&(n=vo.empty()),n.set(r.field,i))}return n||null}function Qa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_r(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Na&&t instanceof Na||e instanceof Da&&t instanceof Da?_r(e.elements,t.elements,eo):e instanceof La&&t instanceof La?eo(e.Ie,t.Ie):e instanceof ja&&t instanceof ja}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ya extends $a{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xa extends $a{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ja(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Za(e,t,n){const r=new Map;ar(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Pa(a,s,n[i]))}return r}function es(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Aa(e,o,t))}return r}class ts extends $a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ns extends $a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rs{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Wa(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ka(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ka(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=va();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Ha(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Or.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_a())}isEqual(e){return this.batchId===e.batchId&&_r(this.mutations,e.mutations,((e,t)=>Qa(e,t)))&&_r(this.baseMutations,e.baseMutations,((e,t)=>Qa(e,t)))}}class is{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ar(e.mutations.length===n.length);let r=wa;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new is(e,t,n,r)}}class os{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class as{constructor(e,t){this.count=e,this.unchangedNames=t}}var ss,ls;function us(e){switch(e){case lr.OK:return or();case lr.CANCELLED:case lr.UNKNOWN:case lr.DEADLINE_EXCEEDED:case lr.RESOURCE_EXHAUSTED:case lr.INTERNAL:case lr.UNAVAILABLE:case lr.UNAUTHENTICATED:return!1;case lr.INVALID_ARGUMENT:case lr.NOT_FOUND:case lr.ALREADY_EXISTS:case lr.PERMISSION_DENIED:case lr.FAILED_PRECONDITION:case lr.ABORTED:case lr.OUT_OF_RANGE:case lr.UNIMPLEMENTED:case lr.DATA_LOSS:return!0;default:return or()}}function cs(e){if(void 0===e)return nr("GRPC error has no .code"),lr.UNKNOWN;switch(e){case ss.OK:return lr.OK;case ss.CANCELLED:return lr.CANCELLED;case ss.UNKNOWN:return lr.UNKNOWN;case ss.DEADLINE_EXCEEDED:return lr.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return lr.RESOURCE_EXHAUSTED;case ss.INTERNAL:return lr.INTERNAL;case ss.UNAVAILABLE:return lr.UNAVAILABLE;case ss.UNAUTHENTICATED:return lr.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return lr.INVALID_ARGUMENT;case ss.NOT_FOUND:return lr.NOT_FOUND;case ss.ALREADY_EXISTS:return lr.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return lr.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return lr.FAILED_PRECONDITION;case ss.ABORTED:return lr.ABORTED;case ss.OUT_OF_RANGE:return lr.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return lr.UNIMPLEMENTED;case ss.DATA_LOSS:return lr.DATA_LOSS;default:return or()}}(ls=ss||(ss={}))[ls.OK=0]="OK",ls[ls.CANCELLED=1]="CANCELLED",ls[ls.UNKNOWN=2]="UNKNOWN",ls[ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ls[ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ls[ls.NOT_FOUND=5]="NOT_FOUND",ls[ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",ls[ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",ls[ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",ls[ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ls[ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ls[ls.ABORTED=10]="ABORTED",ls[ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",ls[ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",ls[ls.INTERNAL=13]="INTERNAL",ls[ls.UNAVAILABLE=14]="UNAVAILABLE",ls[ls.DATA_LOSS=15]="DATA_LOSS";let hs=null;function ds(){return new TextEncoder}const fs=new Dn([4294967295,4294967295],0);function ps(e){const t=ds().encode(e),n=new Rn;return n.update(t),new Uint8Array(n.digest())}function ms(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Dn([n,r],0),new Dn([i,o],0)]}class ys{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gs(`Invalid padding: ${t}`);if(n<0)throw new gs(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new gs(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new gs(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Dn.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Dn.fromNumber(n)));return 1===r.compare(fs)&&(r=new Dn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=ps(e),[n,r]=ms(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ys(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=ps(e),[n,r]=ms(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bs.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vs(Or.min(),r,new Oi(xr),fa(),_a())}}class bs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bs(n,t,_a(),_a(),_a())}}class ws{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class xs{constructor(e,t){this.targetId=e,this.ge=t}}class _s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ss{constructor(){this.pe=0,this.ye=Os(),this.we=Ni.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=_a(),t=_a(),n=_a();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:or()}})),new bs(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=Os()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ar(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Es{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fa(),this.$e=ks(),this.Ke=ks(),this.Ue=new Oi(xr)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:or()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Ko(i))if(0===n){const e=new jr(i.path);this.ze(t,e,wo.newNoDocument(e,Or.min()))}else ar(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==hs||hs.rt(function(e,t,n,r,i){var o,a,s,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Li(n).toUint8Array()}catch(e){if(e instanceof ji)return rr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ys(o,r,i)}catch(e){return rr(e instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Ko(i.target)){const t=new jr(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,wo.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=_a();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new vs(e,t,this.Ue,this.Qe,n);return this.Qe=fa(),this.$e=ks(),this.Ke=ks(),this.Ue=new Oi(xr),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ss,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ai(xr),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ai(xr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||tr("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ss),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ks(){return new Oi(jr.comparator)}function Os(){return new Oi(jr.comparator)}const Ts={asc:"ASCENDING",desc:"DESCENDING"},Cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},As={and:"AND",or:"OR"};class Ps{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Is(e,t){return e.useProto3Json||Kr(t)?t:{value:t}}function js(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ns(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ms(e,t){return js(e,t.toTimestamp())}function Ds(e){return ar(!!e),Or.fromTimestamp(function(e){const t=Di(e);return new kr(t.seconds,t.nanos)}(e))}function Rs(e,t){return Ls(e,t).canonicalString()}function Ls(e,t){const n=function(e){return new Ar(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Fs(e){const t=Ar.fromString(e);return ar(il(t)),t}function Us(e,t){return Rs(e.databaseId,t.path)}function Bs(e,t){const n=Fs(t);if(n.get(1)!==e.databaseId.projectId)throw new ur(lr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ur(lr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jr($s(n))}function zs(e,t){return Rs(e.databaseId,t)}function Vs(e){const t=Fs(e);return 4===t.length?Ar.emptyPath():$s(t)}function qs(e){return new Ar(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $s(e){return ar(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hs(e,t,n){return{name:Us(e,t),fields:n.value.mapValue.fields}}function Ws(e,t){let n;if(t instanceof Ya)n={update:Hs(e,t.key,t.value)};else if(t instanceof ts)n={delete:Us(e,t.key)};else if(t instanceof Xa)n={update:Hs(e,t.key,t.data),updateMask:rl(t.fieldMask)};else{if(!(t instanceof ns))return or();n={verify:Us(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ja)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Na)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Da)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof La)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw or()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ms(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:or()}(e,t.precondition)),n}function Ks(e,t){return{documents:[zs(e,t.path)]}}function Gs(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zs(e,i);const o=function(e){if(0!==e.length)return nl(Co.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:el(e.field),direction:Xs(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Is(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Qs(e){let t=Vs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ar(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ys(e);return t instanceof Co&&Po(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Eo(tl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Kr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xo(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new xo(n,t)}(n.endAt)),Qo(t,i,a,o,s,"F",l,u)}function Ys(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tl(e.unaryFilter.field);return To.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=tl(e.unaryFilter.field);return To.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tl(e.unaryFilter.field);return To.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tl(e.unaryFilter.field);return To.create(i,"!=",{nullValue:"NULL_VALUE"});default:return or()}}(e):void 0!==e.fieldFilter?function(e){return To.create(tl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return or()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Co.create(e.compositeFilter.filters.map((e=>Ys(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return or()}}(e.compositeFilter.op))}(e):or()}function Xs(e){return Ts[e]}function Js(e){return Cs[e]}function Zs(e){return As[e]}function el(e){return{fieldPath:e.canonicalString()}}function tl(e){return Ir.fromServerFormat(e.fieldPath)}function nl(e){return e instanceof To?function(e){if("=="===e.op){if(fo(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NAN"}};if(ho(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fo(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NOT_NAN"}};if(ho(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(e.field),op:Js(e.op),value:e.value}}}(e):e instanceof Co?function(e){const t=e.getFilters().map((e=>nl(e)));return 1===t.length?t[0]:{compositeFilter:{op:Zs(e.op),filters:t}}}(e):or()}function rl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function il(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ol{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Or.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Or.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ni.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class al{constructor(e){this.Tt=e}}function sl(e){const t=Qs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ra(t,t.limit,"L"):t}class ll{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Ri(e.integerValue));else if("doubleValue"in e){const n=Ri(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Gr(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Di(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Li(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?go(e)?this.ft(t,Number.MAX_SAFE_INTEGER):mo(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):or()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=Ji,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Ri(a)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),jr.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}ll.xt=new ll;class ul{constructor(){this.Tn=new cl}addToCollectionParentIndex(e,t){return this.Tn.add(t),Vr.resolve()}getCollectionParents(e,t){return Vr.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Vr.resolve()}deleteFieldIndex(e,t){return Vr.resolve()}deleteAllFieldIndexes(e){return Vr.resolve()}createTargetIndexes(e,t){return Vr.resolve()}getDocumentsMatchingTarget(e,t){return Vr.resolve(null)}getIndexType(e,t){return Vr.resolve(0)}getFieldIndexes(e,t){return Vr.resolve([])}getNextCollectionGroupToUpdate(e){return Vr.resolve(null)}getMinOffset(e,t){return Vr.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return Vr.resolve(Lr.min())}updateCollectionGroup(e,t,n){return Vr.resolve()}updateIndexEntries(e,t){return Vr.resolve()}}class cl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ai(Ar.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ai(Ar.comparator)).toArray()}}new Uint8Array(0);const hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dl=41943040;class fl{static withCacheSize(e){return new fl(e,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}fl.DEFAULT_COLLECTION_PERCENTILE=10,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fl.DEFAULT=new fl(dl,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fl.DISABLED=new fl(-1,0,0);class pl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new pl(0)}static Un(){return new pl(-1)}}const ml="LruGarbageCollector",yl=1048576;function gl(e,t){let[n,r]=e,[i,o]=t;const a=xr(n,i);return 0===a?xr(r,o):a}class vl{constructor(e){this.Hn=e,this.buffer=new Ai(gl),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();gl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){tr(ml,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$r(e)?tr(ml,"Ignoring IndexedDB error during garbage collection: ",e):await zr(e)}await this.er(3e5)}))}}class wl{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Vr.resolve(Hr.ae);const n=new vl(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tr("LruGarbageCollector","Garbage collection skipped; disabled"),Vr.resolve(hl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(tr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hl):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,a,s,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(tr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),er()<=ht.DEBUG&&tr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-u}ms`),Vr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function xl(e,t){return new wl(e,t)}class _l{constructor(){this.changes=new ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class El{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ka(n.mutation,e,Ii.empty(),kr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_a()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_a();const r=ga();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ma();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ga();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_a())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=fa();const o=ba(),a=ba();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Xa)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Ka(a.mutation,t,a.mutation.getFieldMask(),kr.now())):o.set(t.key,Ii.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Sl(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ba();let r=new Oi(((e,t)=>e-t)),i=_a();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Ii.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||_a()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,u=va();l.forEach((e=>{if(!i.has(e)){const r=Ha(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Vr.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Vr.resolve(ga());let a=Nr,s=i;return o.next((t=>Vr.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Vr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,_a()))).next((e=>({batchId:a,changes:ya(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jr(t)).next((e=>{let t=ma();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ma();return this.indexManager.getCollectionParents(e,i).next((a=>Vr.forEach(a,(a=>{const s=function(e,t){return new Go(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wo.newInvalidDocument(r)))}));let n=ma();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Ka(o.mutation,r,Ii.empty(),kr.now()),sa(t,r)&&(n=n.insert(e,r))})),n}))}}class kl{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Vr.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ds(e.createTime)}}(t)),Vr.resolve()}getNamedQuery(e,t){return Vr.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:sl(e.bundledQuery),readTime:Ds(e.readTime)}}(t)),Vr.resolve()}}class Ol{constructor(){this.overlays=new Oi(jr.comparator),this.Rr=new Map}getOverlay(e,t){return Vr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ga();return Vr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Vr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Vr.resolve()}getOverlaysForCollection(e,t,n){const r=ga(),i=t.length+1,o=new jr(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Oi(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ga(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ga(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Vr.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new os(t,n));let i=this.Rr.get(t);void 0===i&&(i=_a(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Tl{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(e){return Vr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Vr.resolve()}}class Cl{constructor(){this.Vr=new Ai(Al.mr),this.gr=new Ai(Al.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Al(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Al(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new jr(new Ar([])),n=new Al(t,e),r=new Al(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new jr(new Ar([])),n=new Al(t,e),r=new Al(t,e+1);let i=_a();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Al(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Al{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return jr.comparator(e.key,t.key)||xr(e.Cr,t.Cr)}static pr(e,t){return xr(e.Cr,t.Cr)||jr.comparator(e.key,t.key)}}class Pl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ai(Al.mr)}checkEmpty(e){return Vr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rs(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Al(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Vr.resolve(o)}lookupMutationBatch(e,t){return Vr.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Vr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Vr.resolve(0===this.mutationQueue.length?Wr:this.Fr-1)}getAllMutationBatches(e){return Vr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Al(t,0),r=new Al(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Vr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ai(xr);return t.forEach((e=>{const t=new Al(e,0),r=new Al(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Vr.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;jr.isDocumentKey(i)||(i=i.child(""));const o=new Al(new jr(i),0);let a=new Ai(xr);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),o),Vr.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ar(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Vr.forEach(t.mutations,(r=>{const i=new Al(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Al(t,0),r=this.Mr.firstAfterOrEqual(n);return Vr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vr.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Il{constructor(e){this.kr=e,this.docs=new Oi(jr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vr.resolve(n?n.document.mutableCopy():wo.newInvalidDocument(t))}getEntries(e,t){let n=fa();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wo.newInvalidDocument(e))})),Vr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=fa();const o=t.path,a=new jr(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Fr(Rr(a),n)<=0||(r.has(a.key)||sa(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Vr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){or()}qr(e,t){return Vr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jl(this)}getSize(e){return Vr.resolve(this.size)}}class jl extends _l{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Vr.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Nl{constructor(e){this.persistence=e,this.Qr=new ha((e=>Ho(e)),Wo),this.lastRemoteSnapshotVersion=Or.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Cl,this.targetCount=0,this.Ur=pl.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Vr.resolve()}getLastRemoteSnapshotVersion(e){return Vr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vr.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Vr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Vr.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Vr.resolve()}updateTargetData(e,t){return this.zn(t),Vr.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Vr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Vr.waitFor(i).next((()=>r))}getTargetCount(e){return Vr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Vr.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),Vr.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Vr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Vr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return Vr.resolve(n)}containsKey(e,t){return Vr.resolve(this.Kr.containsKey(t))}}class Ml{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Hr(0),this.zr=!1,this.zr=!0,this.jr=new Tl,this.referenceDelegate=e(this),this.Hr=new Nl(this),this.indexManager=new ul,this.remoteDocumentCache=function(e){return new Il(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new al(t),this.Yr=new kl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ol,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Pl(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){tr("MemoryPersistence","Starting transaction:",e);const r=new Dl(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Vr.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Dl extends Br{constructor(e){super(),this.currentSequenceNumber=e}}class Rl{constructor(e){this.persistence=e,this.ti=new Cl,this.ni=null}static ri(e){return new Rl(e)}get ii(){if(this.ni)return this.ni;throw or()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Vr.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Vr.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Vr.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vr.forEach(this.ii,(n=>{const r=jr.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Or.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Vr.or([()=>Vr.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ll{constructor(e,t){this.persistence=e,this.oi=new ha((e=>Xr(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=xl(this,t)}static ri(e,t){return new Ll(e,t)}Zr(){}Xr(e){return Vr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Vr.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Vr.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Or.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Vr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Vr.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Vr.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Vr.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=so(e.data.value)),t}ar(e,t,n){return Vr.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Vr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=_a(),r=_a();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fl(e,t.fromCache,n,r)}}class Ul{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bl{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Ke()?8:qr(We())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ul;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(er()<=ht.DEBUG&&tr("QueryEngine","SDK will not create cache indexes for query:",aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Vr.resolve()):(er()<=ht.DEBUG&&tr("QueryEngine","Query:",aa(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(er()<=ht.DEBUG&&tr("QueryEngine","The SDK decides to create cache indexes for query:",aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(t))):Vr.resolve())}rs(e,t){if(Xo(t))return Vr.resolve(null);let n=ea(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ra(t,null,"F"),n=ea(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_a(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,ra(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return Xo(t)||r.isEqual(Or.min())?Vr.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?Vr.resolve(null):(er()<=ht.DEBUG&&tr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aa(t)),this.hs(e,o,t,Dr(r,Nr)).next((e=>e)))}))}cs(e,t){let n=new Ai(ua(e));return t.forEach(((t,r)=>{sa(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return er()<=ht.DEBUG&&tr("QueryEngine","Using full collection scan to execute query:",aa(t)),this.ns.getDocumentsMatchingQuery(e,t,Lr.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const zl="LocalStore";class Vl{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Oi(xr),this.Is=new ha((e=>Ho(e)),Wo),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new El(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function ql(e,t,n,r){return new Vl(e,t,n,r)}async function $l(e,t){const n=sr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=_a();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Hl(e){const t=sr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Wl(e,t,n){let r=_a(),i=_a();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=fa();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Or.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):tr(zl,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function Kl(e,t){const n=sr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Wr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Gl(e,t){const n=sr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Vr.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new ol(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Ql(e,t,n){const r=sr(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$r(e))throw e;tr(zl,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Yl(e,t,n){const r=sr(e);let i=Or.min(),o=_a();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=sr(e),i=r.Is.get(n);return void 0!==i?Vr.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,ea(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Or.min(),n?o:_a()))).next((e=>(Xl(r,la(t),e),{documents:e,gs:o})))))}function Xl(e,t,n){let r=e.Es.get(t)||Or.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Jl{constructor(){this.activeTargetIds=Ea()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zl{constructor(){this.ho=new Jl,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Jl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eu{To(e){}shutdown(){}}const tu="ConnectivityMonitor";class nu{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){tr(tu,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){tr(tu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ru=null;function iu(){return null===ru?ru=268435456+Math.round(2147483648*Math.random()):ru++,"0x"+ru.toString(16)}const ou="RestConnection",au={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class su{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Wi?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const o=iu(),a=this.So(e,t.toUriEncodedString());tr(ou,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,a,s,n).then((t=>(tr(ou,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw rr(ou,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=au[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class lu{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const uu="WebChannelConnection";class cu extends su{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=iu();return new Promise(((o,a)=>{const s=new Un;s.setWithCredentials(!0),s.listenOnce(zn.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Vn.NO_ERROR:const t=s.getResponseJson();tr(uu,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Vn.TIMEOUT:tr(uu,`RPC '${e}' ${i} timed out`),a(new ur(lr.DEADLINE_EXCEEDED,"Request time out"));break;case Vn.HTTP_ERROR:const n=s.getStatus();if(tr(uu,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(lr).indexOf(t)>=0?t:lr.UNKNOWN}(t.status);a(new ur(e,t.message))}else a(new ur(lr.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new ur(lr.UNAVAILABLE,"Connection failed."));break;default:or()}}finally{tr(uu,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);tr(uu,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=iu(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wn(),a=Hn(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=i.join("");tr(uu,`Creating RPC '${e}' stream ${r}: ${u}`,s);const c=o.createWebChannel(u,s);let h=!1,d=!1;const f=new lu({Fo:t=>{d?tr(uu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(tr(uu,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),tr(uu,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Mo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Bn.EventType.OPEN,(()=>{d||(tr(uu,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(c,Bn.EventType.CLOSE,(()=>{d||(d=!0,tr(uu,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(c,Bn.EventType.ERROR,(t=>{d||(d=!0,rr(uu,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new ur(lr.UNAVAILABLE,"The operation could not be completed")))})),p(c,Bn.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ar(!!i);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){tr(uu,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=ss[e];if(void 0!==t)return cs(t)}(t),i=a.message;void 0===n&&(n=lr.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Ko(new ur(n,i)),c.close()}else tr(uu,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,$n.STAT_EVENT,(t=>{t.stat===qn.PROXY?tr(uu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qn.NOPROXY&&tr(uu,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function hu(){return"undefined"!=typeof document?document:null}function du(e){return new Ps(e,!0)}class fu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&tr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const pu="PersistentStream";class mu{constructor(e,t,n,r,i,o,a,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fu(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===lr.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===lr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new ur(lr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return tr(pu,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(tr(pu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yu extends mu{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:or()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ar(void 0===t||"string"==typeof t),Ni.fromBase64String(t||"")):(ar(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ni.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?lr.UNKNOWN:cs(e.code);return new ur(t,e.message||"")}(a);n=new _s(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bs(e,r.document.name),o=Ds(r.document.updateTime),a=r.document.createTime?Ds(r.document.createTime):Or.min(),s=new vo({mapValue:{fields:r.document.fields}}),l=wo.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ws(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Bs(e,r.document),o=r.readTime?Ds(r.readTime):Or.min(),a=wo.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ws([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Bs(e,r.document),o=r.removedTargetIds||[];n=new ws([],o,i,null)}else{if(!("filter"in t))return or();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new as(r,i),a=e.targetId;n=new xs(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Or.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Or.min():t.readTime?Ds(t.readTime):Or.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=qs(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ko(r)?{documents:Ks(e,r)}:{query:Gs(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ns(e,t.resumeToken);const r=Is(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Or.min())>0){n.readTime=js(e,t.snapshotVersion.toTimestamp());const r=Is(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return or()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=qs(this.serializer),t.removeTarget=e,this.I_(t)}}class gu extends mu{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ar(!!e.streamToken),this.lastStreamToken=e.streamToken,ar(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ar(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ds(e.updateTime):Ds(t);return n.isEqual(Or.min())&&(n=Ds(t)),new za(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ds(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=qs(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ws(this.serializer,e)))};this.I_(t)}}class vu{}class bu extends vu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ur(lr.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.bo(e,Ls(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ur(lr.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Co(e,Ls(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ur(lr.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class wu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(t),this.N_=!1):tr("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const xu="RemoteStore";class _u{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Iu(this)&&(tr(xu,"Restarting streams for network reachability change."),await async function(e){const t=sr(e);t.W_.add(4),await Eu(t),t.j_.set("Unknown"),t.W_.delete(4),await Su(t)}(this))}))})),this.j_=new wu(n,r)}}async function Su(e){if(Iu(e))for(const t of e.G_)await t(!0)}async function Eu(e){for(const t of e.G_)await t(!1)}function ku(e,t){const n=sr(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Pu(n)?Au(n):Yu(n).c_()&&Tu(n,t))}function Ou(e,t){const n=sr(e),r=Yu(n);n.U_.delete(t),r.c_()&&Cu(n,t),0===n.U_.size&&(r.c_()?r.P_():Iu(n)&&n.j_.set("Unknown"))}function Tu(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Or.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yu(e).y_(t)}function Cu(e,t){e.H_.Ne(t),Yu(e).w_(t)}function Au(e){e.H_=new Es({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Yu(e).start(),e.j_.B_()}function Pu(e){return Iu(e)&&!Yu(e).u_()&&e.U_.size>0}function Iu(e){return 0===sr(e).W_.size}function ju(e){e.H_=void 0}async function Nu(e){e.j_.set("Online")}async function Mu(e){e.U_.forEach(((t,n)=>{Tu(e,t)}))}async function Du(e,t){ju(e),Pu(e)?(e.j_.q_(t),Au(e)):e.j_.set("Unknown")}async function Ru(e,t,n){if(e.j_.set("Online"),t instanceof _s&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){tr(xu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lu(e,n)}else if(t instanceof ws?e.H_.We(t):t instanceof xs?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Or.min()))try{const t=await Hl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Ni.EMPTY_BYTE_STRING,r.snapshotVersion)),Cu(e,t);const i=new ol(r.target,t,n,r.sequenceNumber);Tu(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tr(xu,"Failed to raise snapshot:",t),await Lu(e,t)}}async function Lu(e,t,n){if(!$r(t))throw t;e.W_.add(1),await Eu(e),e.j_.set("Offline"),n||(n=()=>Hl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{tr(xu,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Su(e)}))}function Fu(e,t){return t().catch((n=>Lu(e,n,t)))}async function Uu(e){const t=sr(e),n=Xu(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Wr;for(;Bu(t);)try{const e=await Kl(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,zu(t,e)}catch(e){await Lu(t,e)}Vu(t)&&qu(t)}function Bu(e){return Iu(e)&&e.K_.length<10}function zu(e,t){e.K_.push(t);const n=Xu(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Vu(e){return Iu(e)&&!Xu(e).u_()&&e.K_.length>0}function qu(e){Xu(e).start()}async function $u(e){Xu(e).C_()}async function Hu(e){const t=Xu(e);for(const n of e.K_)t.S_(n.mutations)}async function Wu(e,t,n){const r=e.K_.shift(),i=is.from(r,t,n);await Fu(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Uu(e)}async function Ku(e,t){t&&Xu(e).b_&&await async function(e,t){if(function(e){return us(e)&&e!==lr.ABORTED}(t.code)){const n=e.K_.shift();Xu(e).h_(),await Fu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Uu(e)}}(e,t),Vu(e)&&qu(e)}async function Gu(e,t){const n=sr(e);n.asyncQueue.verifyOperationInProgress(),tr(xu,"RemoteStore received new credentials");const r=Iu(n);n.W_.add(3),await Eu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Su(n)}async function Qu(e,t){const n=sr(e);t?(n.W_.delete(2),await Su(n)):t||(n.W_.add(2),await Eu(n),n.j_.set("Unknown"))}function Yu(e){return e.J_||(e.J_=function(e,t,n){const r=sr(e);return r.M_(),new yu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Nu.bind(null,e),No:Mu.bind(null,e),Lo:Du.bind(null,e),p_:Ru.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Pu(e)?Au(e):e.j_.set("Unknown")):(await e.J_.stop(),ju(e))}))),e.J_}function Xu(e){return e.Y_||(e.Y_=function(e,t,n){const r=sr(e);return r.M_(),new gu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:$u.bind(null,e),Lo:Ku.bind(null,e),D_:Hu.bind(null,e),v_:Wu.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Uu(e)):(await e.Y_.stop(),e.K_.length>0&&(tr(xu,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Ju{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Ju(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ur(lr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zu(e,t){if(nr("AsyncQueue",`${t}: ${e}`),$r(e))return new ur(lr.UNAVAILABLE,`${t}: ${e}`);throw e}class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||jr.comparator(t.key,n.key):(e,t)=>jr.comparator(e.key,t.key),this.keyedMap=ma(),this.sortedSet=new Oi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ec))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ec;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tc{constructor(){this.Z_=new Oi(jr.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):or():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nc{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new nc(e,t,ec.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ia(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rc{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class ic{constructor(){this.queries=oc(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=sr(e),r=n.queries;n.queries=oc(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new ur(lr.ABORTED,"Firestore shutting down"))}}function oc(){return new ha((e=>oa(e)),ia)}async function ac(e,t){const n=sr(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new rc,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zu(e,`Initialization of query '${aa(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&cc(n)}async function sc(e,t){const n=sr(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lc(e,t){const n=sr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&cc(n)}function uc(e,t,n){const r=sr(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function cc(e){e.ia.forEach((e=>{e.next()}))}var hc,dc;(dc=hc||(hc={}))._a="default",dc.Cache="cache";class fc{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hc.Cache}}class pc{constructor(e){this.key=e}}class mc{constructor(e){this.key=e}}class yc{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_a(),this.mutatedKeys=_a(),this.ya=ua(e),this.wa=new ec(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new tc,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=sa(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.va(u,c)||(n.track({type:2,doc:c}),f=!0,(s&&this.ya(c,s)>0||l&&this.ya(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(s||l)&&(a=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return or()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==o.length||l?{snapshot:new nc(this.query,e.wa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tc,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=_a(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new mc(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new pc(n))})),t}Oa(e){this.fa=e.gs,this.pa=_a();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return nc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const gc="SyncEngine";class vc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bc{constructor(e){this.key=e,this.Ba=!1}}class wc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ha((e=>oa(e)),ia),this.qa=new Map,this.Qa=new Set,this.$a=new Oi(jr.comparator),this.Ka=new Map,this.Ua=new Cl,this.Wa={},this.Ga=new Map,this.za=pl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function xc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Vc(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Sc(r,t,n,!0),i}async function _c(e,t){const n=Vc(e);await Sc(n,t,!0,!1)}async function Sc(e,t,n,r){const i=await Gl(e.localStore,ea(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Ec(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ku(e.remoteStore,i),s}async function Ec(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await Yl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Rc(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const o=await Yl(e.localStore,t,!0),a=new yc(t,o.gs),s=a.Sa(o.documents),l=bs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,l);Rc(e,n,u.Ma);const c=new vc(t,n,a);return e.ka.set(t,c),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function kc(e,t,n){const r=sr(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!ia(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ql(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ou(r.remoteStore,i.targetId),Mc(r,i.targetId)})).catch(zr)):(Mc(r,i.targetId),await Ql(r.localStore,i.targetId,!0))}async function Oc(e,t){const n=sr(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ou(n.remoteStore,r.targetId))}async function Tc(e,t){const n=sr(e);try{const e=await function(e,t){const n=sr(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,s))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(Ni.EMPTY_BYTE_STRING,Or.min()).withLastLimboFreeSnapshotVersion(Or.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&a.push(n.Hr.updateTargetData(e,u))}));let s=fa(),l=_a();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Wl(e,o,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(Or.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Vr.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(ar(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ar(r.Ba):e.removedDocuments.size>0&&(ar(r.Ba),r.Ba=!1))})),await Uc(n,e,t)}catch(e){await zr(e)}}function Cc(e,t,n){const r=sr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=sr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&cc(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ac(e,t,n){const r=sr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),o=i&&i.key;if(o){let e=new Oi(jr.comparator);e=e.insert(o,wo.newNoDocument(o,Or.min()));const n=_a().add(o),i=new vs(Or.min(),new Map,new Oi(xr),e,n);await Tc(r,i),r.$a=r.$a.remove(o),r.Ka.delete(t),Fc(r)}else await Ql(r.localStore,t,!1).then((()=>Mc(r,t,n))).catch(zr)}async function Pc(e,t){const n=sr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=sr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Vr.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ar(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_a();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Nc(n,r,null),jc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,e)}catch(e){await zr(e)}}async function Ic(e,t,n){const r=sr(e);try{const e=await function(e,t){const n=sr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ar(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Nc(r,t,n),jc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Uc(r,e)}catch(n){await zr(n)}}function jc(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Nc(e,t,n){const r=sr(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Mc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||Dc(e,t)}))}function Dc(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Ou(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Fc(e))}function Rc(e,t,n){for(const r of n)r instanceof pc?(e.Ua.addReference(r.key,t),Lc(e,r)):r instanceof mc?(tr(gc,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Dc(e,r.key)):or()}function Lc(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(tr(gc,"New document in limbo: "+n),e.Qa.add(r),Fc(e))}function Fc(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new jr(Ar.fromString(t)),r=e.za.next();e.Ka.set(r,new bc(n)),e.$a=e.$a.insert(n,r),ku(e.remoteStore,new ol(ea(Yo(n.path)),r,"TargetPurposeLimboResolution",Hr.ae))}}async function Uc(e,t,n){const r=sr(e),i=[],o=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{a.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Fl.Yi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=sr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Vr.forEach(t,(t=>Vr.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Vr.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$r(e))throw e;tr(zl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function Bc(e,t){const n=sr(e);if(!n.currentUser.isEqual(t)){tr(gc,"User change. New user:",t.toKey());const e=await $l(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new ur(lr.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Uc(n,e.Rs)}}function zc(e,t){const n=sr(e),r=n.Ka.get(t);if(r&&r.Ba)return _a().add(r.key);{let e=_a();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function Vc(e){const t=sr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ac.bind(null,t),t.La.p_=lc.bind(null,t.eventManager),t.La.Ja=uc.bind(null,t.eventManager),t}function qc(e){const t=sr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ic.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=du(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ql(this.persistence,new Bl,e.initialUser,this.serializer)}Xa(e){return new Ml(Rl.ri,this.serializer)}Za(e){return new Zl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class Hc extends $c{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ar(this.persistence.referenceDelegate instanceof Ll);const n=this.persistence.referenceDelegate.garbageCollector;return new bl(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?fl.withCacheSize(this.cacheSizeBytes):fl.DEFAULT;return new Ml((e=>Ll.ri(e,t)),this.serializer)}}class Wc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,this.syncEngine),await Qu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ic}createDatastore(e){const t=du(e.databaseInfo.databaseId),n=function(e){return new cu(e)}(e.databaseInfo);return function(e,t,n,r){return new bu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _u(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cc(this.syncEngine,e,0)),nu.D()?new nu:new eu)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new wc(e,t,n,r,i,o);return a&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=sr(e);tr(xu,"RemoteStore shutting down."),t.W_.add(5),await Eu(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Wc.provider={build:()=>new Wc};class Kc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Gc="FirestoreClient";class Qc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xn.UNAUTHENTICATED,this.clientId=wr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{tr(Gc,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(tr(Gc,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Yc(e,t){e.asyncQueue.verifyOperationInProgress(),tr(Gc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $l(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Xc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jc(e);tr(Gc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Gu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Gu(t.remoteStore,n))),e._onlineComponents=t}async function Jc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tr(Gc,"Using user provided OfflineComponentProvider");try{await Yc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===lr.FAILED_PRECONDITION||e.code===lr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;rr("Error using user provided cache. Falling back to memory cache: "+n),await Yc(e,new $c)}}else tr(Gc,"Using default OfflineComponentProvider"),await Yc(e,new Hc(void 0));return e._offlineComponents}async function Zc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tr(Gc,"Using user provided OnlineComponentProvider"),await Xc(e,e._uninitializedComponentsProvider._online)):(tr(Gc,"Using default OnlineComponentProvider"),await Xc(e,new Wc))),e._onlineComponents}function eh(e){return Zc(e).then((e=>e.syncEngine))}async function th(e){const t=await Zc(e),n=t.eventManager;return n.onListen=xc.bind(null,t.syncEngine),n.onUnlisten=kc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_c.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Oc.bind(null,t.syncEngine),n}function nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Kc({next:s=>{o.su(),t.enqueueAndForget((()=>sc(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new ur(lr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new ur(lr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new fc(Yo(n.path),o,{includeMetadataChanges:!0,Ta:!0});return ac(e,a)}(await th(e),e.asyncQueue,t,n,r))),r.promise}function rh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Kc({next:n=>{o.su(),t.enqueueAndForget((()=>sc(e,a))),n.fromCache&&"server"===r.source?i.reject(new ur(lr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new fc(n,o,{includeMetadataChanges:!0,Ta:!0});return ac(e,a)}(await th(e),e.asyncQueue,t,n,r))),r.promise}function ih(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const oh=new Map;function ah(e,t,n){if(!n)throw new ur(lr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function sh(e){if(!jr.isDocumentKey(e))throw new ur(lr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lh(e){if(jr.isDocumentKey(e))throw new ur(lr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":or()}function ch(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ur(lr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(e);throw new ur(lr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const hh="firestore.googleapis.com",dh=!0;class fh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ur(lr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hh,this.ssl=dh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:dh;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=dl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<yl)throw new ur(lr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ur(lr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ih(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ur(lr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ur(lr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ur(lr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ur(lr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ur(lr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dr;switch(e.type){case"firstParty":return new yr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ur(lr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oh.get(e);t&&(tr("ComponentProvider","Removing Datastore"),oh.delete(e),t.terminate())}(this),Promise.resolve()}}class mh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mh(this.firestore,e,this._query)}}class yh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yh(this.firestore,e,this._key)}}class gh extends mh{constructor(e,t,n){super(e,t,Yo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yh(this.firestore,null,new jr(e))}withConverter(e){return new gh(this.firestore,e,this._path)}}function vh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),ah("collection","path",t),e instanceof ph){const n=Ar.fromString(t,...r);return lh(n),new gh(e,null,n)}{if(!(e instanceof yh||e instanceof gh))throw new ur(lr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ar.fromString(t,...r));return lh(n),new gh(e.firestore,null,n)}}function bh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),1===arguments.length&&(t=wr.newId()),ah("doc","path",t),e instanceof ph){const n=Ar.fromString(t,...r);return sh(n),new yh(e,null,new jr(n))}{if(!(e instanceof yh||e instanceof gh))throw new ur(lr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ar.fromString(t,...r));return sh(n),new yh(e.firestore,e instanceof gh?e.converter:null,new jr(n))}}const wh="AsyncQueue";class xh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fu(this,"async_queue_retry"),this.bu=()=>{const e=hu();e&&tr(wh,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=hu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=hu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new cr;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$r(e))throw e;tr(wh,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw nr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Ju.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&or()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function _h(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Sh extends ph{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new xh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xh(e),this._firestoreClient=void 0,await e}}}function Eh(e,t){const n="object"==typeof e?e:Sn(),r="string"==typeof e?e:t||Wi,i=gn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=ze("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=ch(e,ph))._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;o.host!==hh&&o.host!==s&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:s,ssl:!1,emulatorOptions:r});if(!Je(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xn.MOCK_USER;else{t=He(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ur(lr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xn(o)}e._authCredentials=new fr(new hr(t,n))}}(i,...e)}return i}function kh(e){if(e._terminated)throw new ur(lr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Oh(e),e._firestoreClient}function Oh(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Hi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ih(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Qc(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Th{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Th(Ni.fromBase64String(e))}catch(e){throw new ur(lr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Th(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ch{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ur(lr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ah{constructor(e){this._methodName=e}}class Ph{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ur(lr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ur(lr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xr(this._lat,e._lat)||xr(this._long,e._long)}}class Ih{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const jh=/^__.*__$/;class Nh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ya(e,this.data,t,this.fieldTransforms)}}class Mh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw or()}}class Rh{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Dh(this.Lu)&&jh.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Lh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||du(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rh({Lu:e,methodName:t,zu:n,path:Ir.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(e){const t=e._freezeSettings(),n=du(e._databaseId);return new Lh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uh(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(o.merge||o.mergeFields?2:0,t,n,i);Gh("Data must be an object, but it was:",a,r);const s=Wh(r,a);let l,u;if(o.merge)l=new Ii(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Qh(t,r,n);if(!a.contains(i))throw new ur(lr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Zh(e,i)||e.push(i)}l=new Ii(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new Nh(new vo(s),l,u)}class Bh extends Ah{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class zh extends Ah{_toFieldTransform(e){return new Ba(e.path,new ja)}isEqual(e){return e instanceof zh}}function Vh(e,t,n,r){const i=e.ju(1,t,n);Gh("Data must be an object, but it was:",i,r);const o=[],a=vo.empty();Ei(r,((e,r)=>{const s=Xh(t,e,n);r=ot(r);const l=i.Ku(s);if(r instanceof Bh)o.push(s);else{const e=Hh(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Ii(o);return new Mh(a,s,i.fieldTransforms)}function qh(e,t,n,r,i,o){const a=e.ju(1,t,n),s=[Qh(t,r,n)],l=[i];if(o.length%2!=0)throw new ur(lr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Qh(t,o[d])),l.push(o[d+1]);const u=[],c=vo.empty();for(let d=s.length-1;d>=0;--d)if(!Zh(u,s[d])){const e=s[d];let t=l[d];t=ot(t);const n=a.Ku(e);if(t instanceof Bh)u.push(e);else{const r=Hh(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Ii(u);return new Mh(c,h,a.fieldTransforms)}function $h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Hh(n,e.ju(r?4:3,t))}function Hh(e,t){if(Kh(e=ot(e)))return Gh("Unsupported field value:",t,e),Wh(e,t);if(e instanceof Ah)return function(e,t){if(!Dh(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Hh(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ta(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kr.fromDate(e);return{timestampValue:js(t.serializer,n)}}if(e instanceof kr){const n=new kr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:js(t.serializer,n)}}if(e instanceof Ph)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Th)return{bytesValue:Ns(t.serializer,e._byteString)};if(e instanceof yh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Rs(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ih)return function(e,t){return{mapValue:{fields:{[Gi]:{stringValue:Xi},[Ji]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return ka(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${uh(e)}`)}(e,t)}function Wh(e,t){const n={};return ki(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ei(e,((e,r)=>{const i=Hh(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Kh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kr||e instanceof Ph||e instanceof Th||e instanceof yh||e instanceof Ah||e instanceof Ih)}function Gh(e,t,n){if(!Kh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=uh(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Qh(e,t,n){if((t=ot(t))instanceof Ch)return t._internalPath;if("string"==typeof t)return Xh(e,t);throw Jh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Yh=new RegExp("[~\\*/\\[\\]]");function Xh(e,t,n){if(t.search(Yh)>=0)throw Jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ch(...t.split("."))._internalPath}catch(mg){throw Jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jh(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ur(lr.INVALID_ARGUMENT,s+e+l)}function Zh(e,t){return e.some((e=>e.isEqual(t)))}class ed{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class td extends ed{data(){return super.data()}}function nd(e,t){return"string"==typeof t?Xh(e,t):t instanceof Ch?t._internalPath:t._delegate._internalPath}function rd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ur(lr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class id{}class od extends id{}function ad(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof id&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ld)).length,n=e.filter((e=>e instanceof sd)).length;if(t>1||t>0&&n>0)throw new ur(lr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class sd extends od{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sd(e,t,n)}_apply(e){const t=this._parse(e);return fd(e._query,t),new mh(e.firestore,e.converter,na(e._query,t))}_parse(e){const t=Fh(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ur(lr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){dd(a,o);const t=[];for(const n of a)t.push(hd(r,e,n));s={arrayValue:{values:t}}}else s=hd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dd(a,o),s=$h(n,t,a,"in"===o||"not-in"===o);return To.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ld extends id{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ld(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Co.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)fd(n,i),n=na(n,i)}(e._query,t),new mh(e.firestore,e.converter,na(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ud extends od{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ud(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ur(lr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ur(lr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eo(t,n)}(e._query,this._field,this._direction);return new mh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Go(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function cd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=nd("orderBy",e);return ud._create(n,t)}function hd(e,t,n){if("string"==typeof(n=ot(n))){if(""===n)throw new ur(lr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jo(t)&&-1!==n.indexOf("/"))throw new ur(lr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ar.fromString(n));if(!jr.isDocumentKey(r))throw new ur(lr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lo(e,new jr(r))}if(n instanceof yh)return lo(e,n._key);throw new ur(lr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function dd(e,t){if(!Array.isArray(e)||0===e.length)throw new ur(lr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ur(lr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ur(lr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class pd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw or()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ei(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Ji].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ri(e.doubleValue)));return new Ih(i)}convertGeoPoint(e){return new Ph(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=qi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($i(e));default:return null}}convertTimestamp(e){const t=Di(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ar.fromString(e);ar(il(n));const r=new Ki(n.get(1),n.get(3)),i=new jr(n.popFirst(5));return r.isEqual(t)||nr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function md(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends ed{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vd extends gd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vd(this._firestore,this._userDataWriter,n.key,n,new yd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ur(lr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wd(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return or()}}function xd(e){e=ch(e,yh);const t=ch(e.firestore,Sh);return nh(kh(t),e._key).then((n=>Ad(t,e,n)))}class _d extends pd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Th(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yh(this.firestore,null,t)}}function Sd(e){e=ch(e,mh);const t=ch(e.firestore,Sh),n=kh(t),r=new _d(t);return rd(e._query),rh(n,e._query).then((n=>new bd(t,r,e,n)))}function Ed(e,t,n){e=ch(e,yh);const r=ch(e.firestore,Sh),i=md(e.converter,t,n);return Cd(r,[Uh(Fh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Va.none())])}function kd(e,t,n){e=ch(e,yh);const r=ch(e.firestore,Sh),i=Fh(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=ot(t))||t instanceof Ch?qh(i,"updateDoc",e._key,t,n,s):Vh(i,"updateDoc",e._key,t),Cd(r,[o.toMutation(e._key,Va.exists(!0))])}function Od(e,t){const n=ch(e.firestore,Sh),r=bh(e),i=md(e.converter,t);return Cd(n,[Uh(Fh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Va.exists(!1))]).then((()=>r))}function Td(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=ot(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||_h(n[l])||(s=n[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_h(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,h,d;if(e instanceof yh)h=ch(e.firestore,Sh),d=Yo(e._key.path),c={next:t=>{n[l]&&n[l](Ad(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ch(e,mh);h=ch(t.firestore,Sh),d=t._query;const r=new _d(h);c={next:e=>{n[l]&&n[l](new bd(h,r,t,e))},error:n[l+1],complete:n[l+2]},rd(e._query)}return function(e,t,n,r){const i=new Kc(r),o=new fc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ac(await th(e),o))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>sc(await th(e),o)))}}(kh(h),d,u,c)}function Cd(e,t){return function(e,t){const n=new cr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qc(e);try{const e=await function(e,t){const n=sr(e),r=kr.now(),i=t.reduce(((e,t)=>e.add(t.key)),_a());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=fa(),l=_a();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Ga(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Xa(e.key,t,bo(t.value.mapValue),Va.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:ya(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Oi(xr)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Uc(r,e.changes),await Uu(r.remoteStore)}catch(e){const t=Zu(e,"Failed to persist write");n.reject(t)}}(await eh(e),t,n))),n.promise}(kh(e),t)}function Ad(e,t,n){const r=n.docs.get(t._key),i=new _d(e);return new gd(e,i,t._key,r,new yd(n.hasPendingWrites,n.fromCache),t.converter)}function Pd(){return new zh("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Jn=e}(xn),yn(new at("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Sh(new pr(e.getProvider("auth-internal")),new vr(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ur(lr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ki(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),En(Qn,Yn,e),En(Qn,Yn,"esm2017")}();En("firebase","11.4.0","app");function Id(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function jd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nd=jd,Md=new Ye("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dd=new yt("@firebase/auth");function Rd(e){if(Dd.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dd.error(`Auth (${xn}): ${e}`,...n)}}function Ld(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vd(e,...n)}function Fd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vd(e,...n)}function Ud(e,t,n){const r=Object.assign(Object.assign({},Nd()),{[t]:n});return new Ye("auth","Firebase",r).create(t,{appName:e.name})}function Bd(e){return Ud(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zd(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ld(e,"argument-error"),Ud(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Md.create(e,...n)}function qd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vd(t,...r)}}function $d(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rd(t),new Error(t)}function Hd(e,t){e||$d(t)}function Wd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Kd(){return"http:"===Gd()||"https:"===Gd()}function Gd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Qd(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Kd()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hd(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Qd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xd(e,t){Hd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Jd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $d("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $d("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $d("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ef=new Yd(3e4,6e4);function tf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function nf(e,t,n,r){return rf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=et(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Jd.fetch()(af(e,e.config.apiHost,n,a),l)}))}async function rf(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zd),t);try{const t=new lf(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uf(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw uf(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw uf(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw uf(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ud(e,s,a);Ld(e,s)}}catch(i){if(i instanceof Qe)throw i;Ld(e,"network-request-failed",{message:String(i)})}}async function of(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await nf(e,t,n,r,i);return"mfaPendingCredential"in o&&Ld(e,"multi-factor-auth-required",{_serverResponse:o}),o}function af(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Xd(e.config,i):`${e.config.apiScheme}://${i}`}function sf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lf{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Fd(this.auth,"network-request-failed"))),ef.get())}))}}function uf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fd(e,t,r);return i.customData._tokenResponse=n,i}function cf(e){return void 0!==e&&void 0!==e.enterprise}class hf{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function df(e,t){return nf(e,"GET","/v2/recaptchaConfig",tf(e,t))}async function ff(e,t){return nf(e,"POST","/v1/accounts:lookup",t)}function pf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function mf(e){return 1e3*Number(e)}function yf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const e=Le(n);return e?JSON.parse(e):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function gf(e){const t=yf(e);return qd(t,"internal-error"),qd("undefined"!==typeof t.exp,"internal-error"),qd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function vf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Qe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class bf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class wf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pf(this.lastLoginAt),this.creationTime=pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await vf(e,ff(n,{idToken:r}));qd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?_f(o.providerUserInfo):[],s=(l=e.providerData,u=a,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),d=!!c&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new wf(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function _f(e){return e.map((e=>{var{providerId:t}=e,n=Id(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Sf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qd(e.idToken,"internal-error"),qd("undefined"!==typeof e.idToken,"internal-error"),qd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):gf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qd(0!==e.length,"internal-error");const t=gf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(qd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await rf(e,{},(async()=>{const n=et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=af(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jd.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Sf;return n&&(qd("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(qd("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(qd("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sf,this.toJSON())}_performRefresh(){return $d("not implemented")}}function Ef(e,t){qd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class kf{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await vf(this,this.stsTokenManager.getToken(this.auth,e));return qd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ot(e),r=await n.getIdToken(t),i=yf(r);qd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:pf(mf(i.auth_time)),issuedAtTime:pf(mf(i.iat)),expirationTime:pf(mf(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ot(e);await xf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Bd(this.auth));const e=await this.getIdToken();return await vf(this,async function(e,t){return nf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;qd(v&&_,e,"internal-error");const S=Sf.fromJSON(this.name,_);qd("string"===typeof v,e,"internal-error"),Ef(c,e.name),Ef(h,e.name),qd("boolean"===typeof b,e,"internal-error"),qd("boolean"===typeof w,e,"internal-error"),Ef(d,e.name),Ef(f,e.name),Ef(p,e.name),Ef(m,e.name),Ef(y,e.name),Ef(g,e.name);const E=new kf({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Sf;r.updateFromServerResponse(t);const i=new kf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];qd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?_f(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Sf;a.updateFromIdToken(n);const s=new kf({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new wf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Of=new Map;function Tf(e){Hd(e instanceof Function,"Expected a class definition");let t=Of.get(e);return t?(Hd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Of.set(e,t),t)}class Cf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Cf.type="NONE";const Af=Cf;function Pf(e,t,n){return`firebase:${e}:${t}:${n}`}class If{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Pf(this.userKey,r.apiKey,i),this.fullPersistenceKey=Pf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kf._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new If(Tf(Af),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Tf(Af);const o=Pf(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(o);if(t){const n=kf._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new If(i,e,n)):new If(i,e,n)}}function jf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ff(t))return"Blackberry";if(Uf(t))return"Webos";if(Mf(t))return"Safari";if((t.includes("chrome/")||Df(t))&&!t.includes("edge/"))return"Chrome";if(Lf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function Mf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Df(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function Rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function Lf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function Ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function Uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Bf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zf(){return function(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Vf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Bf(e)||Lf(e)||Uf(e)||Ff(e)||/windows phone/i.test(e)||Rf(e)}function qf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jf(We());break;case"Worker":t=`${jf(We())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}class $f{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Hf{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Wf{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gf(this),this.idTokenSubscription=new Gf(this),this.beforeStateQueue=new $f(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Md,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tf(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await If.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ff(this,{idToken:e}),n=await kf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xf(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Bd(this));const t=e?ot(e):null;return t&&qd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return vn(this.app)?Promise.reject(Bd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Bd(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Tf(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return nf(e,"GET","/v2/passwordPolicy",tf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Hf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ye("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return nf(e,"POST","/v2/accounts:revokeToken",tf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tf(e)||this._popupRedirectResolver;qd(t,this,"argument-error"),this.redirectPersistenceManager=await If.create(this,[Tf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qd(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dd.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dd.warn(`Auth (${xn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Kf(e){return ot(e)}class Gf{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return qd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yf(e){return Qf.loadJS(e)}function Xf(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Jf{constructor(){this.enterprise=new Zf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Zf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ep="NO_RECAPTCHA";class tp{constructor(e){this.type="recaptcha-enterprise",this.auth=Kf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;cf(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ep)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Jf).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{df(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new hf(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&cf(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Qf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Yf(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function np(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new tp(e);let a;if(i)a=ep;else try{a=await o.verify(n)}catch(ig){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function rp(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await np(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await np(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await np(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await np(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await np(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ip(e){const t=Kf(e),n=await df(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new hf(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new tp(t).verify()}}function op(e,t,n){const r=Kf(e);qd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ap(t),{host:a,port:s}=function(e){const t=ap(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:sp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:sp(t)}}}(t),l={url:`${o}//${a}${null===s?"":`:${s}`}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return qd(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void qd(Je(l,r.config.emulator)&&Je(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ap(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $d("not implemented")}_getIdTokenResponse(e){return $d("not implemented")}_linkToIdToken(e,t){return $d("not implemented")}_getReauthenticationResolver(e){return $d("not implemented")}}async function up(e,t){return nf(e,"POST","/v1/accounts:signUp",t)}async function cp(e,t){return of(e,"POST","/v1/accounts:signInWithPassword",tf(e,t))}class hp extends lp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hp(e,t,"password")}static _fromEmailAndCode(e,t){return new hp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return of(e,"POST","/v1/accounts:signInWithEmailLink",tf(e,t))}(e,{email:this._email,oobCode:this._password});default:Ld(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",up,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return of(e,"POST","/v1/accounts:signInWithEmailLink",tf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ld(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dp(e,t){return of(e,"POST","/v1/accounts:signInWithIdp",tf(e,t))}class fp extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ld("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Id(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new fp(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return dp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}async function pp(e,t){return nf(e,"POST","/v1/accounts:sendVerificationCode",tf(e,t))}const mp={USER_NOT_FOUND:"user-not-found"};class yp extends lp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return of(e,"POST","/v1/accounts:signInWithPhoneNumber",tf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await of(e,"POST","/v1/accounts:signInWithPhoneNumber",tf(e,t));if(n.temporaryProof)throw uf(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return of(e,"POST","/v1/accounts:signInWithPhoneNumber",tf(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),mp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new yp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gp{constructor(e){var t,n,r,i,o,a;const s=tt(nt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);qd(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(e);try{return new gp(t)}catch(n){return null}}}class vp{constructor(){this.providerId=vp.PROVIDER_ID}static credential(e,t){return hp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gp.parseLink(t);return qd(n,"argument-error"),hp._fromEmailAndCode(e,n.code,n.tenantId)}}vp.PROVIDER_ID="password",vp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wp extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xp extends wp{constructor(){super("facebook.com")}static credential(e){return fp._fromParams({providerId:xp.PROVIDER_ID,signInMethod:xp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xp.credentialFromTaggedObject(e)}static credentialFromError(e){return xp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xp.credential(t.oauthAccessToken)}catch(n){return null}}}xp.FACEBOOK_SIGN_IN_METHOD="facebook.com",xp.PROVIDER_ID="facebook.com";class _p extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fp._fromParams({providerId:_p.PROVIDER_ID,signInMethod:_p.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _p.credentialFromTaggedObject(e)}static credentialFromError(e){return _p.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _p.credential(n,r)}catch(i){return null}}}_p.GOOGLE_SIGN_IN_METHOD="google.com",_p.PROVIDER_ID="google.com";class Sp extends wp{constructor(){super("github.com")}static credential(e){return fp._fromParams({providerId:Sp.PROVIDER_ID,signInMethod:Sp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sp.credentialFromTaggedObject(e)}static credentialFromError(e){return Sp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Sp.credential(t.oauthAccessToken)}catch(n){return null}}}Sp.GITHUB_SIGN_IN_METHOD="github.com",Sp.PROVIDER_ID="github.com";class Ep extends wp{constructor(){super("twitter.com")}static credential(e,t){return fp._fromParams({providerId:Ep.PROVIDER_ID,signInMethod:Ep.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ep.credentialFromTaggedObject(e)}static credentialFromError(e){return Ep.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ep.credential(n,r)}catch(i){return null}}}async function kp(e,t){return of(e,"POST","/v1/accounts:signUp",tf(e,t))}Ep.TWITTER_SIGN_IN_METHOD="twitter.com",Ep.PROVIDER_ID="twitter.com";class Op{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await kf._fromIdTokenResponse(e,n,r),o=Tp(n);return new Op({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Tp(n);return new Op({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Tp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Cp extends Qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Cp(e,t,n,r)}}function Ap(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Cp._fromErrorAndOperation(e,n,t,r);throw n}))}async function Pp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await vf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Op._forOperation(e,"link",r)}async function Ip(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(vn(r.app))return Promise.reject(Bd(r));const i="reauthenticate";try{const o=await vf(e,Ap(r,i,t,e),n);qd(o.idToken,r,"internal-error");const a=yf(o.idToken);qd(a,r,"internal-error");const{sub:s}=a;return qd(e.uid===s,r,"user-mismatch"),Op._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&Ld(r,"user-mismatch"),o}}async function jp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vn(e.app))return Promise.reject(Bd(e));const r="signIn",i=await Ap(e,r,t),o=await Op._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Np(e,t){return jp(Kf(e),t)}async function Mp(e){const t=Kf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Dp(e,t,n){if(vn(e.app))return Promise.reject(Bd(e));const r=Kf(e),i=rp(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kp,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Mp(e),t})),a=await Op._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Rp(e,t,n){return vn(e.app)?Promise.reject(Bd(e)):Np(ot(e),vp.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Mp(e),t}))}async function Lp(e,t){const n={identifier:t,continueUri:Kd()?Wd():"http://localhost"},{signinMethods:r}=await async function(e,t){return nf(e,"POST","/v1/accounts:createAuthUri",tf(e,t))}(ot(e),n);return r||[]}async function Fp(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ot(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await vf(i,async function(e,t){return nf(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Up(e,t){return ot(e).setPersistence(t)}function Bp(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}function zp(e){return ot(e).signOut()}function Vp(e,t){return nf(e,"POST","/v2/accounts/mfaEnrollment:start",tf(e,t))}new WeakMap;const qp="__sak";class $p{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hp extends $p{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);zf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hp.type="LOCAL";const Wp=Hp;class Kp extends $p{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kp.type="SESSION";const Gp=Kp;class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Qp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qp.receivers=[];class Xp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Yp("",20);r.port1.start();const u=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jp(){return window}function Zp(){return"undefined"!==typeof Jp().WorkerGlobalScope&&"function"===typeof Jp().importScripts}const em="firebaseLocalStorageDb",tm="firebaseLocalStorage",nm="fbase_key";class rm{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function im(e,t){return e.transaction([tm],t?"readwrite":"readonly").objectStore(tm)}function om(){const e=indexedDB.open(em,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(tm,{keyPath:nm})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(tm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(em);return new rm(e).toPromise()}(),t(await om()))}))}))}async function am(e,t,n){const r=im(e,!0).put({[nm]:t,value:n});return new rm(r).toPromise()}function sm(e,t){const n=im(e,!0).delete(t);return new rm(n).toPromise()}class lm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await om()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(Zp()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await am(e,qp,"1"),await sm(e,qp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>am(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=im(e,!1).get(t),r=await new rm(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sm(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=im(e,!1).getAll();return new rm(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}lm.type="LOCAL";const um=lm;function cm(e,t){return nf(e,"POST","/v2/accounts/mfaSignIn:start",tf(e,t))}Xf("rcb"),new Yd(3e4,6e4);const hm="recaptcha";async function dm(e,t,n){var r;if(!e._getRecaptchaConfig())try{await ip(e)}catch(ig){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){qd("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=rp(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ep){qd((null===n||void 0===n?void 0:n.type)===hm,e,"argument-error");return Vp(e,await fm(e,t,n))}return Vp(e,t)}),"PHONE_PROVIDER"),a=await o.catch((e=>Promise.reject(e)));return a.phoneSessionInfo.sessionInfo}{qd("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;qd(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=rp(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ep){qd((null===n||void 0===n?void 0:n.type)===hm,e,"argument-error");return cm(e,await fm(e,t,n))}return cm(e,t)}),"PHONE_PROVIDER"),l=await s.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=rp(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ep){qd((null===n||void 0===n?void 0:n.type)===hm,e,"argument-error");return pp(e,await fm(e,t,n))}return pp(e,t)}),"PHONE_PROVIDER"),o=await r.catch((e=>Promise.reject(e)));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function fm(e,t,n){qd(n.type===hm,e,"argument-error");const r=await n.verify();qd("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class pm{constructor(e){this.providerId=pm.PROVIDER_ID,this.auth=Kf(e)}verifyPhoneNumber(e,t){return dm(this.auth,e,ot(t))}static credential(e,t){return yp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pm.credentialFromTaggedObject(t)}static credentialFromError(e){return pm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yp._fromTokenResponse(n,r):null}}function mm(e,t){return t?Tf(t):(qd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pm.PROVIDER_ID="phone",pm.PHONE_SIGN_IN_METHOD="phone";class ym extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gm(e){return jp(e.auth,new ym(e),e.bypassAuthState)}function vm(e){const{auth:t,user:n}=e;return qd(n,t,"internal-error"),Ip(n,new ym(e),e.bypassAuthState)}async function bm(e){const{auth:t,user:n}=e;return qd(n,t,"internal-error"),Pp(n,new ym(e),e.bypassAuthState)}class wm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gm;case"linkViaPopup":case"linkViaRedirect":return bm;case"reauthViaPopup":case"reauthViaRedirect":return vm;default:Ld(this.auth,"internal-error")}}resolve(e){Hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xm=new Yd(2e3,1e4);async function _m(e,t,n){if(vn(e.app))return Promise.reject(Fd(e,"operation-not-supported-in-this-environment"));const r=Kf(e);zd(e,t,bp);const i=mm(r,n);return new Sm(r,"signInViaPopup",t,i).executeNotNull()}class Sm extends wm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Sm.currentPopupAction&&Sm.currentPopupAction.cancel(),Sm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qd(e,this.auth,"internal-error"),e}async onExecution(){Hd(1===this.filter.length,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Fd(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Fd(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,xm.get())};e()}}Sm.currentPopupAction=null;const Em=new Map;class km extends wm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Cm(t),r=Tm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Om(e,t){Em.set(e._key(),t)}function Tm(e){return Tf(e._redirectPersistence)}function Cm(e){return Pf("pendingRedirect",e.config.apiKey,e.name)}async function Am(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vn(e.app))return Promise.reject(Bd(e));const r=Kf(e),i=mm(r,t),o=new km(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Pm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Im(e))}saveEventToCache(e){this.cachedEventUids.add(Im(e)),this.lastProcessedEventTime=Date.now()}}function Im(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function jm(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Nm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mm=/^https?/;async function Dm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return nf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Rm(r))return}catch(n){}Ld(e,"unauthorized-domain")}function Rm(e){const t=Wd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Mm.test(n))return!1;if(Nm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Lm=new Yd(3e4,6e4);function Fm(){const e=Jp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Um(e){return new Promise(((t,n)=>{var r,i,o;function a(){Fm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fm(),n(Fd(e,"network-request-failed"))},timeout:Lm.get()})}if(null===(i=null===(r=Jp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jp().gapi)||void 0===o?void 0:o.load)){const t=Xf("iframefcb");return Jp()[t]=()=>{gapi.load?a():n(Fd(e,"network-request-failed"))},Yf(`${Qf.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Bm=null,e}))}let Bm=null;const zm=new Yd(5e3,15e3),Vm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $m(e){const t=e.config;qd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xd(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:xn},i=qm.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${et(r).slice(1)}`}async function Hm(e){const t=await function(e){return Bm=Bm||Um(e),Bm}(e),n=Jp().gapi;return qd(n,e,"internal-error"),t.open({where:document.body,url:$m(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vm,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Fd(e,"network-request-failed"),o=Jp().setTimeout((()=>{r(i)}),zm.get());function a(){Jp().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Wm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Km{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Gm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Wm),{width:r.toString(),height:i.toString(),top:o,left:a}),u=We().toLowerCase();n&&(s=Df(u)?"_blank":n),Nf(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Bf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Km(null);const h=window.open(t||"",s,c);qd(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Km(h)}const Qm="__/auth/handler",Ym="emulator/auth/handler",Xm=encodeURIComponent("fac");async function Jm(e,t,n,r,i,o){qd(e.config.authDomain,e,"auth-domain-config-required"),qd(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(t instanceof bp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof wp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))void 0===s[c]&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${Xm}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Qm}`;return Xd(t,Ym)}(e)}?${et(s).slice(1)}${u}`}const Zm="webStorageSupport";const ey=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gp,this._completeRedirectFn=Am,this._overrideRedirectResult=Om}async _openPopup(e,t,n,r){var i;Hd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Gm(e,await Jm(e,t,n,Wd(),r),Yp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jp().location.href=e}(await Jm(e,t,n,Wd(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Hm(e),n=new Pm(e);return t.register("authEvent",(t=>{qd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zm,{type:Zm},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zm];void 0!==i&&t(!!i),Ld(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vf()||Mf()||Bf()}};var ty="@firebase/auth",ny="1.9.1";class ry{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const iy=qe("authIdTokenMaxAge")||300;let oy=null;function ay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();const t=gn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=gn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Je(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ld(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ey,persistence:[um,Wp,Gp]}),r=qe("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>iy)return;const r=null===t||void 0===t?void 0:t.token;oy!==r&&(oy=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ot(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ot(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Be("auth");return o&&op(n,`http://${o}`),n}var sy,ly;sy={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Qf=sy,ly="Browser",yn(new at("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;qd(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:ly,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qf(ly)},u=new Wf(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yn(new at("auth-internal",(e=>(e=>new ry(e))(Kf(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),En(ty,ny,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ly)),En(ty,ny,"esm2017");const uy="firebasestorage.googleapis.com",cy="storageBucket";class hy extends Qe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(py(e),`Firebase Storage: ${t} (${py(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return py(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var dy,fy;function py(e){return"storage/"+e}function my(){return new hy(dy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yy(){return new hy(dy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gy(){return new hy(dy.CANCELED,"User canceled the upload/download.")}function vy(e){return new hy(dy.INVALID_ARGUMENT,e)}function by(){return new hy(dy.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dy||(dy={}));class wy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=wy.makeFromUrl(e,t)}catch(i){return new wy(e,"")}if(""===n.path)return n;throw r=e,new hy(dy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===uy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new wy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new hy(dy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class xy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function _y(e,t,n,r){if(r<t)throw vy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw vy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Sy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ey(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fy||(fy={}));class ky{constructor(e,t,n,r,i,o,a,s,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Oy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fy.NO_ERROR,i=n.getStatus();if(!t||Ey(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fy.ABORT;return void e(!1,new Oy(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Oy(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=my();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?by():gy())}else{r(yy())}};this.canceled_?t(0,new Oy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||a)return d(),void c.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),o=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Oy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ty(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Cy{constructor(e,t){this._service=e,this._location=t instanceof wy?t:wy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cy(e,t)}get root(){const e=new wy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ty(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new wy(this._location.bucket,e);return new Cy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hy(dy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Ay(e,t){const n=null===t||void 0===t?void 0:t[cy];return null==n?null:wy.makeFromBucketSpec(n,e)}class Py{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=uy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?wy.makeFromBucketSpec(r,this._host):Ay(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=wy.makeFromBucketSpec(this._url,e):this._bucket=Ay(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_y("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_y("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cy(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new xy(by());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=Sy(e.urlParams),l=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ky(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Iy="@firebase/storage",jy="0.13.7",Ny="storage";function My(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Py(r,i,o,n,xn)}yn(new at(Ny,My,"PUBLIC").setMultipleInstances(!0)),En(Iy,jy,""),En(Iy,jy,"esm2017");const Dy=_n({apiKey:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",authDomain:"rainyday-app-location.firebaseapp.com",projectId:"rainyday-app-location",messagingSenderId:"249772301176",appId:"1:249772301176:web:442616a7f30bb50357c68d",measurementId:"G-6PP5MY25FG",storageBucket:"rainyday-app-location.firebasestorage.app"}),Ry=Eh(Dy),Ly=ay(Dy),Fy=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=arguments.length>1?arguments[1]:void 0;e=ot(e);const n=gn(e,Ny).getImmediate({identifier:t}),r=ze("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:He(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Dy),Ae((e=>({activeChat:null,setActiveChat:t=>e({activeChat:t}),addMessage:async(e,t)=>{const n=vh(Ry,"messages");await Od(n,{content:e,sender:t,timestamp:Pd()})}}))),Ae((e=>({modalState:!1,isCloseModal:()=>e({modalState:!1}),isOpenModal:()=>e({modalState:!0}),isToggleModal:()=>e((e=>({modalState:!e.modalState})))})))),Uy=(Ae((e=>({activeChat:null,messages:{},setActiveChat:t=>e({activeChat:t}),addMessage:(t,n)=>e((e=>({messages:{...e.messages,[t]:[...e.messages[t]||[],n]}})))}))),Ae()(je((e=>({isDarkMode:!0,toggleTheme:()=>e((e=>({isDarkMode:!e.isDarkMode})))})),{name:"theme-storage"})));var By=n(579);const zy=()=>{const e=Z(),t=Fy((e=>e.isToggleModal)),{isDarkMode:n}=Uy(),{isToggleModal:r}=Fy(),i=[{key:"message",icon:(0,By.jsx)(_e,{className:"h-6 w-6"}),path:"/chat"},{key:"home",icon:(0,By.jsx)(Se,{className:"h-6 w-6"}),path:"/"},{key:"bell",icon:(0,By.jsx)(Ee,{className:"h-6 w-6"})},{key:"user",icon:(0,By.jsx)(ke,{className:"h-6 w-6 relative z-100",onClick:()=>{t()}})}];return(0,By.jsx)(By.Fragment,{children:(0,By.jsx)("nav",{className:"relative ",children:(0,By.jsx)("ul",{className:"flex space-x-4",children:i.map(((t,r)=>(0,By.jsx)("li",{children:(0,By.jsx)("button",{onClick:()=>{e(null===t||void 0===t?void 0:t.path)},className:(n?"hover:text-blue-400":"hover:text-purple-900")+"  transition-colors focus:outline-none  rounded-full p-1",children:t.icon})},r)))})})})},Vy=xe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),qy=xe("ChartNoAxesColumnDecreasing",[["path",{d:"M12 20V10",key:"g8npz5"}],["path",{d:"M18 20v-4",key:"8uic4z"}],["path",{d:"M6 20V4",key:"1w1bmo"}]]),$y=()=>{const e=Z();return(0,By.jsxs)("h1",{onClick:()=>e("/profile"),className:"text-2xl font-bold flex items-center hover:cursor-pointer",children:[(0,By.jsx)(Vy,{className:"ml-2 text"}),"CharChaoTalk",(0,By.jsx)(qy,{className:"mr-2"})]})},Hy=()=>{const{isDarkMode:e}=Uy();return(0,By.jsx)(By.Fragment,{children:(0,By.jsxs)("div",{className:"fixed w-full z-[999999]\n       "+(e?"bg-gray-900 text-gray-200":"bg-opacity-55 text-purple-700  "),children:[(0,By.jsx)("div",{id:"rain-container",className:"fixed inset-0 pointer-events-none z-50"}),(0,By.jsx)("header",{className:`sticky top-0 z-50 \n         bg-opacity-80 backdrop-blur-md p-4 \n          ${e?"shadow-lg ":"shadow-[0_0_1.5rem_rgb(203,195,227)]"} `,children:(0,By.jsxs)("div",{className:"max-w-[1700px] mx-auto flex sm:flex-row flex-col gap-4 justify-between items-center",children:[(0,By.jsx)($y,{}),(0,By.jsx)(zy,{})]})})]})})},Wy=()=>{const{isDarkMode:e}=Uy();return(0,By.jsxs)("div",{className:` ${e?"bg-slate-900 text-gray-500":"bg-gray-100 bg-opacity-55 text-purple-300"} flex flex-col justify-center items-center p-7 text-sm gap-5 `,children:[(0,By.jsx)("span",{children:"Powered by UP BEAT."}),(0,By.jsx)("span",{children:"\xa9 2024 RainyDay SoCial. All rights reserved."})]})},Ky=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Gy=xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Qy=xe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),Yy=xe("GlobeLock",[["path",{d:"M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13",key:"qkt0x6"}],["path",{d:"M2 12h8.5",key:"ovaggd"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2",key:"1of5e8"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1",key:"1fmf51"}]]),Xy=Ly.currentUser,Jy=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(Xy),{isToggleModal:o,isCloseModal:a}=Fy();(0,i.useEffect)((()=>{const e=Bp(Ly,(e=>{r(e)}));return()=>e()}),[]);const s=Z(),l=e=>{switch(e){case"\ub85c\uadf8\uc778":s("/login"),a();break;case"\ud68c\uc6d0\uac00\uc785":s("/membership"),a();break;case"\ub9c8\uc774\ud398\uc774\uc9c0":s("/mypage"),a();break;case"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30":(async()=>{const e=new _p;try{const t=await _m(Ly,e);console.log(t),s("/"),o(),console.log("USER signed in:",t.user)}catch(ig){console.log("USER signed in Error:",ig)}})();break;case"\ub85c\uadf8\uc544\uc6c3":(async()=>{const e=zp(Ly);try{await e,s("/"),o()}catch(ig){console.log("logOut error:",ig)}})()}},u=[{key:"\ub9c8\uc774\ud398\uc774\uc9c0",icon:(0,By.jsx)(ke,{})},{key:"\ub85c\uadf8\uc544\uc6c3",icon:(0,By.jsx)(Ky,{})}],c=[{key:"\ub85c\uadf8\uc778",icon:(0,By.jsx)(Gy,{})},{key:"\ud68c\uc6d0\uac00\uc785",icon:(0,By.jsx)(Qy,{})},{key:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30",icon:(0,By.jsx)(Yy,{})}],{isDarkMode:h}=Uy();return(0,By.jsx)(By.Fragment,{children:(0,By.jsx)("div",{className:`z-[99999] rounded-2xl fixed top-[4.5rem] xl:right-[1%] lg:right-[2%] right-[2%] w-[300px] max-w-full \n            ${h?" bg-gray-800 text-white shadow-blue-700 shadow-2xl":"bg-gray-100 text-black shadow-purple-500 shadow-xl"}\n            `,children:(0,By.jsxs)("ul",{className:"flex flex-col py-6 ",children:[n&&(0,By.jsxs)("div",{className:` shadow-sm mx-3 pl-5 pt-3 m flex justify-center mb-3 flex-col gap-1 pb-5 ${h?"shadow-blue-500 bg-blue-800 text-white":"shadow-purple-500 bg-purple-500 text-purple-900"} rounded-xl bg-opacity-40`,children:[(0,By.jsxs)("li",{children:["\uc5b4\uc11c\uc624\uc138\uc694"," ",(0,By.jsx)("span",{className:"text-xl",children:null===n||void 0===n?void 0:n.displayName})," \ub2d8"]}),(0,By.jsx)("li",{children:null===n||void 0===n?void 0:n.email})]}),n?u.map(((e,t)=>(0,By.jsxs)("li",{className:"flex gap-3 mx-5 pl-2 transition-all duration-200 ease-in \n                  hover:cursor-pointer  rounded-md hover:bg-opacity-20 py-5  "+(h?"hover:bg-blue-300 hover:text-blue-400":"hover:bg-purple-300 hover:text-purple-700"),onClick:()=>{l(e.key)},children:[(0,By.jsxs)("span",{children:[e.icon," "]})," ",(0,By.jsx)("span",{children:e.key})]},t))):c.map(((e,t)=>(0,By.jsxs)("li",{className:"flex gap-3 mx-5 pl-2 transition-all duration-200 ease-in \n                        hover:cursor-pointer  rounded-md hover:bg-opacity-20 py-5  "+(h?"hover:bg-blue-300 hover:text-blue-700":"hover:bg-purple-300 hover:text-purple-700"),onClick:()=>{l(e.key)},children:[(0,By.jsxs)("span",{children:[e.icon," "]})," ",(0,By.jsx)("span",{children:e.key})]},t)))]})})})},Zy=e=>{let{isLoading:t,onClick:n,children:r,type:i}=e;const{isDarkMode:o}=Uy();return(0,By.jsx)("button",{onClick:n,type:i,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm \n      text-sm font-medium text-white ${o?"bg-blue-600 hover:bg-blue-700":"bg-purple-500 hover:bg-purple-600 bg-opacity-80"} `,children:t?"\uc5f4\uc2ec\ud788 \ub4e4\uc5b4\uac00\ub294\uc911...":r})},eg=e=>{let{htmlFor:t,className:n,children:r}=e;return(0,By.jsx)("label",{htmlFor:t,className:"flex flex-col items-start",children:r})},tg=e=>{const[t,n]=(0,i.useState)({name:"",email:""});return(0,By.jsx)("input",{value:t[e.name],onChange:e=>{const{name:t,value:r}=e.currentTarget;n((e=>({...e,[t]:r})))},...e})},ng=e=>{let{label:t,required:n,type:r,id:i,value:o,name:a,placeholder:s,isHandleChange:l}=e;const{isDarkMode:u}=Uy();return(0,By.jsx)("div",{children:(0,By.jsxs)(eg,{htmlFor:i,className:"radio"!==r?"flex justify-start text-sm font-medium text-gray-300":"",children:[t,(0,By.jsx)(tg,{onChange:l,type:r,id:i,value:o,required:n,name:a,autoComplete:"current-password",placeholder:s,className:"radio"!==r?"mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md  placeholder-gray-400    \n            "+(u?"bg-gray-700":"bg-gray-100 border text-black border-purple-300 bg-opacity-80"):"form-radio text-blue-500  h-4 w-4 "})]})})},rg=e=>{let{children:t}=e;return(0,By.jsx)("div",{className:"relative  z-50 p-8",children:(0,By.jsxs)("div",{className:"text-center mb-8",children:[(0,By.jsx)("h2",{className:"mt-4 text-3xl font-bold text-white pb-10",children:"LOGIN"}),t]})})},ig=e=>{let{isEmailExists:t,value:n}=e;return(0,By.jsx)("div",{className:"\n        flex justify-center\n        items-center  bg-gradient-to-b\n        from-gray-700 to-gray-900 p-4 text-xl text-white max-w-[500px]\n        w-full absolute z-10 font-bold py-4 rounded-2xl right-[50%] translate-x-2/4 top-[8rem]\n        drop-shadow-2xl  transition-all duration-300\n        \n        ",children:n})},og=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ag=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),sg=()=>{const[e,t]=(0,i.useState)(!1),{isDarkMode:n,toggleTheme:r}=Uy();return(0,i.useEffect)((()=>{t(!0)}),[]),e?(0,By.jsx)("label",{htmlFor:"theme-toggle",className:"flex items-center cursor-pointer",children:(0,By.jsxs)("div",{className:"relative z-[9999]",children:[(0,By.jsx)("input",{type:"checkbox",id:"theme-toggle",className:"sr-only",checked:n,onChange:r}),(0,By.jsx)("div",{className:"block w-14 h-8 rounded-full transition-colors duration-300 "+(n?"bg-gray-600":"bg-purple-300")}),(0,By.jsx)("div",{className:"absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-300 flex items-center justify-center "+(n?"transform translate-x-full bg-gray-800":"bg-purple-100"),children:n?(0,By.jsx)(og,{className:"w-4 h-4 text-yellow-300"}):(0,By.jsx)(ag,{className:"w-4 h-4 text-purple-600"})})]})}):null},lg="THIS_THEME_KEY",ug=e=>{let{children:t}=e;const{isDarkMode:n,toggleTheme:r}=Uy();return(0,i.useEffect)((()=>{if("dark"===localStorage.getItem(lg))return r()}),[r]),(0,i.useEffect)((()=>{n?localStorage.setItem(lg,"dark"):localStorage.setItem(lg,"light")}),[n]),(0,By.jsxs)("div",{className:"min-h-screen   transition-colors duration-300 "+(n?"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 text-white":"bg-gradient-to-br from-white via-purple-200 to-purple-300 text-gray-900"),children:[t,(0,By.jsx)("div",{className:"fixed bottom-8 right-[1.5rem]",children:(0,By.jsx)(sg,{})})]})},cg=e=>{let{children:t}=e;const{isDarkMode:n}=Uy();return(0,By.jsx)("div",{className:"relative max-w-md w-full  rounded-lg shadow-xl "+(n?"bg-gray-800":"bg-pink-200 bg-opacity-10"),children:t})},hg=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)({name:"",email:"",password:"",address:""}),s=Z(),l=e=>{const{name:t,value:n}=e.currentTarget;a((e=>({...e,[t]:n})))};return(0,By.jsx)(ug,{children:(0,By.jsx)("div",{className:"min-h-screen  text-white p-8 flex justify-center items-center ",children:(0,By.jsxs)(cg,{children:[(0,By.jsx)("div",{className:"absolute inset-0 opacity-20 flex flex-col"}),(0,By.jsxs)(rg,{children:[n&&(0,By.jsx)(ig,{isEmailExists:n}),(0,By.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault();const i=await(async e=>{try{if((await Lp(Ly,e)).length>0)return!0;console.log("\uc774\uac74 \ud2b8\ub8e8\uc784")}catch(ig){return console.log("\uc774\uac74 \uc5d0\ub7ec\uc784",ig),!1}})(o.email);if(!i){r(!0),setTimeout((()=>{r(!1)}),1e3),console.log("\uc5d0\ub7ec\ubc15\uc2a4 \uc0c1\ud0dc\uac12",n);try{const{user:e}=await Dp(Ly,o.email,o.password);await Fp(e,{displayName:o.name});const n=bh(Ry,"users",e.uid);await Ed(n,{uid:e.uid,email:e.email,displayName:o.name,address:o.address,createdAt:new Date}),Up(Ly,Wp),t(!0),s("/profile")}catch(e){console.error(e)}}},children:[(0,By.jsx)(ng,{value:o.name,label:"Name",isHandleChange:l,type:"text",id:"name",name:"name",required:!0,placeholder:"yourName"}),(0,By.jsx)(ng,{value:o.email,label:"email",isHandleChange:l,type:"email",id:"email",placeholder:"your email",name:"email",required:!0}),(0,By.jsx)(ng,{value:o.password,label:"password",isHandleChange:l,type:"password",id:"password",placeholder:"your password",name:"password",required:!0}),(0,By.jsx)(ng,{value:o.address,label:"address",isHandleChange:l,type:"text",placeholder:"your address",name:"address",required:!0}),(0,By.jsx)(Zy,{isLoading:e,login:"Click Me!",children:"\ud68c\uc6d0\uac00\uc785"})]}),(0,By.jsxs)("div",{onClick:()=>s("/login"),className:"pt-2 cursor-pointer pt-6 hover: underline-offset-1 hover:underline",children:["\uc774\ubbf8 \ud68c\uc6d0\uc774\uc2e0\uac00\uc694?",(0,By.jsx)("br",{})," \uad6c\uae00 \uacc4\uc815 \ub85c\uadf8\uc778\ub3c4 \uac00\ub2a5\ud574\uc694!"]})]})]})})})},dg=()=>{const e=Uy((e=>e.isDarkMode));return(0,By.jsx)("div",{className:`relative flex items-center justify-center min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-900"} overflow-hidden`,children:(0,By.jsxs)("div",{className:"z-10 text-center",children:[(0,By.jsx)("div",{className:"w-14 h-14 border-t-4 border-b-4 border-r-4 rounded-full animate-spin mb-4 "+(e?"border-blue-500":"border-purple-500")}),(0,By.jsx)("p",{className:"text-xl font-semibold "+(e?"text-blue-300":"text-purple-500"),children:"Loading..."})]})})},fg=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=Ly.onAuthStateChanged((e=>{a(!!e),r(!0)}));return()=>e()}),[]),n?o?t:(0,By.jsx)(hg,{}):(0,By.jsx)(dg,{})},pg=e=>{let{children:t}=e;const n=Fy((e=>e.modalState)),r=Fy((e=>e.isCloseModal));return(0,By.jsx)(fg,{children:(0,By.jsxs)(By.Fragment,{children:[(0,By.jsx)(Hy,{}),(0,By.jsxs)(ug,{children:[n&&(0,By.jsx)(Jy,{}),(0,By.jsx)("main",{className:"md:pt-[3.5rem] pt-[7.25rem]",onClick:r,children:t})]}),(0,By.jsx)(Wy,{})]})})};function mg(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const yg=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mg(e))&&(r&&(r+=" "),r+=t);return r};var gg=n(9889),vg=n.n(gg),bg=n(620),wg=n.n(bg),xg=n(5268),_g=n.n(xg),Sg=n(3097),Eg=n.n(Sg),kg=n(9160),Og=n.n(kg),Tg=function(e){return 0===e?0:e>0?1:-1},Cg=function(e){return wg()(e)&&e.indexOf("%")===e.length-1},Ag=function(e){return Og()(e)&&!_g()(e)},Pg=function(e){return Ag(e)||wg()(e)},Ig=0,jg=function(e){var t=++Ig;return"".concat(e||"").concat(t)},Ng=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ag(e)&&!wg()(e))return r;if(Cg(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return _g()(n)&&(n=r),i&&n>t&&(n=t),n},Mg=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Dg=function(e,t){return Ag(e)&&Ag(t)?function(n){return e+n*(t-e)}:function(){return t}};function Rg(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Eg()(e,t))===n})):null}var Lg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Fg=n(9686),Ug=n.n(Fg),Bg=n(1629),zg=n.n(Bg),Vg=n(6686),qg=n.n(Vg),$g=n(9062);function Hg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Wg(e){return Wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(e)}var Kg=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gg=["points","pathLength"],Qg={svg:["viewBox","children"],polygon:Gg,polyline:Gg},Yg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xg=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!qg()(n))return null;var r={};return Object.keys(n).forEach((function(e){Yg.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Jg=function(e,t,n){if(!qg()(e)||"object"!==Wg(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Yg.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Zg=["children"],ev=["children"];function tv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nv(e){return nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(e)}var rv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},iv=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ov=null,av=null,sv=function e(t){if(t===ov&&Array.isArray(av))return av;var n=[];return i.Children.forEach(t,(function(t){Ug()(t)||((0,$g.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),av=n,ov=t,n};function lv(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return iv(e)})):[iv(t)],sv(e).forEach((function(e){var t=Eg()(e,"type.displayName")||Eg()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function uv(e,t){var n=lv(e,t);return n&&n[0]}var cv=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ag(n)||n<=0||!Ag(r)||r<=0)},hv=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dv=function(e){return e&&e.type&&wg()(e.type)&&hv.indexOf(e.type)>=0},fv=function(e){return e&&"object"===nv(e)&&"clipDot"in e},pv=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!qg()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var i,o=null!==(i=null===Qg||void 0===Qg?void 0:Qg[r])&&void 0!==i?i:[];return!zg()(e)&&(r&&o.includes(t)||Kg.includes(t))||n&&Yg.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},mv=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return yv(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!yv(a,s))return!1}return!0},yv=function(e,t){if(Ug()(e)&&Ug()(t))return!0;if(!Ug()(e)&&!Ug()(t)){var n=e.props||{},r=n.children,i=tv(n,Zg),o=t.props||{},a=o.children,s=tv(o,ev);return r&&a?Hg(i,s)&&mv(r,a):!r&&!a&&Hg(i,s)}return!1},gv=function(e,t){var n=[],r={};return sv(e).forEach((function(e,i){if(dv(e))n.push(e);else if(e){var o=iv(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}})),n},vv=function(e,t){return sv(t).indexOf(e)};function bv(e){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(e)}function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(n),!0).forEach((function(t){_v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _v(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kv=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,l=e.height,u=void 0===l?"100%":l,c=e.minWidth,h=void 0===c?0:c,d=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,y=void 0===m?0:m,g=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,_=(0,i.useRef)(null),S=(0,i.useRef)();S.current=b,(0,i.useImperativeHandle)(t,(function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})}));var E=Sv((0,i.useState)({containerWidth:o.width,containerHeight:o.height}),2),k=E[0],O=E[1],T=(0,i.useCallback)((function(e,t){O((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,i.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};y>0&&(e=vg()(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=_.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(_.current),function(){t.disconnect()}}),[T,y]);var C=(0,i.useMemo)((function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;Lg(Cg(s)||Cg(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),Lg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Cg(s)?e:s,o=Cg(u)?t:u;n&&n>0&&(r?o=r/n:o&&(r=o*n),f&&o>f&&(o=f)),Lg(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,s,u,h,d,n);var a=!Array.isArray(p)&&iv(p.type).endsWith("Chart");return i.Children.map(p,(function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,xv({width:r,height:o},a?{style:xv({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,p,u,f,d,h,k,s]);return i.createElement("div",{id:g?"".concat(g):void 0,className:yg("recharts-responsive-container",v),style:xv(xv({},x),{},{width:s,height:u,minWidth:h,minHeight:d,maxHeight:f}),ref:_},C)})),Ov=n(6604),Tv=n.n(Ov),Cv=n(7424),Av=n.n(Cv),Pv="Invariant failed";function Iv(e,t){if(!e)throw new Error(Pv)}var jv=["children","width","height","viewBox","className","style","title","desc"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}function Mv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dv(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,u=e.desc,c=Mv(e,jv),h=o||{width:n,height:r,x:0,y:0},d=yg("recharts-surface",a);return i.createElement("svg",Nv({},pv(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),i.createElement("title",null,l),i.createElement("desc",null,u),t)}var Rv=["children","className"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}function Fv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Uv=i.forwardRef((function(e,t){var n=e.children,r=e.className,o=Fv(e,Rv),a=yg("recharts-layer",r);return i.createElement("g",Lv({className:a},pv(o,!0),{ref:t}),n)}));function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function Vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Wv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kv(e){return Array.isArray(e)&&Pg(e[0])&&Pg(e[1])?e.join(" ~ "):e}var Gv=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,u=void 0===l?{}:l,c=e.payload,h=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,y=e.labelFormatter,g=e.accessibilityLayer,v=void 0!==g&&g,b=Hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Hv({margin:0},u),x=!Ug()(m),_=x?m:"",S=yg("recharts-default-tooltip",f),E=yg("recharts-tooltip-label",p);x&&y&&void 0!==c&&null!==c&&(_=y(m,c));var k=v?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",zv({className:S,style:b},k),i.createElement("p",{className:E,style:w},i.isValidElement(_)?_:"".concat(_)),function(){if(c&&c.length){var e=(d?Av()(c,d):c).map((function(e,t){if("none"===e.type)return null;var r=Hv({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||h||Kv,a=e.value,l=e.name,u=a,d=l;if(o&&null!=u&&null!=d){var f=o(a,l,e,t,c);if(Array.isArray(f)){var p=Vv(f,2);u=p[0],d=p[1]}else u=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Pg(d)?i.createElement("span",{className:"recharts-tooltip-item-name"},d):null,Pg(d)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},u),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}function Yv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xv="recharts-tooltip-wrapper",Jv={visibility:"hidden"};function Zv(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return yg(Xv,Yv(Yv(Yv(Yv({},"".concat(Xv,"-right"),Ag(n)&&t&&Ag(t.x)&&n>=t.x),"".concat(Xv,"-left"),Ag(n)&&t&&Ag(t.x)&&n<t.x),"".concat(Xv,"-bottom"),Ag(r)&&t&&Ag(t.y)&&r>=t.y),"".concat(Xv,"-top"),Ag(r)&&t&&Ag(t.y)&&r<t.y))}function eb(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&Ag(o[r]))return o[r];var c=n[r]-s-i,h=n[r]+i;return t[r]?a[r]?c:h:a[r]?c<l[r]?Math.max(h,l[r]):Math.max(c,l[r]):h+s>l[r]+u?Math.max(c,l[r]):Math.max(h,l[r])}function tb(e){return tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(e)}function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(n),!0).forEach((function(t){ub(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cb(r.key),r)}}function ob(e,t,n){return t=sb(t),function(e,t){if(t&&("object"===tb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ab()?Reflect.construct(t,n||[],sb(e).constructor):t.apply(e,n))}function ab(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ab=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sb(e)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lb(e,t)}function ub(e,t,n){return(t=cb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cb(e){var t=function(e,t){if("object"!=tb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tb(t)?t:t+""}var hb=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ub(e=ob(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ub(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,u=t.hasPayload,c=t.isAnimationActive,h=t.offset,d=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,y=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=eb({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),translateY:n=eb({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:u}):Jv,cssClasses:Zv({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=g.cssClasses,b=g.cssProperties,w=rb(rb({transition:c&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&u?"visible":"hidden",position:"absolute",top:0,left:0},y);return i.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&ib(n.prototype,r),o&&ib(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent),db={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return db[e]},set:function(e,t){if("string"===typeof e)db[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){db[t]=e[t]}))}}},fb=n(977),pb=n.n(fb);function mb(e,t,n){return!0===t?pb()(e,n):zg()(t)?pb()(e,t):e}function yb(e){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(e)}function gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(n),!0).forEach((function(t){Eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kb(r.key),r)}}function wb(e,t,n){return t=_b(t),function(e,t){if(t&&("object"===yb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xb()?Reflect.construct(t,n||[],_b(e).constructor):t.apply(e,n))}function xb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xb=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_b(e)}function Sb(e,t){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sb(e,t)}function Eb(e,t,n){return(t=kb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kb(e){var t=function(e,t){if("object"!=yb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yb(t)?t:t+""}function Ob(e){return e.dataKey}var Tb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sb(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,u=t.filterNull,c=t.isAnimationActive,h=t.offset,d=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,y=t.useTranslate3d,g=t.viewBox,v=t.wrapperStyle,b=null!==d&&void 0!==d?d:[];u&&b.length&&(b=mb(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Ob));var w=b.length>0;return i.createElement(hb,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:c,active:n,coordinate:l,hasPayload:w,offset:h,position:p,reverseDirection:m,useTranslate3d:y,viewBox:g,wrapperStyle:v},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(Gv,t)}(s,vb(vb({},this.props),{},{payload:b})))}}])&&bb(n.prototype,r),o&&bb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);Eb(Tb,"displayName","Tooltip"),Eb(Tb,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!db.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cb=n(643),Ab=n.n(Cb);Math.abs,Math.atan2;const Pb=Math.cos,Ib=(Math.max,Math.min,Math.sin),jb=Math.sqrt,Nb=Math.PI,Mb=2*Nb;const Db={draw(e,t){const n=jb(t/Nb);e.moveTo(n,0),e.arc(0,0,n,0,Mb)}},Rb={draw(e,t){const n=jb(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Lb=jb(1/3),Fb=2*Lb,Ub={draw(e,t){const n=jb(t/Fb),r=n*Lb;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Bb={draw(e,t){const n=jb(t),r=-n/2;e.rect(r,r,n,n)}},zb=Ib(Nb/10)/Ib(7*Nb/10),Vb=Ib(Mb/10)*zb,qb=-Pb(Mb/10)*zb,$b={draw(e,t){const n=jb(.8908130915292852*t),r=Vb*n,i=qb*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Mb*o/5,a=Pb(t),s=Ib(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},Hb=jb(3),Wb={draw(e,t){const n=-jb(t/(3*Hb));e.moveTo(0,2*n),e.lineTo(-Hb*n,-n),e.lineTo(Hb*n,-n),e.closePath()}},Kb=-.5,Gb=jb(3)/2,Qb=1/jb(12),Yb=3*(Qb/2+1),Xb={draw(e,t){const n=jb(t/Yb),r=n/2,i=n*Qb,o=r,a=n*Qb+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Kb*r-Gb*i,Gb*r+Kb*i),e.lineTo(Kb*o-Gb*a,Gb*o+Kb*a),e.lineTo(Kb*s-Gb*l,Gb*s+Kb*l),e.lineTo(Kb*r+Gb*i,Kb*i-Gb*r),e.lineTo(Kb*o+Gb*a,Kb*a-Gb*o),e.lineTo(Kb*s+Gb*l,Kb*l-Gb*s),e.closePath()}};function Jb(e){return function(){return e}}const Zb=Math.PI,ew=2*Zb,tw=1e-6,nw=ew-tw;function rw(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class iw{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?rw:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rw;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,h=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>tw)if(Math.abs(c*s-l*u)>tw&&i){let d=n-o,f=r-a,p=s*s+l*l,m=d*d+f*f,y=Math.sqrt(p),g=Math.sqrt(h),v=i*Math.tan((Zb-Math.acos((p+h-m)/(2*y*g)))/2),b=v/g,w=v/y;Math.abs(b-1)>tw&&this._append`L${e+b*u},${t+b*c}`,this._append`A${i},${i},0,0,${+(c*d>u*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>tw||Math.abs(this._y1-u)>tw)&&this._append`L${l},${u}`,n&&(h<0&&(h=h%ew+ew),h>nw?this._append`A${n},${n},0,1,${c},${e-a},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:h>tw&&this._append`A${n},${n},0,${+(h>=Zb)},${c},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ow(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new iw(t)}jb(3),jb(3);function aw(e){return aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(e)}var sw=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(this,arguments)}function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach((function(t){hw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fw={symbolCircle:Db,symbolCross:Rb,symbolDiamond:Ub,symbolSquare:Bb,symbolStar:$b,symbolTriangle:Wb,symbolWye:Xb},pw=Math.PI/180,mw=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,s=void 0===a?"area":a,l=cw(cw({},dw(e,sw)),{},{type:n,size:o,sizeType:s}),u=l.className,c=l.cx,h=l.cy,d=pv(l,!0);return c===+c&&h===+h&&o===+o?i.createElement("path",lw({},d,{className:yg("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(h,")"),d:function(){var e=function(e){var t="symbol".concat(Ab()(e));return fw[t]||Db}(n),t=function(e,t){let n=null,r=ow(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Jb(e||Db),t="function"===typeof t?t:Jb(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Jb(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Jb(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*pw;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function yw(e){return yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kw(r.key),r)}}function ww(e,t,n){return t=_w(t),function(e,t){if(t&&("object"===yw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xw()?Reflect.construct(t,n||[],_w(e).constructor):t.apply(e,n))}function xw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xw=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_w(e)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sw(e,t)}function Ew(e,t,n){return(t=kw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kw(e){var t=function(e,t){if("object"!=yw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yw(t)?t:t+""}mw.registerSymbol=function(e,t){fw["symbol".concat(Ab()(e))]=t};var Ow=32,Tw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ww(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Ow/6,o=Ow/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Ow,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Ow,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Ow,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach((function(t){Ew(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(mw,{fill:a,cx:n,cy:n,size:Ow,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Ow,height:Ow},u={display:"horizontal"===o?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,h=yg(Ew(Ew({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=zg()(t.value)?null:t.value;Lg(!zg()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return i.createElement("li",gw({className:h,style:u,key:"legend-item-".concat(n)},Jg(e.props,t,n)),i.createElement(Dv,{width:r,height:r,viewBox:l,style:c},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&bw(n.prototype,r),o&&bw(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function Cw(e){return Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(e)}Ew(Tw,"displayName","Legend"),Ew(Tw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Aw=["ref"];function Pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(n),!0).forEach((function(t){Lw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fw(r.key),r)}}function Nw(e,t,n){return t=Dw(t),function(e,t){if(t&&("object"===Cw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mw()?Reflect.construct(t,n||[],Dw(e).constructor):t.apply(e,n))}function Mw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mw=function(){return!!e})()}function Dw(e){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dw(e)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rw(e,t)}function Lw(e,t,n){return(t=Fw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fw(e){var t=function(e,t){if("object"!=Cw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cw(t)?t:t+""}function Uw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bw(e){return e.value}var zw=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Lw(e=Nw(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Iw({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Iw(Iw({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=Iw(Iw({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=Uw(t,Aw);return i.createElement(Tw,n)}(n,Iw(Iw({},this.props),{},{payload:mb(l,s,Bw)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=Iw(Iw({},this.defaultProps),e.props).layout;return"vertical"===n&&Ag(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&jw(n.prototype,r),o&&jw(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(this,arguments)}Lw(zw,"displayName","Legend"),Lw(zw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qw=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=yg("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",Vw({},pv(e,!1),Xg(e),{className:a,cx:t,cy:n,r:r})):null},$w=n(5173),Hw=n.n($w),Ww=Object.getOwnPropertyNames,Kw=Object.getOwnPropertySymbols,Gw=Object.prototype.hasOwnProperty;function Qw(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function Yw(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Xw(e){return Ww(e).concat(Kw(e))}var Jw=Object.hasOwn||function(e,t){return Gw.call(e,t)};function Zw(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ex=Object.getOwnPropertyDescriptor,tx=Object.keys;function nx(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function rx(e,t){return Zw(e.getTime(),t.getTime())}function ix(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ox(e,t){return e===t}function ax(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var u=t.entries(),c=!1,h=0;(o=u.next())&&!o.done;)if(a[h])h++;else{var d=i.value,f=o.value;if(n.equals(d[0],f[0],l,h,e,t,n)&&n.equals(d[1],f[1],d[0],f[0],e,t,n)){c=a[h]=!0;break}h++}if(!c)return!1;l++}return!0}var sx=Zw;function lx(e,t,n){var r=tx(e),i=r.length;if(tx(t).length!==i)return!1;for(;i-- >0;)if(!mx(e,t,n,r[i]))return!1;return!0}function ux(e,t,n){var r,i,o,a=Xw(e),s=a.length;if(Xw(t).length!==s)return!1;for(;s-- >0;){if(!mx(e,t,n,r=a[s]))return!1;if(i=ex(e,r),o=ex(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function cx(e,t){return Zw(e.valueOf(),t.valueOf())}function hx(e,t){return e.source===t.source&&e.flags===t.flags}function dx(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),u=!1,c=0;(o=l.next())&&!o.done;){if(!a[c]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){u=a[c]=!0;break}c++}if(!u)return!1}return!0}function fx(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function px(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function mx(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Jw(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var yx=Array.isArray,gx="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,vx=Object.assign,bx=Object.prototype.toString.call.bind(Object.prototype.toString);var wx=xx();xx({strict:!0}),xx({circular:!0}),xx({circular:!0,strict:!0}),xx({createInternalComparator:function(){return Zw}}),xx({strict:!0,createInternalComparator:function(){return Zw}}),xx({circular:!0,createInternalComparator:function(){return Zw}}),xx({circular:!0,createInternalComparator:function(){return Zw},strict:!0});function xx(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?ux:nx,areDatesEqual:rx,areErrorsEqual:ix,areFunctionsEqual:ox,areMapsEqual:r?Qw(ax,ux):ax,areNumbersEqual:sx,areObjectsEqual:r?ux:lx,arePrimitiveWrappersEqual:cx,areRegExpsEqual:hx,areSetsEqual:r?Qw(dx,ux):dx,areTypedArraysEqual:r?ux:fx,areUrlsEqual:px};if(n&&(i=vx({},i,n(i))),t){var o=Yw(i.areArraysEqual),a=Yw(i.areMapsEqual),s=Yw(i.areObjectsEqual),l=Yw(i.areSetsEqual);i=vx({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,h=e.areTypedArraysEqual,d=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var y=e.constructor;if(y!==f.constructor)return!1;if(y===Object)return s(e,f,p);if(yx(e))return t(e,f,p);if(null!=gx&&gx(e))return h(e,f,p);if(y===Date)return n(e,f,p);if(y===RegExp)return u(e,f,p);if(y===Map)return o(e,f,p);if(y===Set)return c(e,f,p);var g=bx(e);return"[object Date]"===g?n(e,f,p):"[object RegExp]"===g?u(e,f,p):"[object Map]"===g?o(e,f,p):"[object Set]"===g?c(e,f,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===g?d(e,f,p):"[object Error]"===g?r(e,f,p):"[object Arguments]"===g?s(e,f,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,f,p)}}(l),c=i?i(u):(t=u,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,u=void 0===l?t?new WeakMap:void 0:l,c=s.meta;return n(e,a,{cache:u,equals:i,meta:c,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:u,createState:o,equals:c,strict:s})}function _x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Sx(e){return Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(e)}function Ex(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ox(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Ex(r),o=i[0],a=i.slice(1);return"number"===typeof o?void _x(n.bind(null,a),o):(n(o),void _x(n.bind(null,a)))}"object"===Sx(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Tx(e){return Tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(e)}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(n),!0).forEach((function(t){Px(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Px(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Tx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tx(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ix=function(e){return e},jx=function(e,t){return Object.keys(t).reduce((function(n,r){return Ax(Ax({},n),{},Px({},r,e(r,t[r])))}),{})},Nx=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Mx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Rx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dx(e){return function(e){if(Array.isArray(e))return Lx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rx(e,t){if(e){if("string"===typeof e)return Lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lx(e,t):void 0}}function Lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fx=1e-4,Ux=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Bx=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},zx=function(e,t){return function(n){var r=Ux(e,t);return Bx(r,n)}},Vx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),u=Mx(l,4);r=u[0],i=u[1],o=u[2],a=u[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,h,d=zx(r,o),f=zx(i,a),p=(c=r,h=o,function(e){var t=Ux(c,h),n=[].concat(Dx(t.map((function(e,t){return e*t})).slice(1)),[0]);return Bx(n,e)}),m=function(e){return e>1?1:e<0?0:e},y=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=p(n);if(Math.abs(i-t)<Fx||o<Fx)return f(n);n=m(n-i/o)}return f(n)};return y.isStepper=!1,y},qx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vx(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<Fx&&Math.abs(o)<Fx?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return Vx(r)}return"function"===typeof r?r:null};function $x(e){return $x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(e)}function Hx(e){return function(e){if(Array.isArray(e))return Xx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wx(Object(n),!0).forEach((function(t){Gx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gx(e,t,n){return t=function(e){var t=function(e,t){if("object"!==$x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$x(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Yx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yx(e,t){if(e){if("string"===typeof e)return Xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xx(e,t):void 0}}function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jx=function(e,t,n){return e+(t-e)*n},Zx=function(e){return e.from!==e.to},e_=function e(t,n,r){var i=jx((function(e,n){if(Zx(n)){var r=Qx(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return Kx(Kx({},n),{},{from:i,velocity:o})}return n}),n);return r<1?jx((function(e,t){return Zx(t)?Kx(Kx({},t),{},{velocity:Jx(t.velocity,i[e].velocity,r),from:Jx(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const t_=function(e,t,n,r,i){var o,a,s,l,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=u.reduce((function(n,r){return Kx(Kx({},n),{},Gx({},r,[e[r],t[r]]))}),{}),h=u.reduce((function(n,r){return Kx(Kx({},n),{},Gx({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=e_(n,h,o),i(Kx(Kx(Kx({},e),t),jx((function(e,t){return t.from}),h))),s=r,Object.values(h).filter(Zx).length&&(d=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=jx((function(e,t){return Jx.apply(void 0,Hx(t).concat([n(a)]))}),c);if(i(Kx(Kx(Kx({},e),t),s)),a<1)d=requestAnimationFrame(f);else{var u=jx((function(e,t){return Jx.apply(void 0,Hx(t).concat([n(1)]))}),c);i(Kx(Kx(Kx({},e),t),u))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function n_(e){return n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(e)}var r_=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function i_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o_(e){return function(e){if(Array.isArray(e))return a_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(n),!0).forEach((function(t){u_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u_(e,t,n){return(t=h_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h_(r.key),r)}}function h_(e){var t=function(e,t){if("object"!==n_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==n_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n_(t)?t:String(t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d_(e,t)}function f_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y_(e);if(t){var i=y_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(e,t){if(t&&("object"===n_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m_(e)}function m_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(e){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y_(e)}var g_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}(a,e);var t,n,r,o=f_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,h=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(m_(n)),n.changeStyle=n.changeStyle.bind(m_(n)),!i||d<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:u}),p_(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof h)return n.state={style:l},p_(n);n.state={style:s?u_({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(wx(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||o?s:e.to;if(this.state&&l){var h={style:i?u_({},i,c):c};(i&&l[i]!==c||!i&&l!==c)&&this.setState(h)}this.runAnimation(l_(l_({},this.props),{},{from:c,begin:0}))}}else{var d={style:i?u_({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=t_(n,r,qx(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(o_(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,u=r.properties,c=r.onAnimationEnd,h=i>0?n[i-1]:r,d=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(o_(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:o,easing:s}),o]);var f=Nx(d,o,s),p=l_(l_(l_({},h.style),l),{},{transition:f});return[].concat(o_(e),[p,o,c]).filter(Ix)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Ox());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof u&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var h=r?u_({},r,i):i,d=Nx(Object.keys(h),n,o);c.start([a,t,l_(l_({},h),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,i_(e,r_)),a=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,l_(l_({},o),{},{style:l_(l_({},r),s),className:a}))};return 1===a?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return l(e)})))}}],n&&c_(t.prototype,n),r&&c_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);g_.displayName="Animate",g_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},g_.propTypes={from:Hw().oneOfType([Hw().object,Hw().string]),to:Hw().oneOfType([Hw().object,Hw().string]),attributeName:Hw().string,duration:Hw().number,begin:Hw().number,easing:Hw().oneOfType([Hw().string,Hw().func]),steps:Hw().arrayOf(Hw().shape({duration:Hw().number.isRequired,style:Hw().object.isRequired,easing:Hw().oneOfType([Hw().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Hw().func]),properties:Hw().arrayOf("string"),onAnimationEnd:Hw().func})),children:Hw().oneOfType([Hw().node,Hw().func]),isActive:Hw().bool,canBegin:Hw().bool,onAnimationEnd:Hw().func,shouldReAnimate:Hw().bool,onAnimationStart:Hw().func,onAnimationReStart:Hw().func};const v_=g_;function b_(e){return b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w_.apply(this,arguments)}function x_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return __(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=b_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O_=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],h=0;h<4;h++)c[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(o+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),o+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(o+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),o+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(o+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),o+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(o+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},T_=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),u=Math.max(i,i+a),c=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=u&&r>=c&&r<=h}return!1},C_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A_=function(e){var t=E_(E_({},C_),e),n=(0,i.useRef)(),r=x_((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,u=t.width,c=t.height,h=t.radius,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||0===u||0===c)return null;var v=yg("recharts-rectangle",d);return g?i.createElement(v_,{canBegin:o>0,from:{width:u,height:c,x:s,y:l},to:{width:u,height:c,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var r=e.width,a=e.height,s=e.x,l=e.y;return i.createElement(v_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:y,easing:f},i.createElement("path",w_({},pv(t,!0),{className:v,d:O_(s,l,r,a,h),ref:n})))})):i.createElement("path",w_({},pv(t,!0),{className:v,d:O_(s,l,u,c,h)}))};function P_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function I_(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class j_ extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(N_(this,e))}has(e){return super.has(N_(this,e))}set(e,t){return super.set(M_(this,e),t)}delete(e){return super.delete(D_(this,e))}}Set;function N_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function M_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function D_(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function R_(e){return null!==e&&"object"===typeof e?e.valueOf():e}const L_=Symbol("implicit");function F_(){var e=new j_,t=[],n=[],r=L_;function i(i){let o=e.get(i);if(void 0===o){if(r!==L_)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new j_;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return F_(t,n).unknown(r)},P_.apply(i,arguments),i}function U_(){var e,t,n=F_().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),d+=(f-d-e*(n-l))*c,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},n.copy=function(){return U_(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},P_.apply(h(),arguments)}function B_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B_(t())},e}function z_(){return B_(U_.apply(null,arguments).paddingInner(1))}function V_(e){return V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(e)}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q_(Object(n),!0).forEach((function(t){H_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=V_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W_={widthCache:{},cacheCount:0},K_={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G_="recharts_measurement_span";var Q_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||db.isSsr)return{width:0,height:0};var n=function(e){var t=$_({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(W_.widthCache[r])return W_.widthCache[r];try{var i=document.getElementById(G_);i||((i=document.createElement("span")).setAttribute("id",G_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=$_($_({},K_),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return W_.widthCache[r]=s,++W_.cacheCount>2e3&&(W_.cacheCount=0,W_.widthCache={}),s}catch(l){return{width:0,height:0}}};function Y_(e){return Y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(e)}function X_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eS(r.key),r)}}function eS(e){var t=function(e,t){if("object"!=Y_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y_(t)?t:t+""}var tS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rS=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iS=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oS={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},aS=Object.keys(oS),sS="NaN";var lS=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||rS.test(n)||(this.num=NaN,this.unit=""),aS.includes(n)&&(this.num=function(e,t){return e*oS[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=X_(null!==(n=iS.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Z_(t.prototype,n),r&&Z_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function uS(e){if(e.includes(sS))return sS;for(var t=e;t.includes("*")||t.includes("/");){var n,r=X_(null!==(n=tS.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=lS.parse(null!==i&&void 0!==i?i:""),l=lS.parse(null!==a&&void 0!==a?a:""),u="*"===o?s.multiply(l):s.divide(l);if(u.isNaN())return sS;t=t.replace(tS,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,h=X_(null!==(c=nS.exec(t))&&void 0!==c?c:[],4),d=h[1],f=h[2],p=h[3],m=lS.parse(null!==d&&void 0!==d?d:""),y=lS.parse(null!==p&&void 0!==p?p:""),g="+"===f?m.add(y):m.subtract(y);if(g.isNaN())return sS;t=t.replace(nS,g.toString())}return t}var cS=/\(([^()]*)\)/;function hS(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=X_(cS.exec(t),2)[1];t=t.replace(cS,uS(n))}return t}(t),t=uS(t)}function dS(e){var t=function(e){try{return hS(e)}catch(t){return sS}}(e.slice(5,-1));return t===sS?"":t}var fS=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pS=["dx","dy","angle","className","breakAll"];function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(this,arguments)}function yS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bS=/[ \f\n\r\t\v\u2028\u2029]+/,wS=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return Ug()(t)||(i=n?t.toString().split(""):t.toString().split(bS)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:Q_(e,r).width}})),spaceWidth:n?0:Q_("\xa0",r).width}}catch(o){return null}},xS=function(e){return[{words:Ug()(e)?[]:e.toString().split(bS)}]},_S=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!db.isSsr){var s=wS({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,u=Ag(o),c=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},d=h(t);if(!u)return d;for(var f,p=function(e){var t=c.slice(0,e),n=wS({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,y=c.length-1,g=0;m<=y&&g<=c.length-1;){var v=Math.floor((m+y)/2),b=gS(p(v-1),2),w=b[0],x=b[1],_=gS(p(v),1)[0];if(w||_||(m=v+1),w&&_&&(y=v-1),!w&&_){f=x;break}g++}return f||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):xS(r)}return xS(r)},SS="#808080",ES=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,u=void 0===l?"0.71em":l,c=e.scaleToFit,h=void 0!==c&&c,d=e.textAnchor,f=void 0===d?"start":d,p=e.verticalAnchor,m=void 0===p?"end":p,y=e.fill,g=void 0===y?SS:y,v=yS(e,fS),b=(0,i.useMemo)((function(){return _S({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),w=v.dx,x=v.dy,_=v.angle,S=v.className,E=v.breakAll,k=yS(v,pS);if(!Pg(n)||!Pg(o))return null;var O,T=n+(Ag(w)?w:0),C=o+(Ag(x)?x:0);switch(m){case"start":O=dS("calc(".concat(u,")"));break;case"middle":O=dS("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=dS("calc(".concat(b.length-1," * -").concat(s,")"))}var A=[];if(h){var P=b[0].width,I=v.width;A.push("scale(".concat((Ag(I)?I/P:1)/P,")"))}return _&&A.push("rotate(".concat(_,", ").concat(T,", ").concat(C,")")),A.length&&(k.transform=A.join(" ")),i.createElement("text",mS({},pv(k,!0),{x:T,y:C,className:yg("recharts-text",S),textAnchor:f,fill:g.includes("url")?SS:g}),b.map((function(e,t){var n=e.words.join(E?"":" ");return i.createElement("tspan",{x:T,dy:0===t?O:s,key:"".concat(n,"-").concat(t)},n)})))};const kS=Math.sqrt(50),OS=Math.sqrt(10),TS=Math.sqrt(2);function CS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=kS?10:o>=OS?5:o>=TS?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?CS(e,t,2*n):[s,l,u]}function AS(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?CS(t,e,n):CS(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function PS(e,t,n){return CS(e=+e,t=+t,n=+n)[2]}function IS(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?PS(t,e,n):PS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jS(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NS(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MS(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=jS,n=(t,n)=>jS(e(t),n),r=(t,n)=>e(t)-n):(t=e===jS||e===NS?e:DS,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function DS(){return 0}function RS(e){return null===e?NaN:+e}const LS=MS(jS),FS=LS.right,US=(LS.left,MS(RS).center,FS);function BS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function VS(){}var qS=.7,$S=1/qS,HS="\\s*([+-]?\\d+)\\s*",WS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GS=/^#([0-9a-f]{3,8})$/,QS=new RegExp(`^rgb\\(${HS},${HS},${HS}\\)$`),YS=new RegExp(`^rgb\\(${KS},${KS},${KS}\\)$`),XS=new RegExp(`^rgba\\(${HS},${HS},${HS},${WS}\\)$`),JS=new RegExp(`^rgba\\(${KS},${KS},${KS},${WS}\\)$`),ZS=new RegExp(`^hsl\\(${WS},${KS},${KS}\\)$`),eE=new RegExp(`^hsla\\(${WS},${KS},${KS},${WS}\\)$`),tE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nE(){return this.rgb().formatHex()}function rE(){return this.rgb().formatRgb()}function iE(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?oE(t):3===n?new lE(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?aE(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?aE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=QS.exec(e))?new lE(t[1],t[2],t[3],1):(t=YS.exec(e))?new lE(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=XS.exec(e))?aE(t[1],t[2],t[3],t[4]):(t=JS.exec(e))?aE(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ZS.exec(e))?pE(t[1],t[2]/100,t[3]/100,1):(t=eE.exec(e))?pE(t[1],t[2]/100,t[3]/100,t[4]):tE.hasOwnProperty(e)?oE(tE[e]):"transparent"===e?new lE(NaN,NaN,NaN,0):null}function oE(e){return new lE(e>>16&255,e>>8&255,255&e,1)}function aE(e,t,n,r){return r<=0&&(e=t=n=NaN),new lE(e,t,n,r)}function sE(e,t,n,r){return 1===arguments.length?((i=e)instanceof VS||(i=iE(i)),i?new lE((i=i.rgb()).r,i.g,i.b,i.opacity):new lE):new lE(e,t,n,null==r?1:r);var i}function lE(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function uE(){return`#${fE(this.r)}${fE(this.g)}${fE(this.b)}`}function cE(){const e=hE(this.opacity);return`${1===e?"rgb(":"rgba("}${dE(this.r)}, ${dE(this.g)}, ${dE(this.b)}${1===e?")":`, ${e})`}`}function hE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dE(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fE(e){return((e=dE(e))<16?"0":"")+e.toString(16)}function pE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yE(e,t,n,r)}function mE(e){if(e instanceof yE)return new yE(e.h,e.s,e.l,e.opacity);if(e instanceof VS||(e=iE(e)),!e)return new yE;if(e instanceof yE)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new yE(a,s,l,e.opacity)}function yE(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gE(e){return(e=(e||0)%360)<0?e+360:e}function vE(e){return Math.max(0,Math.min(1,e||0))}function bE(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function wE(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}BS(VS,iE,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nE,formatHex:nE,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return mE(this).formatHsl()},formatRgb:rE,toString:rE}),BS(lE,sE,zS(VS,{brighter(e){return e=null==e?$S:Math.pow($S,e),new lE(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qS:Math.pow(qS,e),new lE(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lE(dE(this.r),dE(this.g),dE(this.b),hE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uE,formatHex:uE,formatHex8:function(){return`#${fE(this.r)}${fE(this.g)}${fE(this.b)}${fE(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:cE,toString:cE})),BS(yE,(function(e,t,n,r){return 1===arguments.length?mE(e):new yE(e,t,n,null==r?1:r)}),zS(VS,{brighter(e){return e=null==e?$S:Math.pow($S,e),new yE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qS:Math.pow(qS,e),new yE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new lE(bE(e>=240?e-240:e+120,i,r),bE(e,i,r),bE(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new yE(gE(this.h),vE(this.s),vE(this.l),hE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hE(this.opacity);return`${1===e?"hsl(":"hsla("}${gE(this.h)}, ${100*vE(this.s)}%, ${100*vE(this.l)}%${1===e?")":`, ${e})`}`}}));const xE=e=>()=>e;function _E(e,t){return function(n){return e+n*t}}function SE(e){return 1===(e=+e)?EE:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):xE(isNaN(t)?n:t)}}function EE(e,t){var n=t-e;return n?_E(e,n):xE(isNaN(e)?t:e)}const kE=function e(t){var n=SE(t);function r(e,t){var r=n((e=sE(e)).r,(t=sE(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=EE(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function OE(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=sE(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}OE((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return wE((n-r/t)*t,a,i,o,s)}})),OE((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return wE((n-r/t)*t,i,o,a,s)}}));function TE(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=DE(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function CE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function AE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function PE(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=DE(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var IE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jE=new RegExp(IE.source,"g");function NE(e,t){var n,r,i,o=IE.lastIndex=jE.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=IE.exec(e))&&(r=jE.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:AE(n,r)})),o=jE.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ME(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function DE(e,t){var n,r=typeof t;return null==t||"boolean"===r?xE(t):("number"===r?AE:"string"===r?(n=iE(t))?(t=n,kE):NE:t instanceof iE?kE:t instanceof Date?CE:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ME:Array.isArray(t)?TE:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?PE:AE)(e,t)}function RE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function LE(e){return+e}var FE=[0,1];function UE(e){return e}function BE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function zE(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=BE(i,r),o=n(a,o)):(r=BE(r,i),o=n(o,a)),function(e){return o(r(e))}}function VE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=BE(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=US(e,t,1,r)-1;return o[n](i[n](t))}}function qE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $E(){var e,t,n,r,i,o,a=FE,s=FE,l=DE,u=UE;function c(){var e=Math.min(a.length,s.length);return u!==UE&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?VE:zE,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return h.invert=function(n){return u(t((o||(o=r(s,a.map(e),AE)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,LE),c()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=RE,c()},h.clamp=function(e){return arguments.length?(u=!!e||UE,c()):u!==UE},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}function HE(){return $E()(UE,UE)}var WE,KE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function GE(e){if(!(t=KE.exec(e)))throw new Error("invalid format: "+e);var t;return new QE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function QE(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function YE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function XE(e){return(e=YE(Math.abs(e)))?e[1]:NaN}function JE(e,t){var n=YE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}GE.prototype=QE.prototype,QE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ZE={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JE(100*e,t),r:JE,s:function(e,t){var n=YE(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(WE=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+YE(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ek(e){return e}var tk,nk,rk,ik=Array.prototype.map,ok=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ak(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ek:(t=ik.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ek:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ik.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=GE(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):ZE[v]||(void 0===y&&(y=12),g=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?l:"",x=ZE[v],_=/[defgprs%]/.test(v);function S(e){var i,o,l,d=b,S=w;if("c"===v)S=x(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==h&&(E=!1),d=(E?"("===h?h:u:"-"===h||"("===h?"":h)+d,S=("s"===v?ok[8+WE/3]:"")+S+(E&&"("===h?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=d.length+e.length+S.length,O=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?p-S.length:1/0),O=""),n){case"<":e=d+e+S+O;break;case"=":e=d+O+e+S;break;case"^":e=O.slice(0,k=O.length>>1)+d+e+S+O.slice(k);break;default:e=O+d+e+S}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n=h(((e=GE(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(XE(t)/3))),i=Math.pow(10,-r),o=ok[8+r/3];return function(e){return n(i*e)+o}}}}function sk(e,t,n,r){var i,o=IS(e,t,n);switch((r=GE(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(XE(t)/3)))-XE(Math.abs(e)))}(o,a))||(r.precision=i),rk(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,XE(t)-XE(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-XE(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return nk(r)}function lk(e){var t=e.domain;return e.ticks=function(e){var n=t();return AS(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return sk(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=PS(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function uk(){var e=HE();return e.copy=function(){return qE(e,uk())},P_.apply(e,arguments),lk(e)}function ck(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,LE),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ck(e).unknown(t)},e=arguments.length?Array.from(e,LE):[0,1],lk(n)}function hk(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function dk(e){return Math.log(e)}function fk(e){return Math.exp(e)}function pk(e){return-Math.log(-e)}function mk(e){return-Math.exp(-e)}function yk(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gk(e){return(t,n)=>-e(-t,n)}function vk(e){const t=e(dk,fk),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?yk:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=gk(r),i=gk(i),e(pk,mk)):e(dk,fk),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let u,c,h=r(a),d=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(u=1;u<o;++u)if(c=h<0?u/i(-h):u*i(h),!(c<a)){if(c>s)break;p.push(c)}}else for(;h<=d;++h)for(u=o-1;u>=1;--u)if(c=h>0?u/i(-h):u*i(h),!(c<a)){if(c>s)break;p.push(c)}2*p.length<f&&(p=AS(a,s,f))}else p=AS(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=GE(n)).precision||(n.trim=!0),n=nk(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(hk(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function bk(){const e=vk($E()).domain([1,10]);return e.copy=()=>qE(e,bk()).base(e.base()),P_.apply(e,arguments),e}function wk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _k(e){var t=1,n=e(wk(t),xk(t));return n.constant=function(n){return arguments.length?e(wk(t=+n),xk(t)):t},lk(n)}function Sk(){var e=_k($E());return e.copy=function(){return qE(e,Sk()).constant(e.constant())},P_.apply(e,arguments)}function Ek(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ok(e){return e<0?-e*e:e*e}function Tk(e){var t=e(UE,UE),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(UE,UE):.5===n?e(kk,Ok):e(Ek(n),Ek(1/n)):n},lk(t)}function Ck(){var e=Tk($E());return e.copy=function(){return qE(e,Ck()).exponent(e.exponent())},P_.apply(e,arguments),e}function Ak(){return Ck.apply(null,arguments).exponent(.5)}function Pk(e){return Math.sign(e)*e*e}function Ik(){var e,t=HE(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Pk(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,LE)).map(Pk)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ik(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},P_.apply(i,arguments),lk(i)}function jk(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Nk(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Mk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS;if(e===jS)return Dk;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Dk(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Rk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Dk:Mk(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Rk(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}const o=e[t];let a=n,s=r;for(Lk(e,n,t),i(e[r],o)>0&&Lk(e,n,r);a<s;){for(Lk(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Lk(e,n,s):(++s,Lk(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Lk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fk(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Nk(e);if(t>=1)return jk(e);var r,i=(r-1)*t,o=Math.floor(i),a=jk(Rk(e,o).subarray(0,o+1));return a+(Nk(e.subarray(o+1))-a)*(i-o)}}function Uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RS;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Bk(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Uk(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[US(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(jS),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Bk().domain(t).range(n).unknown(e)},P_.apply(o,arguments)}function zk(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[US(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return zk().domain([t,n]).range(o).unknown(e)},P_.apply(lk(a),arguments)}function Vk(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[US(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Vk().domain(t).range(n).unknown(e)},P_.apply(i,arguments)}tk=ak({thousands:",",grouping:[3],currency:["$",""]}),nk=tk.format,rk=tk.formatPrefix;const qk=1e3,$k=6e4,Hk=36e5,Wk=864e5,Kk=6048e5,Gk=2592e6,Qk=31536e6,Yk=new Date,Xk=new Date;function Jk(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Jk((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Yk.setTime(+t),Xk.setTime(+r),e(Yk),e(Xk),Math.floor(n(Yk,Xk))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Zk=Jk((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Zk.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Jk((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Zk:null);Zk.range;const eO=Jk((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*qk)}),((e,t)=>(t-e)/qk),(e=>e.getUTCSeconds())),tO=(eO.range,Jk((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qk)}),((e,t)=>{e.setTime(+e+t*$k)}),((e,t)=>(t-e)/$k),(e=>e.getMinutes()))),nO=(tO.range,Jk((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*$k)}),((e,t)=>(t-e)/$k),(e=>e.getUTCMinutes()))),rO=(nO.range,Jk((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qk-e.getMinutes()*$k)}),((e,t)=>{e.setTime(+e+t*Hk)}),((e,t)=>(t-e)/Hk),(e=>e.getHours()))),iO=(rO.range,Jk((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Hk)}),((e,t)=>(t-e)/Hk),(e=>e.getUTCHours()))),oO=(iO.range,Jk((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$k)/Wk),(e=>e.getDate()-1))),aO=(oO.range,Jk((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Wk),(e=>e.getUTCDate()-1))),sO=(aO.range,Jk((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Wk),(e=>Math.floor(e/Wk))));sO.range;function lO(e){return Jk((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$k)/Kk))}const uO=lO(0),cO=lO(1),hO=lO(2),dO=lO(3),fO=lO(4),pO=lO(5),mO=lO(6);uO.range,cO.range,hO.range,dO.range,fO.range,pO.range,mO.range;function yO(e){return Jk((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Kk))}const gO=yO(0),vO=yO(1),bO=yO(2),wO=yO(3),xO=yO(4),_O=yO(5),SO=yO(6),EO=(gO.range,vO.range,bO.range,wO.range,xO.range,_O.range,SO.range,Jk((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),kO=(EO.range,Jk((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),OO=(kO.range,Jk((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));OO.every=e=>isFinite(e=Math.floor(e))&&e>0?Jk((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;OO.range;const TO=Jk((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));TO.every=e=>isFinite(e=Math.floor(e))&&e>0?Jk((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;TO.range;function CO(e,t,n,r,i,o){const a=[[eO,1,qk],[eO,5,5e3],[eO,15,15e3],[eO,30,3e4],[o,1,$k],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Hk],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Wk],[r,2,1728e5],[n,1,Kk],[t,1,Gk],[t,3,7776e6],[e,1,Qk]];function s(t,n,r){const i=Math.abs(n-t)/r,o=MS((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(IS(t/Qk,n/Qk,r));if(0===o)return Zk.every(Math.max(IS(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[AO,PO]=CO(TO,kO,gO,sO,iO,nO),[IO,jO]=CO(OO,EO,uO,oO,rO,tO);function NO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function DO(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var RO,LO,FO,UO={"-":"",_:" ",0:"0"},BO=/^\s*\d+/,zO=/^%/,VO=/[\\^$*+?|[\]().{}]/g;function qO(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $O(e){return e.replace(VO,"\\$&")}function HO(e){return new RegExp("^(?:"+e.map($O).join("|")+")","i")}function WO(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function KO(e,t,n){var r=BO.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function GO(e,t,n){var r=BO.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function QO(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function YO(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function XO(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function JO(e,t,n){var r=BO.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ZO(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eT(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tT(e,t,n){var r=BO.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function nT(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rT(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function iT(e,t,n){var r=BO.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oT(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function aT(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sT(e,t,n){var r=BO.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lT(e,t,n){var r=BO.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function uT(e,t,n){var r=BO.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cT(e,t,n){var r=zO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function hT(e,t,n){var r=BO.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dT(e,t,n){var r=BO.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fT(e,t){return qO(e.getDate(),t,2)}function pT(e,t){return qO(e.getHours(),t,2)}function mT(e,t){return qO(e.getHours()%12||12,t,2)}function yT(e,t){return qO(1+oO.count(OO(e),e),t,3)}function gT(e,t){return qO(e.getMilliseconds(),t,3)}function vT(e,t){return gT(e,t)+"000"}function bT(e,t){return qO(e.getMonth()+1,t,2)}function wT(e,t){return qO(e.getMinutes(),t,2)}function xT(e,t){return qO(e.getSeconds(),t,2)}function _T(e){var t=e.getDay();return 0===t?7:t}function ST(e,t){return qO(uO.count(OO(e)-1,e),t,2)}function ET(e){var t=e.getDay();return t>=4||0===t?fO(e):fO.ceil(e)}function kT(e,t){return e=ET(e),qO(fO.count(OO(e),e)+(4===OO(e).getDay()),t,2)}function OT(e){return e.getDay()}function TT(e,t){return qO(cO.count(OO(e)-1,e),t,2)}function CT(e,t){return qO(e.getFullYear()%100,t,2)}function AT(e,t){return qO((e=ET(e)).getFullYear()%100,t,2)}function PT(e,t){return qO(e.getFullYear()%1e4,t,4)}function IT(e,t){var n=e.getDay();return qO((e=n>=4||0===n?fO(e):fO.ceil(e)).getFullYear()%1e4,t,4)}function jT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qO(t/60|0,"0",2)+qO(t%60,"0",2)}function NT(e,t){return qO(e.getUTCDate(),t,2)}function MT(e,t){return qO(e.getUTCHours(),t,2)}function DT(e,t){return qO(e.getUTCHours()%12||12,t,2)}function RT(e,t){return qO(1+aO.count(TO(e),e),t,3)}function LT(e,t){return qO(e.getUTCMilliseconds(),t,3)}function FT(e,t){return LT(e,t)+"000"}function UT(e,t){return qO(e.getUTCMonth()+1,t,2)}function BT(e,t){return qO(e.getUTCMinutes(),t,2)}function zT(e,t){return qO(e.getUTCSeconds(),t,2)}function VT(e){var t=e.getUTCDay();return 0===t?7:t}function qT(e,t){return qO(gO.count(TO(e)-1,e),t,2)}function $T(e){var t=e.getUTCDay();return t>=4||0===t?xO(e):xO.ceil(e)}function HT(e,t){return e=$T(e),qO(xO.count(TO(e),e)+(4===TO(e).getUTCDay()),t,2)}function WT(e){return e.getUTCDay()}function KT(e,t){return qO(vO.count(TO(e)-1,e),t,2)}function GT(e,t){return qO(e.getUTCFullYear()%100,t,2)}function QT(e,t){return qO((e=$T(e)).getUTCFullYear()%100,t,2)}function YT(e,t){return qO(e.getUTCFullYear()%1e4,t,4)}function XT(e,t){var n=e.getUTCDay();return qO((e=n>=4||0===n?xO(e):xO.ceil(e)).getUTCFullYear()%1e4,t,4)}function JT(){return"+0000"}function ZT(){return"%"}function eC(e){return+e}function tC(e){return Math.floor(+e/1e3)}function nC(e){return new Date(e)}function rC(e){return e instanceof Date?+e:+new Date(+e)}function iC(e,t,n,r,i,o,a,s,l,u){var c=HE(),h=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?b:w)(e)}return c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?d(Array.from(e,rC)):d().map(nC)},c.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(hk(n,e)):c},c.copy=function(){return qE(c,iC(e,t,n,r,i,o,a,s,l,u))},c}function oC(){return P_.apply(iC(IO,jO,OO,EO,uO,oO,rO,tO,eO,LO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aC(){return P_.apply(iC(AO,PO,TO,kO,gO,aO,iO,nO,eO,FO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sC(){var e,t,n,r,i,o=0,a=1,s=UE,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(DE),u.rangeRound=c(RE),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function lC(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uC(){var e=lk(sC()(UE));return e.copy=function(){return lC(e,uC())},I_.apply(e,arguments)}function cC(){var e=vk(sC()).domain([1,10]);return e.copy=function(){return lC(e,cC()).base(e.base())},I_.apply(e,arguments)}function hC(){var e=_k(sC());return e.copy=function(){return lC(e,hC()).constant(e.constant())},I_.apply(e,arguments)}function dC(){var e=Tk(sC());return e.copy=function(){return lC(e,dC()).exponent(e.exponent())},I_.apply(e,arguments)}function fC(){return dC.apply(null,arguments).exponent(.5)}function pC(){var e=[],t=UE;function n(n){if(null!=n&&!isNaN(n=+n))return t((US(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(jS),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>Fk(e,r/t)))},n.copy=function(){return pC(t).domain(e)},I_.apply(n,arguments)}function mC(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,h=UE,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=DE);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f):[s,l,u]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(DE),f.rangeRound=p(RE),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f}}function yC(){var e=lk(mC()(UE));return e.copy=function(){return lC(e,yC())},I_.apply(e,arguments)}function gC(){var e=vk(mC()).domain([.1,1,10]);return e.copy=function(){return lC(e,gC()).base(e.base())},I_.apply(e,arguments)}function vC(){var e=_k(mC());return e.copy=function(){return lC(e,vC()).constant(e.constant())},I_.apply(e,arguments)}function bC(){var e=Tk(mC());return e.copy=function(){return lC(e,bC()).exponent(e.exponent())},I_.apply(e,arguments)}function wC(){return bC.apply(null,arguments).exponent(.5)}function xC(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){RO=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=HO(i),c=WO(i),h=HO(o),d=WO(o),f=HO(a),p=WO(a),m=HO(s),y=WO(s),g=HO(l),v=WO(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:fT,e:fT,f:vT,g:AT,G:IT,H:pT,I:mT,j:yT,L:gT,m:bT,M:wT,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:eC,s:tC,S:xT,u:_T,U:ST,V:kT,w:OT,W:TT,x:null,X:null,y:CT,Y:PT,Z:jT,"%":ZT},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:NT,e:NT,f:FT,g:QT,G:XT,H:MT,I:DT,j:RT,L:LT,m:UT,M:BT,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:eC,s:tC,S:zT,u:VT,U:qT,V:HT,w:WT,W:KT,x:null,X:null,y:GT,Y:YT,Z:JT,"%":ZT},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:rT,e:rT,f:uT,g:ZO,G:JO,H:oT,I:oT,j:iT,L:lT,m:nT,M:aT,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:tT,Q:hT,s:dT,S:sT,u:GO,U:QO,V:YO,w:KO,W:XO,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:ZO,Y:JO,Z:eT,"%":cT};function _(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=UO[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=DO(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=MO(DO(o.y,0,1))).getUTCDay(),r=i>4||0===i?vO.ceil(r):vO(r),r=aO.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=NO(DO(o.y,0,1))).getDay(),r=i>4||0===i?cO.ceil(r):cO(r),r=oO.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?MO(DO(o.y,0,1)).getUTCDay():NO(DO(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,MO(o)):NO(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in UO?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),LO=RO.format,RO.parse,FO=RO.utcFormat,RO.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function _C(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function SC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function EC(e,t){return e[t]}function kC(e){const t=[];return t.key=e,t}var OC=n(539),TC=n.n(OC),CC=n(6745),AC=n.n(CC),PC=n(3538),IC=n.n(PC),jC=n(9853),NC=n.n(jC),MC=n(8210),DC=n.n(MC);function RC(e){return function(e){if(Array.isArray(e))return LC(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FC=function(e){return e},UC={"@@functional/placeholder":!0},BC=function(e){return e===UC},zC=function(e){return function t(){return 0===arguments.length||1===arguments.length&&BC(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},VC=function e(t,n){return 1===t?n:zC((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==UC})).length;return a>=t?n.apply(void 0,i):e(t-a,zC((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return BC(e)?t.shift():e}));return n.apply(void 0,RC(o).concat(t))})))}))},qC=function(e){return VC(e.length,e)},$C=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},HC=qC((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),WC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return FC;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},KC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GC=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var QC=qC((function(e,t,n){var r=+e;return r+n*(+t-r)})),YC=qC((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),XC=qC((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const JC={rangeStep:function(e,t,n){for(var r=new(DC())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(DC())(e).abs().log(10).toNumber())+1},interpolateNumber:QC,uninterpolateNumber:YC,uninterpolateTruncation:XC};function ZC(e){return function(e){if(Array.isArray(e))return nA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||tA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||tA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(e,t){if(e){if("string"===typeof e)return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nA(e,t):void 0}}function nA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rA(e){var t=eA(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iA(e,t,n){if(e.lte(0))return new(DC())(0);var r=JC.getDigitCount(e.toNumber()),i=new(DC())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(DC())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(DC())(Math.ceil(s))}function oA(e,t,n){var r=1,i=new(DC())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(DC())(10).pow(JC.getDigitCount(e)-1),i=new(DC())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(DC())(Math.floor(e)))}else 0===e?i=new(DC())(Math.floor((t-1)/2)):n||(i=new(DC())(Math.floor(e)));var a=Math.floor((t-1)/2);return WC(HC((function(e){return i.add(new(DC())(e-a).mul(r)).toNumber()})),$C)(0,t)}function aA(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(DC())(0),tickMin:new(DC())(0),tickMax:new(DC())(0)};var o,a=iA(new(DC())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(DC())(0):(o=new(DC())(e).add(t).div(2)).sub(new(DC())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(DC())(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?aA(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new(DC())(s).mul(a)),tickMax:o.add(new(DC())(l).mul(a))})}var sA=GC((function(e){var t=eA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=eA(rA([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0){var c=u===1/0?[l].concat(ZC($C(0,i-1).map((function(){return 1/0})))):[].concat(ZC($C(0,i-1).map((function(){return-1/0}))),[u]);return n>r?KC(c):c}if(l===u)return oA(l,i,o);var h=aA(l,u,a,o),d=h.step,f=h.tickMin,p=h.tickMax,m=JC.rangeStep(f,p.add(new(DC())(.1).mul(d)),d);return n>r?KC(m):m})),lA=(GC((function(e){var t=eA(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=eA(rA([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,r];if(l===u)return oA(l,i,o);var c=iA(new(DC())(u).sub(l).div(a-1),o,0),h=WC(HC((function(e){return new(DC())(l).add(new(DC())(e).mul(c)).toNumber()})),$C)(0,a).filter((function(e){return e>=l&&e<=u}));return n>r?KC(h):h})),GC((function(e,t){var n=eA(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=eA(rA([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(t,2),c=iA(new(DC())(l).sub(s).div(u-1),o,0),h=[].concat(ZC(JC.rangeStep(new(DC())(s),new(DC())(l).sub(new(DC())(.99).mul(c)),c)),[l]);return r>i?KC(h):h}))),uA=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cA(e){return cA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(e)}function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hA.apply(this,arguments)}function dA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xA(r.key),r)}}function yA(e,t,n){return t=vA(t),function(e,t){if(t&&("object"===cA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gA()?Reflect.construct(t,n||[],vA(e).constructor):t.apply(e,n))}function gA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gA=function(){return!!e})()}function vA(e){return vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vA(e)}function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bA(e,t)}function wA(e,t,n){return(t=xA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xA(e){var t=function(e,t){if("object"!=cA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cA(t)?t:t+""}var _A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=pA(e,uA),h=pv(c,!1);"x"===this.props.direction&&"number"!==l.type&&Iv(!1);var d=a.map((function(e){var a=s(e,o),c=a.x,d=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,y,g=[];if(Array.isArray(p)){var v=dA(p,2);m=v[0],y=v[1]}else m=y=p;if("vertical"===n){var b=l.scale,w=d+t,x=w+r,_=w-r,S=b(f-m),E=b(f+y);g.push({x1:E,y1:x,x2:E,y2:_}),g.push({x1:S,y1:w,x2:E,y2:w}),g.push({x1:S,y1:x,x2:S,y2:_})}else if("horizontal"===n){var k=u.scale,O=c+t,T=O-r,C=O+r,A=k(f-m),P=k(f+y);g.push({x1:T,y1:P,x2:C,y2:P}),g.push({x1:O,y1:A,x2:O,y2:P}),g.push({x1:T,y1:A,x2:C,y2:A})}return i.createElement(Uv,hA({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},h),g.map((function(e){return i.createElement("line",hA({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return i.createElement(Uv,{className:"recharts-errorBars"},d)}}],r&&mA(n.prototype,r),o&&mA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function SA(e){return SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SA(e)}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EA(Object(n),!0).forEach((function(t){OA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=SA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wA(_A,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),wA(_A,"displayName","ErrorBar");var TA=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=uv(t,zw);if(!o)return null;var a,s=zw.defaultProps,l=void 0!==s?kA(kA({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?kA(kA({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:RA(t),value:o||i,payload:r}})),kA(kA(kA({},l),zw.getWithHeight(o,r)),{},{payload:a,item:o})};function CA(e){return CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CA(e)}function AA(e){return function(e){if(Array.isArray(e))return PA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return PA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(n),!0).forEach((function(t){NA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NA(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MA(e,t,n){return Ug()(e)||Ug()(t)?n:Pg(t)?Eg()(e,t,n):zg()(t)?t(e):n}function DA(e,t,n,r){var i=IC()(e,(function(e){return MA(e,t)}));if("number"===n){var o=i.filter((function(e){return Ag(e)||parseFloat(e)}));return o.length?[AC()(o),TC()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!Ug()(e)})):i).map((function(e){return Pg(e)||e instanceof Date?e:""}))}var RA=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?jA(jA({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},LA=function(e,t,n,r,i){var o=lv(t.props.children,_A).filter((function(e){return function(e,t,n){return!!Ug()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=MA(t,n);if(Ug()(r))return e;var i=Array.isArray(r)?[AC()(r),TC()(r)]:[r,r],o=a.reduce((function(e,n){var r=MA(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},FA=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&LA(e,t,o,r)||DA(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},UA=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},BA=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},zA=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*Tg(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!_g()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},VA=new WeakMap,qA=function(e,t){if("function"!==typeof t)return e;VA.has(e)||VA.set(e,new WeakMap);var n=VA.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},$A=1e-4,HA={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=_g()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}xC(e,t)}},none:xC,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}xC(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],h=c[a][1]||0,d=(h-(c[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,u+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,xC(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=_g()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},WA=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=HA[n],o=function(){var e=Jb([]),t=SC,n=xC,r=EC;function i(i){var o,a,s=Array.from(e.apply(this,arguments),kC),l=s.length,u=-1;for(const e of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(e,s[o].key,u,i)]).data=e;for(o=0,a=_C(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Jb(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Jb(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?SC:"function"===typeof e?e:Jb(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?xC:e,i):n},i}().keys(r).value((function(e,t){return+MA(e,t,0)})).order(SC).offset(i);return o(e)};function KA(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ug()(i[t.dataKey])){var s=Rg(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=MA(i,Ug()(a)?t.dataKey:a);return Ug()(l)?null:t.scale(l)}var GA=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=MA(o,t.dataKey,t.domain[a]);return Ug()(s)?null:t.scale(s)-i/2+r},QA=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[AC()(t.concat([e[0]]).filter(Ag)),TC()(t.concat([e[1]]).filter(Ag))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},YA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=function(e,t,n){if(zg()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ag(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(YA.test(e[0])){var i=+YA.exec(e[0])[1];r[0]=t[0]-i}else zg()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ag(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(XA.test(e[1])){var o=+XA.exec(e[1])[1];r[1]=t[1]+o}else zg()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},ZA=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Av()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},eP=function(e,t,n){return e&&e.length?NC()(e,Eg()(n,"type.defaultProps.domain"))?t:e:t},tP=function(e,t){var n=e.type.defaultProps?jA(jA({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,u=n.hide;return jA(jA({},pv(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:RA(e),value:MA(t,r),type:s,payload:t,chartType:l,hide:u})};function nP(e){return nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nP(e)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach((function(t){oP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aP=["Webkit","Moz","O","ms"];function sP(e){return sP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sP(e)}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(this,arguments)}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uP(Object(n),!0).forEach((function(t){yP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gP(r.key),r)}}function dP(e,t,n){return t=pP(t),function(e,t){if(t&&("object"===sP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fP()?Reflect.construct(t,n||[],pP(e).constructor):t.apply(e,n))}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fP=function(){return!!e})()}function pP(e){return pP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pP(e)}function mP(e,t){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mP(e,t)}function yP(e,t,n){return(t=gP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gP(e){var t=function(e,t){if("object"!=sP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sP(t)?t:t+""}var vP=function(e){return e.changedTouches&&!!e.changedTouches.length},bP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yP(n=dP(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),yP(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),yP(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),yP(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),yP(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),yP(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),yP(n,"handleSlideDragStart",(function(e){var t=vP(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mP(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),u=Math.max(n,r),c=t.getIndexInRange(i,l),h=t.getIndexInRange(i,u);return{startIndex:c-c%a,endIndex:h===s?s:h-h%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=MA(n[e],i,e);return zg()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,h=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===u&&f.endIndex===c||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=vP(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,u=s.width,c=s.travellerWidth,h=s.onChange,d=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+u-c-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(yP(yP({},r,a+m),"brushMoveStartX",e.pageX),(function(){h&&function(){var e=f.length-1;return"startX"===r&&(i>o?g%d===0:v%d===0)||i<o&&v===e||"endX"===r&&(i>o?v%d===0:g%d===0)||i>o&&v===e}()&&h(y)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var u=l+e;if(!(-1===u||u>=i.length)){var c=i[u];"startX"===t&&c>=a||"endX"===t&&c<=o||this.setState(yP({},t,c),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,u=i.Children.only(s);return u?i.cloneElement(u,{x:t,y:n,width:r,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,s=this.props,l=s.y,u=s.travellerWidth,c=s.height,h=s.traveller,d=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,y=Math.max(e,this.props.x),g=cP(cP({},pv(this.props,!1)),{},{x:y,y:l,width:u,height:c}),v=d||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return i.createElement(Uv,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:u,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,h={pointerEvents:"none",fill:s};return i.createElement(Uv,{className:"recharts-brush-texts"},i.createElement(ES,lP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:r+o/2},h),this.getTextOfTick(t)),i.createElement(ES,lP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+a+5,y:r+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,h=c.startX,d=c.endX,f=c.isTextActive,p=c.isSlideMoving,m=c.isTravellerMoving,y=c.isTravellerFocused;if(!t||!t.length||!Ag(o)||!Ag(a)||!Ag(s)||!Ag(l)||s<=0||l<=0)return null;var g=yg("recharts-brush",n),v=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=aP.reduce((function(e,r){return iP(iP({},e),{},oP({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(Uv,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||m||y||u)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):zg()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return cP({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=z_().domain(Tv()(0,s)).range([i,i+o-a]),u=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&hP(n.prototype,r),o&&hP(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function wP(e){return wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wP(e)}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xP(Object(n),!0).forEach((function(t){SP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yP(bP,"displayName","Brush"),yP(bP,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var EP=Math.PI/180,kP=function(e){return 180*e/Math.PI},OP=function(e,t,n,r){return{x:e+Math.cos(-EP*r)*n,y:t+Math.sin(-EP*r)*n}},TP=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:kP(l),angleInRadian:l}},CP=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},AP=function(e,t){var n=e.x,r=e.y,i=TP({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),h=c.startAngle,d=c.endAngle,f=a;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;u=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;u=f>=d&&f<=h}return u?_P(_P({},t),{},{radius:o,angle:CP(f,t)}):null};function PP(e){return PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(e)}var IP=["offset"];function jP(e){return function(e){if(Array.isArray(e))return NP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return NP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DP(Object(n),!0).forEach((function(t){LP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=PP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(this,arguments)}var UP=function(e,t,n){var r,o,a=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,h=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+p)/2,b=function(e,t){return Tg(t-e)*Math.min(Math.abs(t-e),360)}(m,y),w=b>=0?1:-1;"insideStart"===a?(r=m+w*l,o=g):"insideEnd"===a?(r=y-w*l,o=!g):"end"===a&&(r=y+w*l,o=g),o=b<=0?o:!o;var x=OP(h,d,v,r),_=OP(h,d,v,r+359*(o?1:-1)),S="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(_.x,",").concat(_.y),E=Ug()(e.id)?jg("recharts-radial-line-"):e.id;return i.createElement("text",FP({},n,{dominantBaseline:"central",className:yg("recharts-radial-bar-label",u)}),i.createElement("defs",null,i.createElement("path",{id:E,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function BP(e){var t,n=e.offset,r=RP({offset:void 0===n?5:n},MP(e,IP)),o=r.viewBox,a=r.position,s=r.value,l=r.children,u=r.content,c=r.className,h=void 0===c?"":c,d=r.textBreakAll;if(!o||Ug()(s)&&Ug()(l)&&!(0,i.isValidElement)(u)&&!zg()(u))return null;if((0,i.isValidElement)(u))return(0,i.cloneElement)(u,r);if(zg()(u)){if(t=(0,i.createElement)(u,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Ug()(e.children)?t:e.children;return zg()(n)?n(r):r}(r);var f=function(e){return"cx"in e&&Ag(e.cx)}(o),p=pv(r,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return UP(r,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=OP(o,a,l+n,u),h=c.x;return{x:h,y:c.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=OP(o,a,(s+l)/2,u);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,u=o.height,c=u>=0?1:-1,h=c*r,d=c>0?"end":"start",f=c>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return RP(RP({},{x:a+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return RP(RP({},{x:a+l/2,y:s+u+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return RP(RP({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===i){var b={x:a+l+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return RP(RP({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var w=n?{width:l,height:u}:{};return"insideLeft"===i?RP({x:a+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},w):"insideRight"===i?RP({x:a+l-m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},w):"insideTop"===i?RP({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?RP({x:a+l/2,y:s+u-h,textAnchor:"middle",verticalAnchor:d},w):"insideTopLeft"===i?RP({x:a+m,y:s+h,textAnchor:g,verticalAnchor:f},w):"insideTopRight"===i?RP({x:a+l-m,y:s+h,textAnchor:y,verticalAnchor:f},w):"insideBottomLeft"===i?RP({x:a+m,y:s+u-h,textAnchor:g,verticalAnchor:d},w):"insideBottomRight"===i?RP({x:a+l-m,y:s+u-h,textAnchor:y,verticalAnchor:d},w):qg()(i)&&(Ag(i.x)||Cg(i.x))&&(Ag(i.y)||Cg(i.y))?RP({x:a+Ng(i.x,l),y:s+Ng(i.y,u),textAnchor:"end",verticalAnchor:"end"},w):RP({x:a+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(r);return i.createElement(ES,FP({className:yg("recharts-label",h)},p,m,{breakAll:d}),t)}BP.displayName="Label";var zP=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,h=e.y,d=e.top,f=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(Ag(p)&&Ag(m)){if(Ag(c)&&Ag(h))return{x:c,y:h,width:p,height:m};if(Ag(d)&&Ag(f))return{x:d,y:f,width:p,height:m}}return Ag(c)&&Ag(h)?{x:c,y:h,width:0,height:0}:Ag(t)&&Ag(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:y}:e.viewBox?e.viewBox:{}};BP.parseViewBox=zP,BP.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=zP(e),a=lv(r,BP).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?i.createElement(BP,{key:"label-implicit",viewBox:t}):Pg(e)?i.createElement(BP,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===BP?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(BP,{key:"label-implicit",content:e,viewBox:t}):zg()(e)?i.createElement(BP,{key:"label-implicit",content:e,viewBox:t}):qg()(e)?i.createElement(BP,FP({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(jP(a))};var VP=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},qP=n(1733),$P=n.n(qP),HP=n(7002),WP=n.n(HP),KP=function(e){return null};KP.displayName="Cell";var GP=n(4065),QP=n.n(GP);function YP(e){return YP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YP(e)}var XP=["valueAccessor"],JP=["data","dataKey","clockWise","id","textBreakAll"];function ZP(e){return function(e){if(Array.isArray(e))return eI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tI.apply(this,arguments)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nI(Object(n),!0).forEach((function(t){iI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var aI=function(e){return Array.isArray(e.value)?QP()(e.value):e.value};function sI(e){var t=e.valueAccessor,n=void 0===t?aI:t,r=oI(e,XP),o=r.data,a=r.dataKey,s=r.clockWise,l=r.id,u=r.textBreakAll,c=oI(r,JP);return o&&o.length?i.createElement(Uv,{className:"recharts-label-list"},o.map((function(e,t){var r=Ug()(a)?n(e,t):MA(e&&e.payload,a),o=Ug()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(BP,tI({},pv(e,!0),c,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:u,viewBox:BP.parseViewBox(Ug()(s)?e:rI(rI({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}sI.displayName="LabelList",sI.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=lv(e.children,sI).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return r;var o=function(e,t){return e?!0===e?i.createElement(sI,{key:"labelList-implicit",data:t}):i.isValidElement(e)||zg()(e)?i.createElement(sI,{key:"labelList-implicit",data:t,content:e}):qg()(e)?i.createElement(sI,tI({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(ZP(r))};var lI=n(2322),uI=n.n(lI),cI=n(6361),hI=n.n(cI);function dI(e){return dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dI(e)}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(this,arguments)}function pI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yI(Object(n),!0).forEach((function(t){vI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bI=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},wI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xI=function(e){var t=gI(gI({},wI),e),n=(0,i.useRef)(),r=pI((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,u=t.upperWidth,c=t.lowerWidth,h=t.height,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||h!==+h||0===u&&0===c||0===h)return null;var g=yg("recharts-trapezoid",d);return y?i.createElement(v_,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:u,lowerWidth:c,height:h,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,u=e.y;return i.createElement(v_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},i.createElement("path",fI({},pv(t,!0),{className:g,d:bI(l,u,r,a,s),ref:n})))})):i.createElement("g",null,i.createElement("path",fI({},pv(t,!0),{className:g,d:bI(s,l,u,c,h)})))};function _I(e){return _I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_I(e)}function SI(){return SI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SI.apply(this,arguments)}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(n),!0).forEach((function(t){OI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_I(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TI=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(a?1:-1)+r,c=Math.asin(s/u)/EP,h=l?i:i+o*c,d=l?i-o*c:i;return{center:OP(t,n,u,h),circleTangency:OP(t,n,r,h),lineTangency:OP(t,n,u*Math.cos(c*EP),d),theta:c}},CI=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Tg(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=OP(t,n,i,o),u=OP(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=OP(t,n,r,o),d=OP(t,n,r,s);c+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},AI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PI=function(e){var t=kI(kI({},AI),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,c=t.startAngle,h=t.endAngle,d=t.className;if(a<o||c===h)return null;var f,p=yg("recharts-sector",d),m=a-o,y=Ng(s,m,0,!0);return f=y>0&&Math.abs(c-h)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=Tg(u-l),h=TI({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=TI({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-u):Math.abs(l-u)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):CI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var x=TI({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=x.circleTangency,S=x.lineTangency,E=x.theta,k=TI({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=k.circleTangency,T=k.lineTangency,C=k.theta,A=s?Math.abs(l-u):Math.abs(l-u)-E-C;if(A<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(c>0),",").concat(_.x,",").concat(_.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):CI({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:c,endAngle:h}),i.createElement("path",SI({},pv(t,!0),{className:p,d:f,role:"img"}))},II=["option","shapeType","propTransformer","activeClassName","isActive"];function jI(e){return jI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jI(e)}function NI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(n),!0).forEach((function(t){RI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LI(e,t){return DI(DI({},t),e)}function FI(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(A_,n);case"trapezoid":return i.createElement(xI,n);case"sector":return i.createElement(PI,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(mw,n);break;default:return null}}function UI(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?LI:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,u=e.isActive,c=NI(e,II);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,DI(DI({},c),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(zg()(n))t=n(c);else if(uI()(n)&&!hI()(n)){var h=a(n,c);t=i.createElement(FI,{shapeType:r,elementProps:h})}else{var d=c;t=i.createElement(FI,{shapeType:r,elementProps:d})}return u?i.createElement(Uv,{className:l},t):t}function BI(e,t){return null!=t&&"trapezoids"in e.props}function zI(e,t){return null!=t&&"sectors"in e.props}function VI(e,t){return null!=t&&"points"in e.props}function qI(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function $I(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function HI(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function WI(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return BI(e,t)?n="trapezoids":zI(e,t)?n="sectors":VI(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return BI(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:zI(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:VI(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=NC()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return BI(e,t)?n=qI:zI(e,t)?n=$I:VI(e,t)&&(n=HI),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var KI=["x","y"];function GI(e){return GI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GI(e)}function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(this,arguments)}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YI(Object(n),!0).forEach((function(t){JI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=GI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ej(e,t){var n=e.x,r=e.y,i=ZI(e,KI),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),h="".concat(t.width||i.width),d=parseInt(h,10);return XI(XI(XI(XI(XI({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function tj(e){return i.createElement(UI,QI({shapeType:"rectangle",propTransformer:ej,activeClassName:"recharts-active-bar"},e))}var nj,rj=["value","background"];function ij(e){return ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ij(e)}function oj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aj.apply(this,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(n),!0).forEach((function(t){pj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mj(r.key),r)}}function cj(e,t,n){return t=dj(t),function(e,t){if(t&&("object"===ij(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hj()?Reflect.construct(t,n||[],dj(e).constructor):t.apply(e,n))}function hj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hj=function(){return!!e})()}function dj(e){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dj(e)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fj(e,t)}function pj(e,t,n){return(t=mj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mj(e){var t=function(e,t){if("object"!=ij(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ij(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ij(t)?t:t+""}var yj=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pj(e=cj(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),pj(e,"id",jg("recharts-bar-")),pj(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),pj(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=pv(this.props,!1);return e&&e.map((function(e,n){var u=n===a,c=u?s:r,h=lj(lj(lj({},l),e),{},{isActive:u,option:c,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(Uv,aj({className:"recharts-bar-rectangle"},Jg(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),i.createElement(tj,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,u=t.animationId,c=this.state.prevData;return i.createElement(v_,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=c&&c[t];if(n){var i=Dg(n.x,e.x),a=Dg(n.y,e.y),s=Dg(n.width,e.width),l=Dg(n.height,e.height);return lj(lj({},e),{},{x:i(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===r){var u=Dg(0,e.height)(o);return lj(lj({},e),{},{y:e.y+e.height-u,height:u})}var h=Dg(0,e.width)(o);return lj(lj({},e),{},{width:h})}));return i.createElement(Uv,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&NC()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=pv(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=oj(t,rj);if(!s)return null;var u=lj(lj(lj(lj(lj({},l),{},{fill:"#eee"},s),a),Jg(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(tj,aj({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},u))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=lv(n.children,_A);if(!l)return null;var u="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:MA(e,t)}},h={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Uv,h,l.map((function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,offset:u,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,u=e.width,c=e.height,h=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=yg("recharts-bar",r),y=o&&o.allowDataOverflow,g=a&&a.allowDataOverflow,v=y||g,b=Ug()(f)?this.id:f;return i.createElement(Uv,{className:m},y||g?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:y?s:s-u/2,y:g?l:l-c/2,width:y?u:2*u,height:g?c:2*c}))):null,i.createElement(Uv,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!h||p)&&sI.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&uj(n.prototype,r),o&&uj(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function gj(e){return gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gj(e)}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_j(r.key),r)}}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bj(Object(n),!0).forEach((function(t){xj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xj(e,t,n){return(t=_j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _j(e){var t=function(e,t){if("object"!=gj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gj(t)?t:t+""}nj=yj,pj(yj,"displayName","Bar"),pj(yj,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!db.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),pj(yj,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,h=e.displayedData,d=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,y=void 0!==m?lj(lj({},m),n.props):n.props,g=y.dataKey,v=y.children,b=y.minPointSize,w="horizontal"===p?a:o,x=u?w.scale.domain():null,_=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),S=lv(v,KP),E=h.map((function(e,t){var r,h,d,m,y,v;u?r=function(e,t){if(!t||2!==t.length||!Ag(t[0])||!Ag(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ag(e[0])||e[0]<n)&&(i[0]=n),(!Ag(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[c+t],x):(r=MA(e,g),Array.isArray(r)||(r=[_,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Iv(!1),t)}}(b,nj.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var E,k=[a.scale(r[0]),a.scale(r[1])],O=k[0],T=k[1];h=GA({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),d=null!==(E=null!==T&&void 0!==T?T:O)&&void 0!==E?E:void 0,m=f.size;var C=O-T;if(y=Number.isNaN(C)?0:C,v={x:h,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(y)<Math.abs(w)){var A=Tg(y||w)*(Math.abs(w)-Math.abs(y));d-=A,y+=A}}else{var P=[o.scale(r[0]),o.scale(r[1])],I=P[0],j=P[1];if(h=I,d=GA({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=j-I,y=f.size,v={x:o.x,y:d,width:o.width,height:y},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=Tg(m||w)*(Math.abs(w)-Math.abs(m))}return lj(lj(lj({},e),{},{x:h,y:d,width:m,height:y,value:u?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[tP(n,e)],tooltipPosition:{x:h+m/2,y:d+y/2}})}));return lj({data:E,layout:p},d)}));var Sj=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!uv(u,yj);return c.reduce((function(a,s){var u,c,f,p,m,y=n[s],g=y.orientation,v=y.domain,b=y.padding,w=void 0===b?{}:b,x=y.mirror,_=y.reversed,S="".concat(g).concat(x?"Mirror":"");if("number"===y.type&&("gap"===y.padding||"no-gap"===y.padding)){var E=v[1]-v[0],k=1/0,O=y.categoricalDomain.sort();if(O.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(O[t-1]||0),k))})),Number.isFinite(k)){var T=k/E,C="vertical"===y.layout?r.height:r.width;if("gap"===y.padding&&(u=T*C/2),"no-gap"===y.padding){var A=Ng(t.barCategoryGap,T*C),P=T*C/2;u=P-A-(P-A)/C*A}}}c="xAxis"===i?[r.left+(w.left||0)+(u||0),r.left+r.width-(w.right||0)-(u||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(u||0),r.top+r.height-(w.bottom||0)-(u||0)]:y.range,_&&(c=[c[1],c[0]]);var I=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:U_(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:uk(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:z_(),realScaleType:"point"}:"category"===o?{scale:U_(),realScaleType:"band"}:{scale:uk(),realScaleType:"linear"};if(wg()(i)){var l="scale".concat(Ab()(i));return{scale:(e[l]||z_)(),realScaleType:e[l]?l:"point"}}return zg()(i)?{scale:i}:{scale:z_(),realScaleType:"point"}}(y,o,d),j=I.scale,N=I.realScaleType;j.domain(v).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$A,o=Math.max(r[0],r[1])+$A,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(j);var M=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var u=sA(l,i,a);return e.domain([AC()(u),TC()(u)]),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:lA(c,i,a)}}return null}(j,wj(wj({},y),{},{realScaleType:N}));"xAxis"===i?(m="top"===g&&!x||"bottom"===g&&x,f=r.left,p=h[S]-m*y.height):"yAxis"===i&&(m="left"===g&&!x||"right"===g&&x,f=h[S]-m*y.width,p=r.top);var D=wj(wj(wj({},y),M),{},{realScaleType:N,x:f,y:p,scale:j,width:"xAxis"===i?r.width:y.width,height:"yAxis"===i?r.height:y.height});return D.bandSize=ZA(D,M),y.hide||"xAxis"!==i?y.hide||(h[S]+=(m?-1:1)*D.width):h[S]+=(m?-1:1)*D.height,wj(wj({},a),{},xj({},s,D))}),{})},Ej=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},kj=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&vj(t.prototype,n),r&&vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();xj(kj,"EPS",1e-4);var Oj=function(e){var t=Object.keys(e).reduce((function(t,n){return wj(wj({},t),{},xj({},n,kj.create(e[n])))}),{});return wj(wj({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return $P()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return WP()(e,(function(e,n){return t[n].isInRange(e)}))}})};function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(this,arguments)}function Cj(e){return Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cj(e)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aj(Object(n),!0).forEach((function(t){Rj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ij(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lj(r.key),r)}}function jj(e,t,n){return t=Mj(t),function(e,t){if(t&&("object"===Cj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nj()?Reflect.construct(t,n||[],Mj(e).constructor):t.apply(e,n))}function Nj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Nj=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mj(e)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dj(e,t)}function Rj(e,t,n){return(t=Lj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lj(e){var t=function(e,t){if("object"!=Cj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cj(t)?t:t+""}var Fj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jj(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=Pg(n),u=Pg(r);if(Lg(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Oj({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return VP(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var h=c.x,d=c.y,f=this.props,p=f.shape,m=f.className,y=Pj(Pj({clipPath:VP(this.props,"hidden")?"url(#".concat(s,")"):void 0},pv(this.props,!0)),{},{cx:h,cy:d});return i.createElement(Uv,{className:yg("recharts-reference-dot",m)},t.renderDot(p,y),BP.renderCallByParent(this.props,{x:h-o,y:d-o,width:2*o,height:2*o}))}}],r&&Ij(n.prototype,r),o&&Ij(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);Rj(Fj,"displayName","ReferenceDot"),Rj(Fj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Rj(Fj,"renderDot",(function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):zg()(e)?e(t):i.createElement(qw,Tj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var Uj=n(4597),Bj=n.n(Uj),zj=n(8990),Vj=n.n(zj),qj=n(5797),$j=n.n(qj)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Hj=(0,i.createContext)(void 0),Wj=(0,i.createContext)(void 0),Kj=(0,i.createContext)(void 0),Gj=(0,i.createContext)({}),Qj=(0,i.createContext)(void 0),Yj=(0,i.createContext)(0),Xj=(0,i.createContext)(0),Jj=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=$j(o);return i.createElement(Hj.Provider,{value:n},i.createElement(Wj.Provider,{value:r},i.createElement(Gj.Provider,{value:o},i.createElement(Kj.Provider,{value:c},i.createElement(Qj.Provider,{value:a},i.createElement(Yj.Provider,{value:u},i.createElement(Xj.Provider,{value:l},s)))))))};var Zj=function(e){var t=(0,i.useContext)(Hj);null==t&&Iv(!1);var n=t[e];return null==n&&Iv(!1),n},eN=function(e){var t=(0,i.useContext)(Wj);null==t&&Iv(!1);var n=t[e];return null==n&&Iv(!1),n},tN=function(){return(0,i.useContext)(Xj)},nN=function(){return(0,i.useContext)(Yj)};function rN(e){return rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rN(e)}function iN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dN(r.key),r)}}function oN(e,t,n){return t=sN(t),function(e,t){if(t&&("object"===rN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aN()?Reflect.construct(t,n||[],sN(e).constructor):t.apply(e,n))}function aN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aN=function(){return!!e})()}function sN(e){return sN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sN(e)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lN(e,t)}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uN(Object(n),!0).forEach((function(t){hN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hN(e,t,n){return(t=dN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dN(e){var t=function(e,t){if("object"!=rN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rN(t)?t:t+""}function fN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(this,arguments)}function yN(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,c=(0,i.useContext)(Qj),h=Zj(o),d=eN(a),f=(0,i.useContext)(Kj);if(!c||!f)return null;Lg(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var u=i.x,c=i.y,h=i.width,d=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(VP(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:u+h,y:p},{x:u,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:o});if(VP(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:c+d},{x:g,y:c}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return VP(l,"discard")&&Bj()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Oj({x:h.scale,y:d.scale}),Pg(t),Pg(n),r&&2===r.length,f,e.position,h.orientation,d.orientation,e);if(!p)return null;var m=fN(p,2),y=m[0],g=y.x,v=y.y,b=m[1],w=b.x,x=b.y,_=cN(cN({clipPath:VP(e,"hidden")?"url(#".concat(c,")"):void 0},pv(e,!0)),{},{x1:g,y1:v,x2:w,y2:x});return i.createElement(Uv,{className:yg("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):zg()(e)?e(t):i.createElement("line",mN({},t,{className:"recharts-reference-line-line"}))}(s,_),BP.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Ej({x:t,y:n},{x:r,y:i})}({x1:g,y1:v,x2:w,y2:x})))}var gN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(yN,this.props)}}])&&iN(n.prototype,r),o&&iN(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(this,arguments)}function bN(e){return bN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bN(e)}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){TN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CN(r.key),r)}}function SN(e,t,n){return t=kN(t),function(e,t){if(t&&("object"===bN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EN()?Reflect.construct(t,n||[],kN(e).constructor):t.apply(e,n))}function EN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(EN=function(){return!!e})()}function kN(e){return kN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kN(e)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ON(e,t)}function TN(e,t,n){return(t=CN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CN(e){var t=function(e,t){if("object"!=bN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bN(t)?t:t+""}hN(gN,"displayName","ReferenceLine"),hN(gN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var AN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,u=e.clipPathId;Lg(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Pg(n),h=Pg(r),d=Pg(o),f=Pg(a),p=this.props.shape;if(!c&&!h&&!d&&!f&&!p)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var h=Oj({x:u.scale,y:c.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!VP(i,"discard")||h.isInRange(d)&&h.isInRange(f)?Ej(d,f):null}(c,h,d,f,this.props);if(!m&&!p)return null;var y=VP(this.props,"hidden")?"url(#".concat(u,")"):void 0;return i.createElement(Uv,{className:yg("recharts-reference-area",s)},t.renderRect(p,xN(xN({clipPath:y},pv(this.props,!0)),m)),BP.renderCallByParent(this.props,m))}}])&&_N(n.prototype,r),o&&_N(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function PN(e){return function(e){if(Array.isArray(e))return IN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return IN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}TN(AN,"displayName","ReferenceArea"),TN(AN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),TN(AN,"renderRect",(function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):zg()(e)?e(t):i.createElement(A_,vN({},t,{className:"recharts-reference-area-rect"}))}));var jN=function(e,t,n,r,i){var o=lv(e,gN),a=lv(e,Fj),s=[].concat(PN(o),PN(a)),l=lv(e,AN),u="".concat(r,"Id"),c=r[0],h=t;if(s.length&&(h=s.reduce((function(e,t){if(t.props[u]===n&&VP(t.props,"extendDomain")&&Ag(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),l.length){var d="".concat(c,"1"),f="".concat(c,"2");h=l.reduce((function(e,t){if(t.props[u]===n&&VP(t.props,"extendDomain")&&Ag(t.props[d])&&Ag(t.props[f])){var r=t.props[d],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return Ag(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},NN=n(7283),MN=new(n.n(NN)()),DN="recharts.syncMouseEvents";function RN(e){return RN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(e)}function LN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UN(r.key),r)}}function FN(e,t,n){return(t=UN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UN(e){var t=function(e,t){if("object"!=RN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RN(t)?t:t+""}var BN=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),FN(this,"activeIndex",0),FN(this,"coordinateList",[]),FN(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,u=void 0===l?null:l,c=e.mouseHandlerCallback,h=void 0===c?null:c;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==u&&void 0!==u?u:this.offset,this.mouseHandlerCallback=null!==h&&void 0!==h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+a+s,c=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:u,pageY:c})}}}],t&&LN(e.prototype,t),n&&LN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function zN(){}function VN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qN(e){this._context=e}function $N(e){this._context=e}function HN(e){this._context=e}qN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:VN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:VN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$N.prototype={areaStart:zN,areaEnd:zN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:VN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:VN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class WN{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function KN(e){this._context=e}function GN(e){this._context=e}function QN(e){return new GN(e)}function YN(e){return e<0?-1:1}function XN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(YN(o)+YN(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function JN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ZN(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function eM(e){this._context=e}function tM(e){this._context=new nM(e)}function nM(e){this._context=e}function rM(e){this._context=e}function iM(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function oM(e,t){this._context=e,this._t=t}function aM(e){return e[0]}function sM(e){return e[1]}function lM(e,t){var n=Jb(!0),r=null,i=QN,o=null,a=ow(s);function s(s){var l,u,c,h=(s=_C(s)).length,d=!1;for(null==r&&(o=i(c=a())),l=0;l<=h;++l)!(l<h&&n(u=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,s),+t(u,l,s));if(c)return o=null,c+""||null}return e="function"===typeof e?e:void 0===e?aM:Jb(e),t="function"===typeof t?t:void 0===t?sM:Jb(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Jb(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Jb(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Jb(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function uM(e,t,n){var r=null,i=Jb(!0),o=null,a=QN,s=null,l=ow(u);function u(u){var c,h,d,f,p,m=(u=_C(u)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),c=0;c<=m;++c){if(!(c<m&&i(f=u[c],c,u))===y)if(y=!y)h=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=c-1;d>=h;--d)s.point(g[d],v[d]);s.lineEnd(),s.areaEnd()}y&&(g[c]=+e(f,c,u),v[c]=+t(f,c,u),s.point(r?+r(f,c,u):g[c],n?+n(f,c,u):v[c]))}if(p)return s=null,p+""||null}function c(){return lM().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?aM:Jb(+e),t="function"===typeof t?t:Jb(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?sM:Jb(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:Jb(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:Jb(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Jb(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:Jb(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:Jb(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Jb(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:Jb(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}function cM(e){return cM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(e)}function hM(){return hM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hM.apply(this,arguments)}function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dM(Object(n),!0).forEach((function(t){pM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KN.prototype={areaStart:zN,areaEnd:zN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZN(this,this._t0,JN(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZN(this,JN(this,n=XN(this,e,t)),n);break;default:ZN(this,this._t0,n=XN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(tM.prototype=Object.create(eM.prototype)).point=function(e,t){eM.prototype.point.call(this,t,e)},nM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=iM(e),i=iM(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var mM={curveBasisClosed:function(e){return new $N(e)},curveBasisOpen:function(e){return new HN(e)},curveBasis:function(e){return new qN(e)},curveBumpX:function(e){return new WN(e,!0)},curveBumpY:function(e){return new WN(e,!1)},curveLinearClosed:function(e){return new KN(e)},curveLinear:QN,curveMonotoneX:function(e){return new eM(e)},curveMonotoneY:function(e){return new tM(e)},curveNatural:function(e){return new rM(e)},curveStep:function(e){return new oM(e,.5)},curveStepAfter:function(e){return new oM(e,1)},curveStepBefore:function(e){return new oM(e,0)}},yM=function(e){return e.x===+e.x&&e.y===+e.y},gM=function(e){return e.x},vM=function(e){return e.y},bM=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=void 0!==l&&l,c=function(e,t){if(zg()(e))return e;var n="curve".concat(Ab()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?mM[n]||QN:mM["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),h=u?o.filter((function(e){return yM(e)})):o;if(Array.isArray(a)){var d=u?a.filter((function(e){return yM(e)})):a,f=h.map((function(e,t){return fM(fM({},e),{},{base:d[t]})}));return(t="vertical"===s?uM().y(vM).x1(gM).x0((function(e){return e.base.x})):uM().x(gM).y1(vM).y0((function(e){return e.base.y}))).defined(yM).curve(c),t(f)}return(t="vertical"===s&&Ag(a)?uM().y(vM).x1(gM).x0(a):Ag(a)?uM().x(gM).y1(vM).y0(a):lM().x(gM).y(vM)).defined(yM).curve(c),t(h)},wM=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?bM(e):r;return i.createElement("path",hM({},pv(e,!1),Xg(e),{className:yg("recharts-curve",t),d:a,ref:o}))};function xM(e){return xM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xM(e)}var _M=["x","y","top","left","width","height","className"];function SM(){return SM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SM.apply(this,arguments)}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var TM=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},CM=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,s=void 0===a?0:a,l=e.left,u=void 0===l?0:l,c=e.width,h=void 0===c?0:c,d=e.height,f=void 0===d?0:d,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EM(Object(n),!0).forEach((function(t){kM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:u,width:h,height:f},OM(e,_M));return Ag(n)&&Ag(o)&&Ag(h)&&Ag(f)&&Ag(s)&&Ag(u)?i.createElement("path",SM({},pv(m,!0),{className:yg("recharts-cross",p),d:TM(n,o,h,f,s,u)})):null};function AM(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[OP(t,n,r,i),OP(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function PM(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return AM(t);var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,h=t.angle,d=OP(s,l,u,h),f=OP(s,l,c,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function IM(e){return IM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IM(e)}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jM(Object(n),!0).forEach((function(t){MM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DM(e){var t,n,r,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,c=e.offset,h=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var y=wM;if("ScatterChart"===p)r=l,y=CM;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,c,d),y=A_;else if("radial"===f){var g=AM(l),v=g.cx,b=g.cy,w=g.radius;r={cx:v,cy:b,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:w,outerRadius:w},y=PI}else r={points:PM(f,l,c)},y=wM;var x=NM(NM(NM(NM({stroke:"#ccc",pointerEvents:"none"},c),r),pv(m,!1)),{},{payload:u,payloadIndex:h,className:yg("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,x):(0,i.createElement)(y,x)}var RM=["item"],LM=["children","className","width","height","style","compact","title","desc"];function FM(e){return FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FM(e)}function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UM.apply(this,arguments)}function BM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||GM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZM(r.key),r)}}function qM(e,t,n){return t=HM(t),function(e,t){if(t&&("object"===FM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$M()?Reflect.construct(t,n||[],HM(e).constructor):t.apply(e,n))}function $M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($M=function(){return!!e})()}function HM(e){return HM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HM(e)}function WM(e,t){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WM(e,t)}function KM(e){return function(e){if(Array.isArray(e))return QM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GM(e,t){if(e){if("string"===typeof e)return QM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QM(e,t):void 0}}function QM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YM(Object(n),!0).forEach((function(t){JM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JM(e,t,n){return(t=ZM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZM(e){var t=function(e,t){if("object"!=FM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FM(t)?t:t+""}var eD={xAxis:["bottom","top"],yAxis:["left","right"]},tD={width:"100%",height:"100%"},nD={x:0,y:0};function rD(e){return e}var iD=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(KM(e),KM(n)):e}),[]);return o.length>0?o:e&&e.length&&Ag(r)&&Ag(i)?e.slice(r,i+1):[]};function oD(e){return"number"===e?[0,"auto"]:void 0}var aD=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=iD(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,u,c=null!==(l=s.props.data)&&void 0!==l?l:t;(c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?u=Rg(void 0===c?a:c,o.dataKey,r):u=c&&c[n]||a[n];return u?[].concat(KM(i),[tP(s,u)]):i}),[])},sD=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var u=l>0?r[l-1].coordinate:r[a-1].coordinate,c=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(Tg(c-u)!==Tg(h-c)){var f=[];if(Tg(h-c)===Tg(s[1]-s[0])){d=h;var p=c+s[1]-s[0];f[0]=Math.min(p,(p+u)/2),f[1]=Math.max(p,(p+u)/2)}else{d=u;var m=h+s[1]-s[0];f[0]=Math.min(c,(m+c)/2),f[1]=Math.max(c,(m+c)/2)}var y=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var g=Math.min(u,h),v=Math.max(u,h);if(e>(g+c)/2&&e<=(v+c)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,h=aD(e,t,u,c),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return XM(XM(XM({},r),OP(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return XM(XM(XM({},r),OP(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return nD}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:h,activeCoordinate:d}}return null},lD=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=e.stackOffset,d=UA(u,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?XM(XM({},n.type.defaultProps),n.props):n.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,_=p[o];if(t[_])return t;var S,E,k,O=iD(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===_})),dataStartIndex:s,dataEndIndex:l}),T=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&Ag(r)&&Ag(i))return!0}return!1})(p.domain,g,m)&&(S=JA(p.domain,null,g),!d||"number"!==m&&"auto"===b||(k=DA(O,y,"category")));var C=oD(m);if(!S||0===S.length){var A,P=null!==(A=p.domain)&&void 0!==A?A:C;if(y){if(S=DA(O,y,m),"category"===m&&d){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&I?(E=S,S=Tv()(0,T)):v||(S=eP(P,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(KM(e),[t])}),[]))}else if("category"===m)S=v?S.filter((function(e){return""!==e&&!Ug()(e)})):eP(P,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Ug()(t)?e:[].concat(KM(e),[t])}),[]);else if("number"===m){var j=function(e,t,n,r,i){var o=t.map((function(t){return LA(e,t,n,i,r)})).filter((function(e){return!Ug()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(O,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===_&&(x||!i)})),y,i,u);j&&(S=j)}!d||"number"!==m&&"auto"===b||(k=DA(O,y,"category"))}else S=d?Tv()(0,T):a&&a[_]&&a[_].hasStack&&"number"===m?"expand"===h?[0,1]:QA(a[_].stackGroups,s,l):FA(O,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===_&&(x||!n)})),m,u,!0);if("number"===m)S=jN(c,S,_,i,w),P&&(S=JA(P,S,g));else if("category"===m&&P){var N=P;S.every((function(e){return N.indexOf(e)>=0}))&&(S=N)}}return XM(XM({},t),{},JM({},_,XM(XM({},p),{},{axisType:i,domain:S,categoricalDomain:k,duplicateDomain:E,originalDomain:null!==(f=p.domain)&&void 0!==f?f:C,isCategorical:d,layout:u})))}),{})},uD=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),h=lv(u,i),d={};return h&&h.length?d=lD(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=iD(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=h.length,f=UA(u,i),p=-1;return n.reduce((function(e,t){var m,y=(void 0!==t.type.defaultProps?XM(XM({},t.type.defaultProps),t.props):t.props)[o],g=oD("number");return e[y]?e:(p++,f?m=Tv()(0,d):a&&a[y]&&a[y].hasStack?(m=QA(a[y].stackGroups,s,l),m=jN(c,m,y,i)):(m=JA(g,FA(h,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===y&&!i})),"number",u),r.defaultProps.allowDataOverflow),m=jN(c,m,y,i)),XM(XM({},e),{},JM({},y,XM(XM({axisType:i},r.defaultProps),{},{hide:!0,orientation:Eg()(eD,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:u}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),d},cD=function(e){var t=e.children,n=e.defaultShowTooltip,r=uv(t,bP),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},hD=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dD=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,u=n.children,c=n.margin||{},h=uv(u,bP),d=uv(u,zw),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:XM(XM({},e),{},JM({},r,e[r]+n.width))}),{left:c.left||0,right:c.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:XM(XM({},e),{},JM({},r,Eg()(e,"".concat(r))+n.height))}),{top:c.top||0,bottom:c.bottom||0}),m=XM(XM({},p),f),y=m.bottom;h&&(m.bottom+=h.props.height||bP.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=TA({children:i,legendWidth:s});if(l){var u=r||{},c=u.width,h=u.height,d=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&Ag(e[d]))return jA(jA({},e),{},NA({},d,e[d]+(c||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&Ag(e[f]))return jA(jA({},e),{},NA({},f,e[f]+(h||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return XM(XM({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},fD=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},pD=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,o=void 0===r?"axis":r,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,u=e.barSize,c=e.layout,h=e.barGap,d=e.barCategoryGap,f=e.maxBarSize,p=hD(c),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=iv(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=iD(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?XM(XM({},n.type.defaultProps),n.props):n.props,x=w.dataKey,_=w.maxBarSize,S=w["".concat(m,"Id")],E=w["".concat(y,"Id")],k=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Iv(!1);var o=r[i];return XM(XM({},e),{},JM(JM({},n.axisType,o),"".concat(n.axisType,"Ticks"),zA(o)))}),{}),O=k[y],T=k["".concat(y,"Ticks")],C=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?jA(jA({},e.type.defaultProps),e.props):e.props).stackId;if(Pg(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[S].stackGroups),A=iv(n.type).indexOf("Bar")>=0,P=ZA(O,T),I=[],j=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var u=i[a[s]].stackGroups,c=Object.keys(u),h=0,d=c.length;h<d;h++){var f=u[c[h]],p=f.items,m=f.cateAxisId,y=p.filter((function(e){return iv(e.type).indexOf("Bar")>=0}));if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?jA(jA({},g),y[0].props):y[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var x=Ug()(b)?t:b;o[w].push({item:y[0],stackList:y.slice(1),barSize:Ug()(x)?void 0:Ng(x,n,0)})}}return o}({barSize:u,stackGroups:r,totalSize:fD(k,y)});if(A){var N,M,D=Ug()(_)?f:_,R=null!==(N=null!==(M=ZA(O,T,!0))&&void 0!==M?M:D)&&void 0!==N?N:0;I=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,u=Ng(t,r,0,!0),c=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*u)>=r&&(f-=(s-1)*u,u=0),f>=r&&d>0&&(h=!0,f=s*(d*=.9));var p={offset:((r-f)/2|0)-u,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+u,size:h?d:t.barSize}},r=[].concat(AA(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),c)}else{var m=Ng(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var y=(r-2*m-(s-1)*u)/s;y>1&&(y>>=0);var g=a===+a?Math.min(y,a):y;l=o.reduce((function(e,t,n){var r=[].concat(AA(e),[{item:t.item,position:{offset:m+(y+u)*n+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),c)}return l}({barGap:h,barCategoryGap:d,bandSize:R!==P?R:P,sizeList:j[E],maxBarSize:D}),R!==P&&(I=I.map((function(e){return XM(XM({},e),{},{position:XM(XM({},e.position),{},{offset:e.position.offset-R/2})})})))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:XM(XM({},L(XM(XM({},k),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:P,barPosition:I,offset:i,stackedData:C,layout:c,dataStartIndex:a,dataEndIndex:s}))),{},JM(JM(JM({key:n.key||"item-".concat(p)},m,k[m]),y,k[y]),"animationId",o)),childIndex:vv(n,e.children),item:n})})),v},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!cv({props:i}))return null;var u=i.children,h=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,y=hD(h),g=y.numericAxisName,v=y.cateAxisName,b=lv(u,n),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?jA(jA({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Pg(a)){var u=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),l.hasStack=!0,l.stackGroups[a]=u}else l.stackGroups[jg("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return jA(jA({},e),{},NA({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return jA(jA({},t),{},NA({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:WA(e,a.items,i)}))}),{})),jA(jA({},t),{},NA({},o,s))}),{})}(p,b,"".concat(g,"Id"),"".concat(v,"Id"),f,m),x=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return XM(XM({},e),{},JM({},n,uD(i,XM(XM({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),_=dD(XM(XM({},x),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(x).forEach((function(e){x[e]=c(i,x[e],_,e.replace("Map",""),t)}));var S=function(e){var t=Mg(e),n=zA(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Av()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:ZA(t,n)}}(x["".concat(v,"Map")]),E=d(i,XM(XM({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:_}));return XM(XM({formattedGraphicalItems:E,graphicalItems:b,offset:_,stackGroups:w},S),x)},p=function(e){function n(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),JM(a=qM(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),JM(a,"accessibilityManager",new BN),JM(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(XM({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},XM(XM({},a.state),{},{legendBBox:e}))))}})),JM(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),JM(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return XM({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),JM(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=XM(XM({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;zg()(r)&&r(n,e)}})),JM(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?XM(XM({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;zg()(r)&&r(n,e)})),JM(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),JM(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),JM(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),JM(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;zg()(n)&&n(t,e)})),JM(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&rv[t]?rv[t]:null}(e),r=Eg()(a.props,"".concat(n));n&&zg()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),JM(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=XM(XM({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;zg()(r)&&r(n,e)}})),JM(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;zg()(t)&&t(a.getMouseInfo(e),e)})),JM(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;zg()(t)&&t(a.getMouseInfo(e),e)})),JM(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),JM(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),JM(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),JM(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;zg()(t)&&t(a.getMouseInfo(e),e)})),JM(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;zg()(t)&&t(a.getMouseInfo(e),e)})),JM(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&MN.emit(DN,a.props.syncId,e,a.eventEmitterSymbol)})),JM(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(XM({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,u=e.chartY,c=e.activeTooltipIndex,h=a.state,d=h.offset,p=h.tooltipTicks;if(!d)return;if("function"===typeof r)c=r(p,e);else if("value"===r){c=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){c=m;break}}var y=XM(XM({},d),{},{x:d.left,y:d.top}),g=Math.min(l,y.x+y.width),v=Math.min(u,y.y+y.height),b=p[c]&&p[c].value,w=aD(a.state,a.props.data,c),x=p[c]?{x:"horizontal"===n?p[c].coordinate:g,y:"horizontal"===n?v:p[c].coordinate}:nD;a.setState(XM(XM({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:c}))}else a.setState(e)})),JM(a,"renderCursor",(function(e){var n,r=a.state,o=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,u=r.offset,c=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:o,p=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(DM,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:p,offset:u,tooltipAxisBandSize:h,tooltipEventType:d})})),JM(a,"renderPolarAxis",(function(e,t,n){var r=Eg()(e,"type.axisType"),o=Eg()(a.state,"".concat(r,"Map")),s=e.type.defaultProps,l=void 0!==s?XM(XM({},s),e.props):e.props,u=o&&o[l["".concat(r,"Id")]];return(0,i.cloneElement)(e,XM(XM({},u),{},{className:yg(r,u.className),key:e.key||"".concat(t,"-").concat(n),ticks:zA(u,!0)}))})),JM(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=Mg(l),h=Mg(u),d=h.cx,f=h.cy,p=h.innerRadius,m=h.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:zA(h,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:zA(c,!0).map((function(e){return e.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),JM(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,s=a.props.margin||{},l=r-(s.left||0)-(s.right||0),c=TA({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var h=c.item,d=zM(c,RM);return(0,i.cloneElement)(h,XM(XM({},d),{},{chartWidth:r,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),JM(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=uv(n,Tb);if(!o)return null;var s=a.state,l=s.isTooltipActive,u=s.activeCoordinate,c=s.activePayload,h=s.activeLabel,d=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(o,{viewBox:XM(XM({},d),{},{x:d.left,y:d.top}),active:f,label:h,payload:f?c:[],coordinate:u,accessibilityLayer:r})})),JM(a,"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,u=o.dataEndIndex,c=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:qA(a.handleBrushChange,e.props.onChange),data:r,x:Ag(e.props.x)?e.props.x:s.left,y:Ag(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ag(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})})),JM(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,u=o.offset,c=e.type.defaultProps||{},h=e.props,d=h.xAxisId,f=void 0===d?c.xAxisId:d,p=h.yAxisId,m=void 0===p?c.yAxisId:p;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:r})})),JM(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,u=void 0!==t.item.type.defaultProps?XM(XM({},t.item.type.defaultProps),t.item.props):t.item.props,c=u.activeDot,h=XM(XM({index:o,dataKey:u.dataKey,cx:r.x,cy:r.y,r:4,fill:RA(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},pv(c,!1)),Xg(c));return s.push(n.renderActiveDot(c,h,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(c,XM(XM({},h),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),JM(a,"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,h=s.activeLabel,d=uv(a.props.children,Tb),f=r.props,p=f.points,m=f.isRange,y=f.baseLine,g=void 0!==r.item.type.defaultProps?XM(XM({},r.item.type.defaultProps),r.item.props):r.item.props,v=g.activeDot,b=g.hide,w=g.activeBar,x=g.activeShape,_=Boolean(!b&&l&&d&&(v||w||x)),S={};"axis"!==o&&d&&"click"===d.props.trigger?S={onClick:qA(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(S={onMouseLeave:qA(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:qA(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,i.cloneElement)(e,XM(XM({},r.props),S));if(_){if(!(c>=0)){var k,O=(null!==(k=a.getItemByXY(a.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:E}).graphicalItem,T=O.item,C=void 0===T?e:T,A=O.childIndex,P=XM(XM(XM({},r.props),S),{},{activeIndex:A});return[(0,i.cloneElement)(C,P),null,null]}var I,j;if(u.dataKey&&!u.allowDuplicatedCategory){var N="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());I=Rg(p,N,h),j=m&&y&&Rg(y,N,h)}else I=null===p||void 0===p?void 0:p[c],j=m&&y&&y[c];if(x||w){var M=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[(0,i.cloneElement)(e,XM(XM(XM({},r.props),S),{},{activeIndex:M})),null,null]}if(!Ug()(I))return[E].concat(KM(a.renderActivePoints({item:r,activePoint:I,basePoint:j,childIndex:c,isRange:m})))}return m?[E,null,null]:[E,null]})),JM(a,"renderCustomized",(function(e,t,n){return(0,i.cloneElement)(e,XM(XM({key:"recharts-customized-".concat(n)},a.props),a.state))})),JM(a,"renderMap",{CartesianGrid:{handler:rD,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:rD},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:rD},YAxis:{handler:rD},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:jg("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=vg()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WM(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=uv(t,Tb);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=aD(this.state,n,a,s),u=this.state.tooltipTicks[a].coordinate,c=(this.state.offset.top+r)/2,h="horizontal"===i?{x:u,y:c}:{y:u,x:c},d=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));d&&(h=XM(XM({},h),d.props.points[a].tooltipPosition),l=d.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:h};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){mv([uv(e.children,Tb)],[uv(this.props.children,Tb)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=uv(this.props.children,Tb);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,u=l.xAxisMap,c=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&u&&c){var h=Mg(u).scale,d=Mg(c).scale,f=h&&h.invert?h.invert(o.chartX):null,p=d&&d.invert?d.invert(o.chartY):null;return XM(XM({},o),{},{xValue:f,yValue:p})}var m=sD(this.state,this.props.data,this.props.layout,s);return m?XM(XM({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,u=s.radiusAxisMap;if(l&&u){var c=Mg(l);return AP({x:i,y:o},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=uv(e,Tb),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),XM(XM({},Xg(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){MN.on(DN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){MN.removeListener(DN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===iv(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=BM(t,2),r=n[0],i=n[1];return XM(XM({},e),{},JM({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=BM(t,2),r=n[0],i=n[1];return XM(XM({},e),{},JM({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,u=void 0!==l.type.defaultProps?XM(XM({},l.type.defaultProps),l.props):l.props,c=iv(l.type);if("Bar"===c){var h=(s.data||[]).find((function(t){return T_(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if("RadialBar"===c){var d=(s.data||[]).find((function(t){return AP(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if(BI(a,r)||zI(a,r)||VI(a,r)){var f=WI({graphicalItem:a,activeTooltipItem:r,itemData:u.data}),p=void 0===u.activeIndex?f:u.activeIndex;return{graphicalItem:XM(XM({},a),{},{childIndex:p}),payload:VI(a,r)?u.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!cv(this))return null;var t,n,r=this.props,o=r.children,a=r.className,s=r.width,l=r.height,u=r.style,c=r.compact,h=r.title,d=r.desc,f=zM(r,LM),p=pv(f,!1);if(c)return i.createElement(Jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(Dv,UM({},p,{width:s,height:l,title:h,desc:d}),this.renderClipPath(),gv(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(Jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",UM({className:yg("recharts-wrapper",a),style:XM({position:"relative",cursor:"default",width:s,height:l},u)},m,{ref:function(t){e.container=t}}),i.createElement(Dv,UM({},p,{width:s,height:l,title:h,desc:d,style:tD}),this.renderClipPath(),gv(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&VM(r.prototype,a),l&&VM(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(i.Component);JM(p,"displayName",t),JM(p,"defaultProps",XM({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),JM(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,u=e.margin,c=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var d=cD(e);return XM(XM(XM({},d),{},{updateId:0},f(XM(XM({props:e},d),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Hg(u,t.prevMargin)){var p=cD(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=XM(XM({},sD(t,r,s)),{},{updateId:t.updateId+1}),g=XM(XM(XM({},p),m),y);return XM(XM(XM({},g),f(XM({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(!mv(i,t.prevChildren)){var v,b,w,x,_=uv(i,bP),S=_&&null!==(v=null===(b=_.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:c,E=_&&null!==(w=null===(x=_.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:h,k=S!==c||E!==h,O=!Ug()(r)&&!k?t.updateId:t.updateId+1;return XM(XM({updateId:O},f(XM(XM({props:e},t),{},{updateId:O,dataStartIndex:S,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:E})}return null})),JM(p,"renderActiveDot",(function(e,t,n){var r;return r=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):zg()(e)?e(t):i.createElement(qw,t),i.createElement(Uv,{className:"recharts-active-dot",key:n},r)}));var m=(0,i.forwardRef)((function(e,t){return i.createElement(p,UM({},e,{ref:t}))}));return m.displayName=p.displayName,m},mD=["type","layout","connectNulls","ref"],yD=["key"];function gD(e){return gD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gD(e)}function vD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bD(){return bD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bD.apply(this,arguments)}function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(n),!0).forEach((function(t){AD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _D(e){return function(e){if(Array.isArray(e))return SD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return SD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ED(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PD(r.key),r)}}function kD(e,t,n){return t=TD(t),function(e,t){if(t&&("object"===gD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OD()?Reflect.construct(t,n||[],TD(e).constructor):t.apply(e,n))}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OD=function(){return!!e})()}function TD(e){return TD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TD(e)}function CD(e,t){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CD(e,t)}function AD(e,t,n){return(t=PD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PD(e){var t=function(e,t){if("object"!=gD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gD(t)?t:t+""}var ID=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return AD(e=kD(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),AD(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),AD(e,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,u=[],c=0,h=0;c<i.length;h+=i[c],++c)if(h+i[c]>s){u=[].concat(_D(i.slice(0,c)),[s-h]);break}var d=u.length%2===0?[0,l]:[l];return[].concat(_D(t.repeat(i,a)),_D(u),d).map((function(e){return"".concat(e,"px")})).join(", ")})),AD(e,"id",jg("recharts-line-")),AD(e,"pathRef",(function(t){e.mainCurve=t})),AD(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),AD(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CD(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,l=lv(n.children,_A);if(!l)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:MA(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Uv,c,l.map((function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,dataPointFormatter:u})})))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,u=pv(this.props,!1),c=pv(a,!0),h=s.map((function(e,n){var r=xD(xD(xD({key:"dot-".concat(n),r:3},u),c),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),d={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(Uv,bD({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,u=(o.ref,vD(o,mD)),c=xD(xD(xD({},pv(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:l});return i.createElement(wM,bD({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,u=r.animationDuration,c=r.animationEasing,h=r.animationId,d=r.animateNewValues,f=r.width,p=r.height,m=this.state,y=m.prevPoints,g=m.totalLength;return i.createElement(v_,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(y){var s=y.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(y[n]){var r=y[n],o=Dg(r.x,e.x),a=Dg(r.y,e.y);return xD(xD({},e),{},{x:o(i),y:a(i)})}if(d){var l=Dg(2*f,e.x),u=Dg(p/2,e.y);return xD(xD({},e),{},{x:l(i),y:u(i)})}return xD(xD({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var u,c=Dg(0,g)(i);if(a){var h="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));u=n.getStrokeDasharray(c,g,h)}else u=n.generateSimpleStrokeDasharray(g,c);return n.renderCurveStatically(o,e,t,{strokeDasharray:u})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!NC()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.xAxis,l=t.yAxis,u=t.top,c=t.left,h=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,y=1===o.length,g=yg("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=v||b,x=Ug()(p)?this.id:p,_=null!==(e=pv(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=_.r,E=void 0===S?3:S,k=_.strokeWidth,O=void 0===k?2:k,T=(fv(r)?r:{}).clipDot,C=void 0===T||T,A=2*E+O;return i.createElement(Uv,{className:g},v||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(x)},i.createElement("rect",{x:v?c:c-h/2,y:b?u:u-d/2,width:v?h:2*h,height:b?d:2*d})),!C&&i.createElement("clipPath",{id:"clipPath-dots-".concat(x)},i.createElement("rect",{x:c-A/2,y:u-A/2,width:h+A,height:d+A}))):null,!y&&this.renderCurve(w,x),this.renderErrorBar(w,x),(y||r)&&this.renderDots(w,C,x),(!f||m)&&sI.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(_D(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(_D(r),_D(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(zg()(e))n=e(t);else{var r=t.key,o=vD(t,yD),a=yg("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(qw,bD({key:r},o,{className:a}))}return n}}],r&&ED(n.prototype,r),o&&ED(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function jD(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function ND(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function MD(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function DD(e){return DD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DD(e)}function RD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RD(Object(n),!0).forEach((function(t){FD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UD(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(Ag(l)||db.isSsr)return function(e,t){return jD(e,t+1)}(i,"number"===typeof l&&Ag(l)?l:0);var d=[],f="top"===s||"bottom"===s?"width":"height",p=c&&"width"===f?Q_(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=zg()(u)?u(e.value,r):e.value;return"width"===f?ND(Q_(i,{fontSize:t,letterSpacing:n}),p,h):Q_(i,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?Tg(i[1].coordinate-i[0].coordinate):1,g=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,y,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,u=0,c=1,h=s,d=function(){var t=null===r||void 0===r?void 0:r[u];if(void 0===t)return{v:jD(r,c)};var o,a=u,d=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===u||MD(e,f,d,h,l);p||(u=0,h=s,c+=1),p&&(h=f+e*(d()/2+i),u+=c)};c<=a.length;)if(o=d())return o.v;return[]}(y,g,m,i,a):(d="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],h=n(c,s-1),d=e*(c.coordinate+e*h/2-u);a[s-1]=c=LD(LD({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate}),MD(e,c.tickCoord,(function(){return h}),l,u)&&(u=c.tickCoord-e*(h/2+i),a[s-1]=LD(LD({},c),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var c=e*(o.coordinate-e*s()/2-l);a[t]=o=LD(LD({},o),{},{tickCoord:c<0?o.coordinate-c*e:o.coordinate})}else a[t]=o=LD(LD({},o),{},{tickCoord:o.coordinate});MD(e,o.tickCoord,s,l,u)&&(l=o.tickCoord+e*(s()/2+i),a[t]=LD(LD({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(y,g,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(t){var r,u=o[t],c=function(){return void 0===r&&(r=n(u,t)),r};if(t===a-1){var h=e*(u.coordinate+e*c()/2-l);o[t]=u=LD(LD({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate})}else o[t]=u=LD(LD({},u),{},{tickCoord:u.coordinate});MD(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+i),o[t]=LD(LD({},u),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}(y,g,m,i,a),d.filter((function(e){return e.isShow})))}AD(ID,"displayName","Line"),AD(ID,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!db.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),AD(ID,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,h=l.map((function(e,t){var l=MA(e,a);return"horizontal"===c?{x:KA({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:Ug()(l)?null:r.scale(l),value:l,payload:e}:{x:Ug()(l)?null:n.scale(l),y:KA({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return xD({points:h,layout:c},u)}));var BD=["viewBox"],zD=["viewBox"],VD=["ticks"];function qD(e){return qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qD(e)}function $D(){return $D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$D.apply(this,arguments)}function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HD(Object(n),!0).forEach((function(t){ZD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eR(r.key),r)}}function QD(e,t,n){return t=XD(t),function(e,t){if(t&&("object"===qD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YD()?Reflect.construct(t,n||[],XD(e).constructor):t.apply(e,n))}function YD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YD=function(){return!!e})()}function XD(e){return XD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XD(e)}function JD(e,t){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JD(e,t)}function ZD(e,t,n){return(t=eR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eR(e){var t=function(e,t){if("object"!=qD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qD(t)?t:t+""}var tR=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=QD(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JD(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=KD(e,BD),i=this.props,o=i.viewBox,a=KD(i,zD);return!Hg(n,o)||!Hg(r,a)||!Hg(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,u=s.y,c=s.width,h=s.height,d=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||f,v=Ag(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=u+ +!p*h)-y*g)-y*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*c)-y*g)-y*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*c)+y*g)+y*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=u+ +p*h)+y*g)+y*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,u=WD(WD(WD({},pv(this.props,!1)),pv(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);u=WD(WD({},u),{},{x1:t,y1:n+c*o,x2:t+r,y2:n+c*o})}else{var h=+("left"===a&&!s||"right"===a&&s);u=WD(WD({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+o})}return i.createElement("line",$D({},u,{className:yg("recharts-cartesian-axis-line",Eg()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,s=a.tickLine,l=a.stroke,u=a.tick,c=a.tickFormatter,h=a.unit,d=UD(WD(WD({},this.props),{},{ticks:e}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=pv(this.props,!1),y=pv(u,!1),g=WD(WD({},m),{},{fill:"none"},pv(s,!1)),v=d.map((function(e,n){var r=o.getTickLineCoord(e),a=r.line,v=r.tick,b=WD(WD(WD(WD({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},y),v),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:c});return i.createElement(Uv,$D({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Jg(o.props,e,n)),s&&i.createElement("line",$D({},g,a,{className:yg("recharts-cartesian-axis-tick-line",Eg()(s,"className"))})),u&&t.renderTickItem(u,b,"".concat(zg()(c)?c(e.value,n):e.value).concat(h||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,u=l.ticks,c=KD(l,VD),h=u;return zg()(a)&&(h=u&&u.length>0?a(this.props):a(c)),r<=0||o<=0||!h||!h.length?null:i.createElement(Uv,{className:yg("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),BP.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):zg()(e)?e(t):i.createElement(ES,$D({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&GD(n.prototype,r),o&&GD(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function nR(e){return nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nR(e)}function rR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uR(r.key),r)}}function iR(e,t,n){return t=aR(t),function(e,t){if(t&&("object"===nR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oR()?Reflect.construct(t,n||[],aR(e).constructor):t.apply(e,n))}function oR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oR=function(){return!!e})()}function aR(e){return aR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aR(e)}function sR(e,t){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sR(e,t)}function lR(e,t,n){return(t=uR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uR(e){var t=function(e,t){if("object"!=nR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nR(t)?t:t+""}function cR(){return cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cR.apply(this,arguments)}function hR(e){var t=e.xAxisId,n=tN(),r=nN(),o=Zj(t);return null==o?null:i.createElement(tR,cR({},o,{className:yg("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return zA(e,!0)}}))}ZD(tR,"displayName","CartesianAxis"),ZD(tR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(hR,this.props)}}])&&rR(n.prototype,r),o&&rR(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function fR(e){return fR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fR(e)}function pR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wR(r.key),r)}}function mR(e,t,n){return t=gR(t),function(e,t){if(t&&("object"===fR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yR()?Reflect.construct(t,n||[],gR(e).constructor):t.apply(e,n))}function yR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yR=function(){return!!e})()}function gR(e){return gR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gR(e)}function vR(e,t){return vR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vR(e,t)}function bR(e,t,n){return(t=wR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wR(e){var t=function(e,t){if("object"!=fR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fR(t)?t:t+""}function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xR.apply(this,arguments)}lR(dR,"displayName","XAxis"),lR(dR,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var _R=function(e){var t=e.yAxisId,n=tN(),r=nN(),o=eN(t);return null==o?null:i.createElement(tR,xR({},o,{className:yg("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return zA(e,!0)}}))},SR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(_R,this.props)}}])&&pR(n.prototype,r),o&&pR(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);bR(SR,"displayName","YAxis"),bR(SR,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var ER=pD({chartName:"LineChart",GraphicalChild:ID,axisComponents:[{axisType:"xAxis",AxisComp:dR},{axisType:"yAxis",AxisComp:SR}],formatAxisMap:Sj}),kR=["x1","y1","x2","y2","key"],OR=["offset"];function TR(e){return TR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TR(e)}function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CR(Object(n),!0).forEach((function(t){PR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PR(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TR(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(){return IR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IR.apply(this,arguments)}function jR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var NR=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return i.createElement("rect",{x:r,y:o,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MR(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(zg()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,u=jR(t,kR),c=pv(u,!1),h=(c.offset,jR(c,OR));n=i.createElement("line",IR({},h,{x1:r,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function DR(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=AR(AR({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return MR(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function RR(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=AR(AR({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return MR(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function LR(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,u=e.horizontal;if(!(void 0===u||u)||!t||!t.length)return null;var c=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==c[0]&&c.unshift(0);var h=c.map((function(e,l){var u=!c[l+1]?o+s-e:c[l+1]-e;if(u<=0)return null;var h=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:u,width:a,stroke:"none",fill:t[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function FR(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,u=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==h[0]&&h.unshift(0);var d=h.map((function(e,t){var n=!h[t+1]?a+l-e:h[t+1]-e;if(n<=0)return null;var c=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:u,stroke:"none",fill:r[c],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var UR=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return BA(UD(AR(AR(AR({},tR.defaultProps),n),{},{ticks:zA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},BR=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return BA(UD(AR(AR(AR({},tR.defaultProps),n),{},{ticks:zA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},zR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VR(e){var t,n,r,o,a,s,l=tN(),u=nN(),c=(0,i.useContext)(Gj),h=AR(AR({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:zR.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:zR.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:zR.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:zR.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:zR.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:zR.verticalFill,x:Ag(e.x)?e.x:c.left,y:Ag(e.y)?e.y:c.top,width:Ag(e.width)?e.width:c.width,height:Ag(e.height)?e.height:c.height}),d=h.x,f=h.y,p=h.width,m=h.height,y=h.syncWithTicks,g=h.horizontalValues,v=h.verticalValues,b=function(){var e=(0,i.useContext)(Hj);return Mg(e)}(),w=function(){var e=(0,i.useContext)(Wj);return Vj()(e,(function(e){return WP()(e.domain,Number.isFinite)}))||Mg(e)}();if(!Ag(p)||p<=0||!Ag(m)||m<=0||!Ag(d)||d!==+d||!Ag(f)||f!==+f)return null;var x=h.verticalCoordinatesGenerator||UR,_=h.horizontalCoordinatesGenerator||BR,S=h.horizontalPoints,E=h.verticalPoints;if((!S||!S.length)&&zg()(_)){var k=g&&g.length,O=_({yAxis:w?AR(AR({},w),{},{ticks:k?g:w.ticks}):void 0,width:l,height:u,offset:c},!!k||y);Lg(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(TR(O),"]")),Array.isArray(O)&&(S=O)}if((!E||!E.length)&&zg()(x)){var T=v&&v.length,C=x({xAxis:b?AR(AR({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:u,offset:c},!!T||y);Lg(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(TR(C),"]")),Array.isArray(C)&&(E=C)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(NR,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),i.createElement(DR,IR({},h,{offset:c,horizontalPoints:S,xAxis:b,yAxis:w})),i.createElement(RR,IR({},h,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),i.createElement(LR,IR({},h,{horizontalPoints:S})),i.createElement(FR,IR({},h,{verticalPoints:E})))}VR.displayName="CartesianGrid";var qR,$R=pD({chartName:"BarChart",GraphicalChild:yj,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:dR},{axisType:"yAxis",AxisComp:SR}],formatAxisMap:Sj}),HR=["layout","type","stroke","connectNulls","isRange","ref"],WR=["key"];function KR(e){return KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KR(e)}function GR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QR(){return QR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QR.apply(this,arguments)}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YR(Object(n),!0).forEach((function(t){rL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iL(r.key),r)}}function ZR(e,t,n){return t=tL(t),function(e,t){if(t&&("object"===KR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eL()?Reflect.construct(t,n||[],tL(e).constructor):t.apply(e,n))}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eL=function(){return!!e})()}function tL(e){return tL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tL(e)}function nL(e,t){return nL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nL(e,t)}function rL(e,t,n){return(t=iL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iL(e){var t=function(e,t){if("object"!=KR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KR(t)?t:t+""}var oL=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rL(e=ZR(this,t,[].concat(r)),"state",{isAnimationFinished:!0}),rL(e,"id",jg("recharts-area-")),rL(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),zg()(t)&&t()})),rL(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),zg()(t)&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nL(e,t)}(t,e),n=t,r=[{key:"renderDots",value:function(e,n,r){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,h=pv(this.props,!1),d=pv(l,!0),f=u.map((function(e,n){var r=XR(XR(XR({key:"dot-".concat(n),r:3},h),d),{},{index:n,cx:e.x,cy:e.y,dataKey:c,value:e.value,payload:e.payload,points:u});return t.renderDotItem(l,r)})),p={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(Uv,QR({className:"recharts-area-dots"},p),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,o=t.strokeWidth,a=r[0].x,s=r[r.length-1].x,l=e*Math.abs(a-s),u=TC()(r.map((function(e){return e.y||0})));return Ag(n)&&"number"===typeof n?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(TC()(n.map((function(e){return e.y||0}))),u)),Ag(u)?i.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,o=t.strokeWidth,a=r[0].y,s=r[r.length-1].y,l=e*Math.abs(a-s),u=TC()(r.map((function(e){return e.x||0})));return Ag(n)&&"number"===typeof n?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(TC()(n.map((function(e){return e.x||0}))),u)),Ag(u)?i.createElement("rect",{x:0,y:a<s?a:a-l,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var o=this.props,a=o.layout,s=o.type,l=o.stroke,u=o.connectNulls,c=o.isRange,h=(o.ref,GR(o,HR));return i.createElement(Uv,{clipPath:n?"url(#clipPath-".concat(r,")"):null},i.createElement(wM,QR({},pv(h,!0),{points:e,connectNulls:u,type:s,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==l&&i.createElement(wM,QR({},pv(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:u,fill:"none",points:e})),"none"!==l&&c&&i.createElement(wM,QR({},pv(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:u,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.baseLine,s=r.isAnimationActive,l=r.animationBegin,u=r.animationDuration,c=r.animationEasing,h=r.animationId,d=this.state,f=d.prevPoints,p=d.prevBaseLine;return i.createElement(v_,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var s=r.t;if(f){var l,u=f.length/o.length,c=o.map((function(e,t){var n=Math.floor(t*u);if(f[n]){var r=f[n],i=Dg(r.x,e.x),o=Dg(r.y,e.y);return XR(XR({},e),{},{x:i(s),y:o(s)})}return e}));return l=Ag(a)&&"number"===typeof a?Dg(p,a)(s):Ug()(a)||_g()(a)?Dg(p,0)(s):a.map((function(e,t){var n=Math.floor(t*u);if(p[n]){var r=p[n],i=Dg(r.x,e.x),o=Dg(r.y,e.y);return XR(XR({},e),{},{x:i(s),y:o(s)})}return e})),n.renderAreaStatically(c,l,e,t)}return i.createElement(Uv,null,i.createElement("defs",null,i.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),i.createElement(Uv,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(o,a,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,i=n.baseLine,o=n.isAnimationActive,a=this.state,s=a.prevPoints,l=a.prevBaseLine,u=a.totalLength;return o&&r&&r.length&&(!s&&u>0||!NC()(s,r)||!NC()(l,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.top,l=t.left,u=t.xAxis,c=t.yAxis,h=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,y=1===o.length,g=yg("recharts-area",a),v=u&&u.allowDataOverflow,b=c&&c.allowDataOverflow,w=v||b,x=Ug()(p)?this.id:p,_=null!==(e=pv(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=_.r,E=void 0===S?3:S,k=_.strokeWidth,O=void 0===k?2:k,T=(fv(r)?r:{}).clipDot,C=void 0===T||T,A=2*E+O;return i.createElement(Uv,{className:g},v||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(x)},i.createElement("rect",{x:v?l:l-h/2,y:b?s:s-d/2,width:v?h:2*h,height:b?d:2*d})),!C&&i.createElement("clipPath",{id:"clipPath-dots-".concat(x)},i.createElement("rect",{x:l-A/2,y:s-A/2,width:h+A,height:d+A}))):null,y?null:this.renderArea(w,x),(r||y)&&this.renderDots(w,C,x),(!f||m)&&sI.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],r&&JR(n.prototype,r),o&&JR(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);qR=oL,rL(oL,"displayName","Area"),rL(oL,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!db.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),rL(oL,"getBaseValue",(function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=null!==a&&void 0!==a?a:o;if(Ag(s)&&"number"===typeof s)return s;var l="horizontal"===i?r:n,u=l.scale.domain();if("number"===l.type){var c=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return"dataMin"===s?h:"dataMax"===s||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return"dataMin"===s?u[0]:"dataMax"===s?u[1]:u[0]})),rL(oL,"getComposedData",(function(e){var t,n=e.props,r=e.item,i=e.xAxis,o=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,u=e.dataKey,c=e.stackedData,h=e.dataStartIndex,d=e.displayedData,f=e.offset,p=n.layout,m=c&&c.length,y=qR.getBaseValue(n,r,i,o),g="horizontal"===p,v=!1,b=d.map((function(e,t){var n;m?n=c[h+t]:(n=MA(e,u),Array.isArray(n)?v=!0:n=[y,n]);var r=null==n[1]||m&&null==MA(e,u);return g?{x:KA({axis:i,ticks:a,bandSize:l,entry:e,index:t}),y:r?null:o.scale(n[1]),value:n,payload:e}:{x:r?null:i.scale(n[1]),y:KA({axis:o,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}}));return t=m||v?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?o.scale(t):null}:{x:null!=t?i.scale(t):null,y:e.y}})):g?o.scale(y):i.scale(y),XR({points:b,baseLine:t,layout:p,isRange:v},f)})),rL(oL,"renderDotItem",(function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(zg()(e))n=e(t);else{var r=yg("recharts-area-dot","boolean"!==typeof e?e.className:""),o=t.key,a=GR(t,WR);n=i.createElement(qw,QR({},a,{key:o,className:r}))}return n}));var aL=pD({chartName:"AreaChart",GraphicalChild:oL,axisComponents:[{axisType:"xAxis",AxisComp:dR},{axisType:"yAxis",AxisComp:SR}],formatAxisMap:Sj});function sL(e){let{onClick:t,active:n,children:r}=e;const{isDarkMode:i}=Uy();return(0,By.jsx)("button",{onClick:t,className:"px-4 py-2 rounded-lg transition-colors "+(n?i?"bg-blue-500 text-white":"bg-purple-500 text-white":i?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:r})}var lL=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uL="undefined"===typeof window||"Deno"in globalThis;function cL(){}function hL(e){return"number"===typeof e&&e>=0&&e!==1/0}function dL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fL(e,t){return"function"===typeof e?e(t):e}function pL(e,t){return"function"===typeof e?e(t):e}function mL(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a)if(r){if(t.queryHash!==gL(a,t.options))return!1}else if(!bL(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof s||t.isStale()===s)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function yL(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(vL(t.options.mutationKey)!==vL(o))return!1}else if(!bL(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function gL(e,t){return(t?.queryKeyHashFn||vL)(e)}function vL(e){return JSON.stringify(e,((e,t)=>SL(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function bL(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!bL(e[n],t[n]))))}function wL(e,t){if(e===t)return e;const n=_L(e)&&_L(t);if(n||SL(e)&&SL(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,s=n?[]:{};let l=0;for(let u=0;u<a;u++){const i=n?u:o[u];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(s[i]=void 0,l++):(s[i]=wL(e[i],t[i]),s[i]===e[i]&&void 0!==e[i]&&l++)}return i===a&&l===i?e:s}return t}function xL(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _L(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function SL(e){if(!EL(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!EL(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function EL(e){return"[object Object]"===Object.prototype.toString.call(e)}function kL(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?wL(e,t):t}function OL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function TL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var CL=Symbol();function AL(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==CL?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var PL=new class extends lL{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!uL&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}};var IL=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const o=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return a},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o((()=>{e(...n)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),jL=new class extends lL{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!uL&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function NL(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function ML(e){return Math.min(1e3*2**e,3e4)}function DL(e){return"online"!==(e??"online")||jL.isOnline()}var RL=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function LL(e){return e instanceof RL}function FL(e){let t,n=!1,r=0,i=!1;const o=NL(),a=()=>PL.isFocused()&&("always"===e.networkMode||jL.isOnline())&&e.canRun(),s=()=>DL(e.networkMode)&&e.canRun(),l=n=>{i||(i=!0,e.onSuccess?.(n),t?.(),o.resolve(n))},u=n=>{i||(i=!0,e.onError?.(n),t?.(),o.reject(n))},c=()=>new Promise((n=>{t=e=>{(i||a())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,i||e.onContinue?.()})),h=()=>{if(i)return;let t;const o=0===r?e.initialPromise:void 0;try{t=o??e.fn()}catch(ig){t=Promise.reject(ig)}Promise.resolve(t).then(l).catch((t=>{if(i)return;const o=e.retry??(uL?0:3),s=e.retryDelay??ML,l="function"===typeof s?s(r,t):s,d=!0===o||"number"===typeof o&&r<o||"function"===typeof o&&o(r,t);var f;!n&&d?(r++,e.onFail?.(r,t),(f=l,new Promise((e=>{setTimeout(e,f)}))).then((()=>a()?void 0:c())).then((()=>{n?u(t):h()}))):u(t)}))};return{promise:o,cancel:t=>{i||(u(new RL(t)),e.abort?.())},continue:()=>(t?.(),o),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:s,start:()=>(s()?h():c().then(h),o)}}var UL=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hL(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uL?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},BL=class extends UL{#o;#a;#s;#l;#u;#c;#h;constructor(e){super(),this.#h=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#s=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(e,t){const n=kL(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(cL).catch(cL):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some((e=>!1!==pL(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!dL(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#u&&(this.#h?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const e=AL(this.options,t),n={client:this.#l,queryKey:this.queryKey,meta:this.meta};return r(n),this.#h=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#a=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#d({type:"fetch",meta:i.fetchOptions?.meta});const o=e=>{LL(e)&&e.silent||this.#d({type:"error",error:e}),LL(e)||(this.#s.config.onError?.(e,this),this.#s.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#u=FL({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(ig){return void o(ig)}this.#s.config.onSuccess?.(e,this),this.#s.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else o(new Error(`${this.queryHash} data is undefined`))},onError:o,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#u.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...zL(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return LL(n)&&n.revert&&this.#a?{...this.#a,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),IL.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#s.notify({query:this,type:"updated",action:e})}))}};function zL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DL(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var VL=class extends lL{constructor(e,t){super(),this.options=t,this.#l=e,this.#f=null,this.#p=NL(),this.options.experimental_prefetchInRender||this.#p.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#m=void 0;#y=void 0;#g=void 0;#v;#b;#p;#f;#w;#x;#_;#S;#E;#k;#O=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#m.addObserver(this),qL(this.#m,this.options)?this.#T():this.updateResult(),this.#C())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $L(this.#m,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $L(this.#m,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#A(),this.#P(),this.#m.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#m;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof pL(this.options.enabled,this.#m))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#I(),this.#m.setOptions(this.options),n._defaulted&&!xL(this.options,n)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#m,observer:this});const i=this.hasListeners();i&&HL(this.#m,r,this.options,n)&&this.#T(),this.updateResult(t),!i||this.#m===r&&pL(this.options.enabled,this.#m)===pL(n.enabled,this.#m)&&fL(this.options.staleTime,this.#m)===fL(n.staleTime,this.#m)||this.#j();const o=this.#N();!i||this.#m===r&&pL(this.options.enabled,this.#m)===pL(n.enabled,this.#m)&&o===this.#k||this.#M(o)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),n=this.createResult(t,e);return function(e,t){if(!xL(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#g=n,this.#b=this.options,this.#v=this.#m.state),n}getCurrentResult(){return this.#g}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#O.add(e)}getCurrentQuery(){return this.#m}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),n=this.#l.getQueryCache().build(this.#l,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#T({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#g)))}#T(e){this.#I();let t=this.#m.fetch(this.options,e);return e?.throwOnError||(t=t.catch(cL)),t}#j(){this.#A();const e=fL(this.options.staleTime,this.#m);if(uL||this.#g.isStale||!hL(e))return;const t=dL(this.#g.dataUpdatedAt,e)+1;this.#S=setTimeout((()=>{this.#g.isStale||this.updateResult()}),t)}#N(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#m):this.options.refetchInterval)??!1}#M(e){this.#P(),this.#k=e,!uL&&!1!==pL(this.options.enabled,this.#m)&&hL(this.#k)&&0!==this.#k&&(this.#E=setInterval((()=>{(this.options.refetchIntervalInBackground||PL.isFocused())&&this.#T()}),this.#k))}#C(){this.#j(),this.#M(this.#N())}#A(){this.#S&&(clearTimeout(this.#S),this.#S=void 0)}#P(){this.#E&&(clearInterval(this.#E),this.#E=void 0)}createResult(e,t){const n=this.#m,r=this.options,i=this.#g,o=this.#v,a=this.#b,s=e!==n?e.state:this.#y,{state:l}=e;let u,c={...l},h=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&qL(e,t),a=i&&HL(e,n,t,r);(o||a)&&(c={...c,...zL(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=c;if(t.select&&void 0!==c.data)if(i&&c.data===o?.data&&t.select===this.#w)u=this.#x;else try{this.#w=t.select,u=t.select(c.data),u=kL(i?.data,u,t),this.#x=u,this.#f=null}catch(x){this.#f=x}else u=c.data;if(void 0!==t.placeholderData&&void 0===u&&"pending"===p){let e;if(i?.isPlaceholderData&&t.placeholderData===a?.placeholderData)e=i.data;else if(e="function"===typeof t.placeholderData?t.placeholderData(this.#_?.state.data,this.#_):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#f=null}catch(x){this.#f=x}void 0!==e&&(p="success",u=kL(i?.data,e,t),h=!0)}this.#f&&(d=this.#f,u=this.#x,f=Date.now(),p="error");const m="fetching"===c.fetchStatus,y="pending"===p,g="error"===p,v=y&&m,b=void 0!==u,w={status:p,fetchStatus:c.fetchStatus,isPending:y,isSuccess:"success"===p,isError:g,isInitialLoading:v,isLoading:v,data:u,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>s.dataUpdateCount||c.errorUpdateCount>s.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:g&&!b,isPaused:"paused"===c.fetchStatus,isPlaceholderData:h,isRefetchError:g&&b,isStale:WL(e,t),refetch:this.refetch,promise:this.#p};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},r=()=>{const e=this.#p=w.promise=NL();t(e)},i=this.#p;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":"error"!==w.status&&w.data===i.value||r();break;case"rejected":"error"===w.status&&w.error===i.reason||r()}}return w}updateResult(e){const t=this.#g,n=this.createResult(this.#m,this.options);if(this.#v=this.#m.state,this.#b=this.options,void 0!==this.#v.data&&(this.#_=this.#m),xL(n,t))return;this.#g=n;const r={};!1!==e?.listeners&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"===typeof e?e():e;if("all"===n||!n&&!this.#O.size)return!0;const r=new Set(n??this.#O);return this.options.throwOnError&&r.add("error"),Object.keys(this.#g).some((e=>{const n=e;return this.#g[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.#D({...r,...e})}#I(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#m)return;const t=this.#m;this.#m=e,this.#y=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#C()}#D(e){IL.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#g)})),this.#l.getQueryCache().notify({query:this.#m,type:"observerResultsUpdated"})}))}};function qL(e,t){return function(e,t){return!1!==pL(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&$L(e,t,t.refetchOnMount)}function $L(e,t,n){if(!1!==pL(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&WL(e,t)}return!1}function HL(e,t,n,r){return(e!==t||!1===pL(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&WL(e,n)}function WL(e,t){return!1!==pL(t.enabled,e)&&e.isStaleByTime(fL(t.staleTime,e))}var KL=i.createContext(void 0),GL=e=>{const t=i.useContext(KL);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},QL=e=>{let{client:t,children:n}=e;return i.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,By.jsx)(KL.Provider,{value:t,children:n})};function YL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var XL=i.createContext(YL());function JL(e,t){return"function"===typeof e?e(...t):!!e}function ZL(){}var eF=i.createContext(!1),tF=(eF.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function nF(e,t,n){const r=GL(n),o=i.useContext(eF),a=i.useContext(XL),s=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=o?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(s),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(s,a),(e=>{i.useEffect((()=>{e.clearReset()}),[e])})(a);const l=!r.getQueryCache().get(s.queryHash),[u]=i.useState((()=>new t(r,s))),c=u.getOptimisticResult(s),h=!o&&!1!==e.subscribed;if(i.useSyncExternalStore(i.useCallback((e=>{const t=h?u.subscribe(IL.batchCalls(e)):ZL;return u.updateResult(),t}),[u,h]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),i.useEffect((()=>{u.setOptions(s,{listeners:!1})}),[s,u]),((e,t)=>e?.suspense&&t.isPending)(s,c))throw tF(s,u,a);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i,suspense:o}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&(o&&void 0===t.data||JL(r,[t.error,i]))})({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!uL&&((e,t)=>e.isLoading&&e.isFetching&&!t)(c,o)){const e=l?tF(s,u,a):r.getQueryCache().get(s.queryHash)?.promise;e?.catch(ZL).finally((()=>{u.updateResult()}))}return s.notifyOnChangeProps?c:u.trackResult(c)}function rF(e,t){return nF(e,VL,t)}const iF="15c2214f96dce861aad36f61478cec5f",oF="https://api.openweathermap.org",aF=`https://api.allorigins.win/raw?url=${encodeURIComponent("https://api.upbit.com")}`,sF={method:"GET",headers:{accept:"application/json"}},lF=xe("ChartArea",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]),uF=e=>{let{title:t,market:n,isOpen:r,toggleMarket:i,marketData:o,filterMarkets:a,selectedMarket:s,handleMarketClick:l}=e;const{isDarkMode:u}=Uy();return(0,By.jsxs)("div",{className:"  overflow-y-hidden",children:[(0,By.jsxs)("button",{onClick:()=>i(n),className:"w-full rounded-lg p-4 flex justify-between items-center \n          "+(u?r?"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 bg-opacity-50 text-white border-2 border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] 2z":"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 bg-opacity-50 text-white":r?"bg-gradient-to-br from-purple-200 via-purple-200 to-purple-100 bg-opacity-50 text-white border-2 border-purple-500 shadow-[0_0_10px_rgba(147,51,234,0.5)]":"bg-gradient-to-br from-purple-200 via-purple-200 to-purple-100 bg-opacity-50 text-white"),children:[(0,By.jsx)("span",{className:"font-bold "+(u?"text-blue-500":"text-purple-600"),children:t}),(0,By.jsx)("span",{className:`transition-transform duration-200 ${r?"rotate-180":""} ${u?"text-blue-500":"text-purple-600"} `,children:"\u25bc"})]}),r&&(0,By.jsx)("div",{className:`flex-col flex-wrap gap-10 h-[36rem] items-center justify-start overflow-y-auto ${u?"text-black":"text-white"} `,children:a(o,n.toUpperCase()+"-").map((e=>(0,By.jsxs)("div",{onClick:()=>l(e.market),className:`overflow-y-hidden flex flex-col ${u?"hover:shadow-blue-500":"hover:shadow-purple-500"} ${u?"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 bg-opacity-50 text-white":"bg-gradient-to-br from-purple-200 via-purple-200 to-purple-100 bg-opacity-50 text-white"} w-full px-[1.25rem] py-5 my-5  rounded-lg  shadow-md transition-all hover:cursor-pointer ${s===e.market?u?"border-2 border-blue-500 bg-blue-50 text-blue-700 border-gradient-to-r from-black to-blue-900 ":"border-2 border-purple-500 bg-purple-50 text-purple-700 ":""}`,children:[(0,By.jsx)("p",{className:"font-bold "+(s===e.market?u?"text-blue-600":"text-purple-600":""),children:e.market}),(0,By.jsx)("p",{className:"font-bold "+(s===e.market?u?"text-blue-600":"text-purple-600":""),children:e.korean_name}),(0,By.jsx)("p",{className:""+(s===e.market?u?"text-blue-600":"text-purple-600":""),children:e.english_name})]},e.market)))})]})},cF=e=>{let{searchTerm:t,setSearchTerm:n,openMarkets:r,setOpenMarkets:i,marketData:o,selectedMarket:a,handleMarketClick:s,filterMarkets:l}=e;const u=e=>{i((t=>({...t,[e]:!t[e]})))},{isDarkMode:c}=Uy();return(0,By.jsxs)("div",{className:"flex mt-[1.8rem] flex-col gap-4 p-4 md:w-[20rem] w-full "+(c?"text-white":"text-purple-600"),children:[(0,By.jsxs)("h2",{className:"flex items-center justify-center gap-2 text-2xl pb-10 text-center font-bold",children:[(0,By.jsx)(lF,{size:30}),(0,By.jsx)("span",{children:"\uc6d0\ud558\ub294 \ucc28\ud2b8\ub97c \ucc3e\uc544\ubcf4\uc138\uc694!"})]}),(0,By.jsx)("div",{className:(c?"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 bg-opacity-50 text-white":"bg-gradient-to-br from-purple-200 via-purple-200 to-purple-100 bg-opacity-50 text-white")+" relative top-0 z-10 p-2",children:(0,By.jsx)("input",{type:"text",placeholder:"\ub9c8\ucf13 \uac80\uc0c9...",value:t,onChange:e=>n(e.target.value),className:(c?"bg-gradient-to-br from-gray-900 via-gray-800 to-blue-900 bg-opacity-50 text-white border-2 border-blue-900 rounded-md shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-gradient-to-br from-purple-200 via-purple-200 to-purple-100 bg-opacity-50 text-white border-2 rounded-md border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)]")+" w-full p-2 "})}),(0,By.jsx)(uF,{title:"KRW \ub9c8\ucf13",market:"krw",isOpen:r.krw,toggleMarket:u,marketData:o,filterMarkets:l,selectedMarket:a,handleMarketClick:s}),(0,By.jsx)(uF,{title:"BTC \ub9c8\ucf13",market:"btc",isOpen:r.btc,toggleMarket:u,marketData:o,filterMarkets:l,selectedMarket:a,handleMarketClick:s}),(0,By.jsx)(uF,{title:"USDT \ub9c8\ucf13",market:"usdt",isOpen:r.usdt,toggleMarket:u,marketData:o,filterMarkets:l,selectedMarket:a,handleMarketClick:s})]})},hF=e=>{var t,n,r,i,o,a,s,l,u,c,h,d,f,p,m,y,g,v,b;let{candleData:w}=e;const{isDarkMode:x}=Uy();return(0,By.jsx)("div",{className:"border mt-6 rounded-lg shadow overflow-hidden "+(x?" text-white border-gray-900":" text-gray-900 border-gray-200"),children:(0,By.jsxs)("table",{className:"min-w-full",children:[(0,By.jsx)("thead",{className:x?" text-white":"bg text-gray-900-white text-gray-900",children:(0,By.jsxs)("tr",{className:x?" divide-gray-900":" text-gray-900",children:[(0,By.jsx)("th",{className:"px-6 py-3 text-left text-xs font-mediumuppercase tracking-wider",children:"\uad6c\ubd84"}),(0,By.jsx)("th",{className:"px-6 py-3 text-right text-xs font-mediumuppercase tracking-wider",children:"\uac00\uaca9"}),(0,By.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium  uppercase tracking-wider",children:"\ubcc0\ub3d9\ub960"})]})}),(0,By.jsxs)("tbody",{className:`divide-y ${x?"divide-gray-900":"divide-gray-200"} `,children:[(0,By.jsxs)("tr",{children:[(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ",children:"\uc2dc\uac00"}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right ",children:[null===w||void 0===w||null===(t=w[0])||void 0===t||null===(n=t.opening_price)||void 0===n?void 0:n.toLocaleString()," KRW"]}),(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right ",children:"-"})]}),(0,By.jsxs)("tr",{children:[(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ",children:"\uace0\uac00"}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right ",children:[null===w||void 0===w||null===(r=w[0])||void 0===r||null===(i=r.high_price)||void 0===i?void 0:i.toLocaleString()," KRW"]}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600",children:[(((null===w||void 0===w||null===(o=w[0])||void 0===o?void 0:o.high_price)-(null===w||void 0===w||null===(a=w[0])||void 0===a?void 0:a.opening_price))/(null===w||void 0===w||null===(s=w[0])||void 0===s?void 0:s.opening_price)*100).toFixed(2),"%"]})]}),(0,By.jsxs)("tr",{children:[(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ",children:"\uc800\uac00"}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right ",children:[null===w||void 0===w||null===(l=w[0])||void 0===l||null===(u=l.low_price)||void 0===u?void 0:u.toLocaleString()," KRW"]}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600",children:[(((null===w||void 0===w||null===(c=w[0])||void 0===c?void 0:c.low_price)-(null===w||void 0===w||null===(h=w[0])||void 0===h?void 0:h.opening_price))/(null===w||void 0===w||null===(d=w[0])||void 0===d?void 0:d.opening_price)*100).toFixed(2),"%"]})]}),(0,By.jsxs)("tr",{children:[(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ",children:"\uc885\uac00"}),(0,By.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right ",children:[null===w||void 0===w||null===(f=w[0])||void 0===f||null===(p=f.trade_price)||void 0===p?void 0:p.toLocaleString()," KRW"]}),(0,By.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:(0,By.jsxs)("span",{className:(null===w||void 0===w||null===(m=w[0])||void 0===m?void 0:m.trade_price)>(null===w||void 0===w||null===(y=w[0])||void 0===y?void 0:y.opening_price)?"text-green-600":"text-red-600",children:[(((null===w||void 0===w||null===(g=w[0])||void 0===g?void 0:g.trade_price)-(null===w||void 0===w||null===(v=w[0])||void 0===v?void 0:v.opening_price))/(null===w||void 0===w||null===(b=w[0])||void 0===b?void 0:b.opening_price)*100).toFixed(2),"%"]})})]})]})]})})};function dF(){const[e,t]=(0,i.useState)({krw:!1,btc:!1,usdt:!1,eth:!1}),[n,r]=(0,i.useState)("line"),[o,a]=(0,i.useState)("1Y"),[s,l]=(0,i.useState)(null),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)({trade:!0,opening:!0,high:!0,low:!0}),{data:f,error:p,isLoading:m}=rF({queryKey:["upbitMarkets"],queryFn:()=>async function(){const e=`${aF}/v1/market/all?isDetails=${!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}`;try{console.log("Requesting URL:",e);const t=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Response:",{status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}),!t.ok){const e=await t.text();throw console.error("Error response:",e),new Error(`HTTP Error: ${t.status}`)}const n=await t.json();return console.log("Success response:",n),n||[]}catch(ig){return console.error("Fetch error:",ig),[{market:"KRW-BTC",korean_name:"\ube44\ud2b8\ucf54\uc778",english_name:"Bitcoin"},{market:"KRW-ETH",korean_name:"\uc774\ub354\ub9ac\uc6c0",english_name:"Ethereum"}]}}()}),{data:y,isLoading:g}=rF({queryKey:["upbitCandles",s,o],queryFn:async()=>{if(!s)return null;const e=((e,t)=>{const n=aF;switch(t){case"1D":default:return`${n}/v1/candles/minutes/60?market=${e}&count=24`;case"1W":return`${n}/v1/candles/days?market=${e}&count=7`;case"1M":return`${n}/v1/candles/days?market=${e}&count=30`;case"6M":return`${n}/v1/candles/days?market=${e}&count=180`;case"1Y":return`${n}/v1/candles/days?market=${e}&count=365`}})(s,o),t=await fetch(e);return(await t.json()).sort(((e,t)=>new Date(e.candle_date_time_utc).getTime()-new Date(t.candle_date_time_utc).getTime()))},enabled:!!s}),v=(e,t)=>"1D"===t?e.slice(11,16):e.slice(0,10),b=e=>{d((t=>({...t,[e]:!t[e]})))};return m?(0,By.jsx)("div",{children:"Loading..."}):p?(0,By.jsxs)("div",{children:["Error: ",p.message]}):(0,By.jsx)(pg,{children:(0,By.jsx)(ug,{children:(0,By.jsxs)("div",{className:"flex  ",children:[(0,By.jsx)(cF,{searchTerm:u,setSearchTerm:c,openMarkets:e,setOpenMarkets:t,marketData:f,selectedMarket:s,handleMarketClick:e=>{l(e)},filterMarkets:(e,t)=>e?e.filter((e=>e.market.startsWith(t))).filter((e=>e.market.toLowerCase().includes(u.toLowerCase())||e.korean_name.toLowerCase().includes(u.toLowerCase())||e.english_name.toLowerCase().includes(u.toLowerCase()))):[]}),s&&(0,By.jsxs)("div",{className:"flex-1  p-4",children:[(0,By.jsx)("h2",{className:"mt-[2rem] text-xl font-bold",children:s}),(0,By.jsxs)("div",{className:"flex md:flex-row flex-col w-full gap-4 md:items-center justify-between items-start mb-10 mt-[3rem]",children:[(0,By.jsxs)("div",{className:"flex gap-4 pr-3",children:[(0,By.jsx)(sL,{onClick:()=>a("1D"),active:"1D"===o,children:"1\uc77c"}),(0,By.jsx)(sL,{onClick:()=>a("1W"),active:"1W"===o,children:"1\uc8fc"}),(0,By.jsx)(sL,{onClick:()=>a("1M"),active:"1M"===o,children:"1\uac1c\uc6d4"}),(0,By.jsx)(sL,{onClick:()=>a("6M"),active:"6M"===o,children:"6\uac1c\uc6d4"}),(0,By.jsx)(sL,{onClick:()=>a("1Y"),active:"1Y"===o,children:"1\ub144"})]}),(0,By.jsxs)("div",{className:"flex gap-2",children:[(0,By.jsx)(sL,{onClick:()=>r("line"),active:"line"===n,children:"\ub77c\uc778"}),(0,By.jsx)(sL,{onClick:()=>r("bar"),active:"bar"===n,children:"\ubc14"}),(0,By.jsx)(sL,{onClick:()=>r("area"),active:"area"===n,children:"\uc601\uc5ed"})]})]}),(0,By.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,By.jsx)(sL,{onClick:()=>b("trade"),active:h.trade,children:"\uc885\uac00"}),(0,By.jsx)(sL,{onClick:()=>b("opening"),active:h.opening,children:"\uc2dc\uac00"}),(0,By.jsx)(sL,{onClick:()=>b("high"),active:h.high,children:"\uace0\uac00"}),(0,By.jsx)(sL,{onClick:()=>b("low"),active:h.low,children:"\uc800\uac00"})]}),g?(0,By.jsx)("div",{children:"\ub85c\ub529\uc911..."}):(0,By.jsxs)(By.Fragment,{children:[(0,By.jsx)("div",{className:"h-[400px]",children:(0,By.jsx)(kv,{width:"100%",height:"100%",children:"line"===n?(0,By.jsxs)(ER,{data:y,children:[(0,By.jsx)(VR,{strokeDasharray:"3 3"}),(0,By.jsx)(dR,{dataKey:"1D"===o?"candle_date_time_kst":"candle_date_time_utc",tickFormatter:e=>v(e,o)}),(0,By.jsx)(SR,{domain:["auto","auto"]}),(0,By.jsx)(Tb,{labelFormatter:e=>v(e,o)}),(0,By.jsx)(zw,{}),h.trade&&(0,By.jsx)(ID,{type:"monotone",dataKey:"trade_price",stroke:"#8884d8",name:"\uc885\uac00"}),h.opening&&(0,By.jsx)(ID,{type:"monotone",dataKey:"opening_price",stroke:"#82ca9d",name:"\uc2dc\uac00"}),h.high&&(0,By.jsx)(ID,{type:"monotone",dataKey:"high_price",stroke:"#ff7300",name:"\uace0\uac00"}),h.low&&(0,By.jsx)(ID,{type:"monotone",dataKey:"low_price",stroke:"#ff0000",name:"\uc800\uac00"})]}):"bar"===n?(0,By.jsxs)($R,{data:y,children:[(0,By.jsx)(VR,{strokeDasharray:"3 3"}),(0,By.jsx)(dR,{dataKey:"1D"===o?"candle_date_time_kst":"candle_date_time_utc",tickFormatter:e=>v(e,o)}),(0,By.jsx)(SR,{domain:["auto","auto"]}),(0,By.jsx)(Tb,{labelFormatter:e=>v(e,o)}),(0,By.jsx)(zw,{}),h.trade&&(0,By.jsx)(yj,{dataKey:"trade_price",fill:"#8884d8",name:"\uc885\uac00"}),h.opening&&(0,By.jsx)(yj,{dataKey:"opening_price",fill:"#82ca9d",name:"\uc2dc\uac00"}),h.high&&(0,By.jsx)(yj,{dataKey:"high_price",fill:"#ff7300",name:"\uace0\uac00"}),h.low&&(0,By.jsx)(yj,{dataKey:"low_price",fill:"#ff0000",name:"\uc800\uac00"})]}):(0,By.jsxs)(aL,{data:y,children:[(0,By.jsx)(VR,{strokeDasharray:"3 3"}),(0,By.jsx)(dR,{dataKey:"1D"===o?"candle_date_time_kst":"candle_date_time_utc",tickFormatter:e=>v(e,o)}),(0,By.jsx)(SR,{domain:["auto","auto"]}),(0,By.jsx)(Tb,{labelFormatter:e=>v(e,o)}),(0,By.jsx)(zw,{}),h.trade&&(0,By.jsx)(oL,{type:"monotone",dataKey:"trade_price",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3,name:"\uc885\uac00"}),h.opening&&(0,By.jsx)(oL,{type:"monotone",dataKey:"opening_price",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.3,name:"\uc2dc\uac00"}),h.high&&(0,By.jsx)(oL,{type:"monotone",dataKey:"high_price",stroke:"#ff7300",fill:"#ff7300",fillOpacity:.3,name:"\uace0\uac00"}),h.low&&(0,By.jsx)(oL,{type:"monotone",dataKey:"low_price",stroke:"#ff0000",fill:"#ff0000",fillOpacity:.3,name:"\uc800\uac00"})]})})}),(0,By.jsx)(hF,{candleData:y})]})]})]})})})}const fF=e=>{let{children:t,isHandleSubmit:n}=e;return(0,By.jsx)("form",{onSubmit:n,className:"space-y-4",children:t})},pF={"auth/cancelled-popup-request":"\ud31d\uc5c5\uc774 \uc5f4\ub824\uc788\uc2b5\ub2c8\ub2e4. \ud31d\uc5c5\uc744 \ub2eb\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694","auth/popup-closed-by-user":"\uc778\uc99d\uc644\ub8cc\uac00 \ub418\uae30\uc804\uc5d0 \ud31d\uc5c5\uc774 \ub2eb\ud614\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc778\uc99d\ud574\uc8fc\uc138\uc694","auth/popup-blocked":"\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud31d\uc5c5 \ucc28\ub2e8 \uae30\ub2a5\uc744 \ud574\uc81c\ud574\uc8fc\uc138\uc694","auth/invalid-email":"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4.","auth/user-disabled":"\uc774 \uc0ac\uc6a9\uc790 \uacc4\uc815\uc740 \ube44\ud65c\uc131\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","auth/user-not-found":"\ud574\ub2f9 \uc774\uba54\uc77c\ub85c \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","auth/wrong-password":"\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.",default:"\ub85c\uadf8\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."},mF=e=>pF[e]||pF.default,yF=()=>{const e=Z(),[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)({email:"",password:""}),l=()=>{setTimeout((()=>{n(!1)}),2e3)},u=e=>{const{name:t,value:n}=e.currentTarget;s((e=>({...e,[t]:n})))};return(0,By.jsx)(ug,{children:(0,By.jsx)("div",{className:"min-h-screen  p-8 flex items-center justify-center ",children:(0,By.jsxs)(cg,{children:[(0,By.jsx)("div",{className:"absolute inset-0 opacity-20 "}),(0,By.jsxs)(rg,{children:[(0,By.jsxs)(fF,{isHandleSubmit:async t=>{t.preventDefault(),t||(n(!0),o("\uc785\ub825\uac12\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),l();try{await Up(Ly,Gp);const{user:t}=await Rp(Ly,a.email,a.password);e("/profile")}catch(ig){n(!0),"object"===typeof ig&&null!==ig&&"code"in ig&&"string"===typeof ig.code&&"message"in ig&&"string"===typeof ig.message&&o(mF(ig)),l(),console.log("is sign in error:",ig)}},children:[(0,By.jsx)(ng,{value:a.email,label:"email",isHandleChange:u,htmlFor:"email",type:"email",id:"email",placeholder:"your email",name:"email",required:!0}),(0,By.jsx)(ng,{value:a.password,label:"password",isHandleChange:u,htmlFor:"password",type:"password",id:"password",placeholder:"your password",name:"password",required:!0}),(0,By.jsx)("div",{className:"pt-1"}),(0,By.jsx)(Zy,{children:"\ub85c\uadf8\uc778"}),(0,By.jsx)(Zy,{onClick:async()=>{n(!0);const t=new _p;try{await Up(Ly,Gp);const n=await _m(Ly,t);var r;if(Ly.currentUser&&!Ly.currentUser.displayName)await Fp(Ly.currentUser,{displayName:n.user.displayName||(null===(r=n.user.email)||void 0===r?void 0:r.split("@")[0])});e("/")}catch(ig){"object"===typeof ig&&null!==ig&&"code"in ig&&"string"===typeof ig.code&&"message"in ig&&"string"===typeof ig.message&&o(mF(ig)),l()}},children:"\uad6c\uae00\uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778\ud558\uae30"})]}),(0,By.jsx)("div",{className:"pt-5"}),(0,By.jsx)("div",{onClick:()=>e("/membership"),className:"pt-6 cursor-pointer hover:underline",children:"\ud68c\uc6d0\uac00\uc785 \ud558\ub7ec\uac00\uae30"})]})]})})})},gF=xe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),vF=()=>(0,By.jsx)("div",{className:"w-full h-[4rem] bg-gray-600 animate-pulse rounded "}),bF={201:"\uac00\ubcbc\uc6b4 \ube44\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",200:"\ube44\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",202:"\ud3ed\uc6b0\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",210:"\uc57d\ud55c \ucc9c\ub465\uad6c\ub984",211:"\ucc9c\ub465\uad6c\ub984",212:"\uac15\ud55c \ucc9c\ub465\uad6c\ub984",221:"\ubd88\uaddc\uce59\uc801 \ucc9c\ub465\uad6c\ub984",230:"\uc57d\ud55c \uc5f0\ubb34\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",231:"\uc5f0\ubb34\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",232:"\uac15\ud55c \uc548\uac1c\ube44\ub97c \ub3d9\ubc18\ud55c \ucc9c\ub465\uad6c\ub984",300:"\uac00\ubcbc\uc6b4 \uc548\uac1c\ube44",301:"\uc548\uac1c\ube44",302:"\uac15\ud55c \uc548\uac1c\ube44",310:"\uac00\ubcbc\uc6b4 \uc801\uc740\ube44",311:"\uc801\uc740\ube44",312:"\uac15\ud55c \uc801\uc740\ube44",313:"\uc18c\ub098\uae30\uc640 \uc548\uac1c\ube44",314:"\uac15\ud55c \uc18c\ub098\uae30\uc640 \uc548\uac1c\ube44",321:"\uc18c\ub098\uae30",500:"\uc545\ud55c \ube44",501:"\uc911\uac04 \ube44",502:"\uac15\ud55c \ube44",503:"\ub9e4\uc6b0 \uac15\ud55c \ube44",504:"\uadf9\uc2ec\ud55c \ube44",511:"\uc6b0\ubc15",520:"\uc57d\ud55c \uc18c\ub098\uae30 \ube44",521:"\uc18c\ub098\uae30 \ube44",522:"\uac15\ud55c \uc18c\ub098\uae30 \ube44",531:"\ubd88\uaddc\uce59\uc801 \uc18c\ub098\uae30 \ube44",600:"\uac00\ubcbc\uc6b4 \ub208",601:"\ub208",602:"\uac15\ud55c \ub208",611:"\uc9c4\ub208\uae68\ube44",612:"\uc18c\ub098\uae30 \uc9c4\ub208\uae68\ube44",615:"\uc57d\ud55c \ube44\uc640 \ub208",616:"\ube44\uc640 \ub208",620:"\uc57d\ud55c \uc18c\ub098\uae30 \ub208",621:"\uc18c\ub098\uae30 \ub208",622:"\uac15\ud55c \uc18c\ub098\uae30 \ub208",701:"\ubc15\ubb34",711:"\uc5f0\uae30",721:"\uc5f0\ubb34",731:"\ubaa8\ub798 \uba3c\uc9c0",741:"\uc548\uac1c",751:"\ubaa8\ub798",761:"\uba3c\uc9c0",762:"\ud654\uc0b0\uc7ac",771:"\ub3cc\ud48d",781:"\ud1a0\ub124\uc774\ub3c4",800:"\uad6c\ub984 \ud55c \uc810 \uc5c6\ub294 \ub9d1\uc740 \ud558\ub298",801:"\uc57d\uac04\uc758 \uad6c\ub984\uc774 \ub080 \ud558\ub298",802:"\ub4dc\ubb38\ub4dc\ubb38 \uad6c\ub984\uc774 \ub080 \ud558\ub298",803:"\uad6c\ub984\uc774 \uac70\uc758 \uc5c6\ub294 \ud558\ub298",804:"\uad6c\ub984\uc73c\ub85c \ub4a4\ub36e\uc778 \ud750\ub9b0 \ud558\ub298",900:"\ud1a0\ub124\uc774\ub3c4",901:"\ud0dc\ud48d",902:"\ud5c8\ub9ac\ucf00\uc778",903:"\ud55c\ub7ad",904:"\uace0\uc628",905:"\ubc14\ub78c\ubd80\ub294",906:"\uc6b0\ubc15",951:"\ubc14\ub78c\uc774 \uac70\uc758 \uc5c6\ub294",952:"\uc57d\ud55c \ubc14\ub78c",953:"\ubd80\ub4dc\ub7ec\uc6b4 \ubc14\ub78c",954:"\uc911\uac04 \uc138\uae30 \ubc14\ub78c",955:"\uc2e0\uc120\ud55c \ubc14\ub78c",956:"\uc13c \ubc14\ub78c",957:"\ub3cc\ud48d\uc5d0 \uac00\uae4c\uc6b4 \uc13c \ubc14\ub78c",958:"\ub3cc\ud48d",959:"\uc2ec\uac01\ud55c \ub3cc\ud48d",960:"\ud3ed\ud48d",961:"\uac15\ud55c \ud3ed\ud48d",962:"\ud5c8\ub9ac\ucf00\uc778"},wF=()=>{var e,t,n,r,o;const[a,s]=(0,i.useState)(),[l,u]=(0,i.useState)(),{isDarkMode:c}=Uy(),{data:h,isLoading:d}=rF({queryKey:["weatherData",a,l],queryFn:()=>async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sF;try{const r=await fetch(`${oF}/data/2.5/weather?lat=${e}&lon=${t}&appid=${iF}&units=metric`,n);return await r.json()}catch(ig){throw console.error("Failed to fetch weather data:",ig),ig}}(a,l),enabled:void 0!==a&&void 0!==l}),{data:f}=rF({queryKey:["weatherDetail",a,l],queryFn:()=>async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sF;try{const r=await fetch(`${oF}/data/2.5/weather?lat=${e}&lon=${t}&appid=${iF}&units=metric`,n);return await r.json()}catch(ig){throw console.error("Failed to fetch weather data:",ig),ig}}(a,l),enabled:void 0!==a&&void 0!==l});(0,i.useEffect)((()=>{navigator.geolocation.getCurrentPosition((e=>{s(e.coords.latitude),u(e.coords.longitude)}))}),[]);const p=null===h||void 0===h||null===(e=h.weather)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.icon;return(0,By.jsx)(By.Fragment,{children:d?(0,By.jsx)(vF,{}):(0,By.jsxs)("div",{className:`mb-6 ${c?"bg-blue-900 bg-opacity-30":"bg-purple-400 bg-opacity-60 text-white"} rounded-lg p-4 flex items-center justify-between h-[4rem]`,children:[(0,By.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,By.jsx)(gF,{className:"h-8 w-8 mr-2  "+(c?"text-blue-300":"text-white")}),(0,By.jsx)("img",{src:(()=>{if(p)return(e=>{let{iconData:t}=e;return`http://openweathermap.org/img/wn/${t}@2x.png`})({iconData:p})})(),alt:"\ub0a0\uc528 \uc544\uc774\ucf58"}),(0,By.jsx)("span",{className:"text-lg font-semibold",children:null===h||void 0===h?void 0:h.name}),null===h||void 0===h||null===(n=h.weather)||void 0===n?void 0:n.map(((e,t)=>(0,By.jsx)("span",{className:"text-lg font-semibold",children:bF[e.id]},t)))]}),(0,By.jsxs)("div",{className:"text-sm",children:["\uc2b5\ub3c4: ",null===f||void 0===f||null===(r=f.main)||void 0===r?void 0:r.humidity,"% | \uccb4\uac10\uc628\ub3c4:"," ",null===f||void 0===f||null===(o=f.main)||void 0===o?void 0:o.feel_like,"\xb0C"]})]})})},xF={apiKey:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",authDomain:{NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"/rainyday",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_KEY:"15c2214f96dce861aad36f61478cec5f",REACT_APP_FIREBASE_API_KEY:"AIzaSyAkJuqvbgqBaWXQEzLoBYk0ourhP7kxyFY",REACT_APP_AUTH_DOMAIN_KEY:"rainyday-app-location.firebaseapp.com",REACT_APP_PROJECT_ID_KEY:"rainyday-app-location",REACT_APP_MESSAGE_SENDER_ID_KEY:"249772301176",REACT_APP_APP_ID_KEY:"1:249772301176:web:442616a7f30bb50357c68d",REACT_APP_MEASUREMENT_ID_KEY:"G-6PP5MY25FG",REACT_APP_STORAGE_BUCKET_KEY:"rainyday-app-location.firebasestorage.app",REACT_APP_BASE_API_URL_KEY:"https://api.upbit.com"}.REACT_APP_FIREBASE_APP_ID},_F=Array.from(dn.values()).length?Sn():_n(xF),SF=Eh(_F),EF=ay(_F),kF=e=>{let{userId:t,collectionData:n}=e;const[r,o]=(0,i.useState)(null),a=(0,i.useRef)(null),s=e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)})),l=async e=>{try{const r=await s(e);if(t&&"string"===typeof r){const e=await Od(vh(Ry,n),{image:r,createTime:(new Date).toISOString()});return await Ed(bh(Ry,"users",t),{[`${n}Id`]:e.id},{merge:!0}),e.id}}catch(ig){throw new Error(null===ig||void 0===ig?void 0:ig.toString())}},u=async e=>{if(t)try{if(e){const t=await xd(bh(Ry,n,e));if(t.exists())return t.data().image}else{var r;const e=await xd(bh(Ry,"users",t)),i=`${n}Id`;if(e.exists()&&null!==(r=e.data())&&void 0!==r&&r[i]){const t=await xd(bh(Ry,n,e.data()[i]));if(t.exists()){const e=t.data().image;return o({imageFile:e}),e}}}}catch(ig){throw console.error("Error fetching image:",ig),new Error(null===ig||void 0===ig?void 0:ig.toString())}};(0,i.useEffect)((()=>{t&&u()}),[t]);return{isFetchImageFile:u,isSaveImageFireBase:l,isHandleEditClick:()=>{var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.click()},isHandleImageChange:async e=>{var n,r;const i=null===(n=e.currentTarget)||void 0===n||null===(r=n.files)||void 0===r?void 0:r[0];try{if(t&&i){const e=await s(i);"string"===typeof e&&(await l(i),o({imageFile:e}))}}catch(ig){throw new Error(null===ig||void 0===ig?void 0:ig.toString())}},isUserImage:r,setIsUserImage:o,isFileInputRef:a}},OF=[{id:1,username:"rainlover",avatar:"/placeholder.svg?height=60&width=60",outfit:"Yellow raincoat"},{id:2,username:"puddlejumper",avatar:"/placeholder.svg?height=60&width=60",outfit:"Blue wellies"},{id:3,username:"stormchaser",avatar:"/placeholder.svg?height=60&width=60",outfit:"Waterproof jacket"},{id:4,username:"cozycafe",avatar:"/placeholder.svg?height=60&width=60",outfit:"Warm sweater"}],TF=[{id:1,username:"rainlover",avatar:"/placeholder.svg?height=40&width=40",content:"Loving my new yellow raincoat! Perfect for this weather. #RainyDayStyle",image:"/placeholder.svg?height=400&width=400",outfit:"Yellow raincoat",likes:120,comments:15,shares:5},{id:2,username:"puddlejumper",avatar:"/placeholder.svg?height=40&width=40",content:"These blue wellies are not just fashionable, but also practical! #RainyDayFashion",outfit:"Blue wellies",likes:45,comments:8,shares:2}],CF=()=>(0,By.jsx)(By.Fragment,{children:OF.map(((e,t)=>(0,By.jsxs)("div",{className:"flex gap-2 flex-col items-center",children:[(0,By.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-600 animate-pulse"}),(0,By.jsx)("div",{className:"w-14 h-3 mt-2 bg-gray-600 animate-pulse rounded"})]},t)))}),AF=e=>{let{userId:t,username:n,size:r="large"}=e;const{isUserImage:i}=kF({userId:t,collectionData:"profileImages"}),{data:o}=rF({queryKey:["user",t],queryFn:async()=>{const e=await xd(bh(SF,"users",t));return e.exists()?e.data():null}}),a=`${{small:"w-8 h-8",large:"w-16 h-16"}[r]} object-cover rounded-full border-2 border-gray-800`;return null!==i&&void 0!==i&&i.imageFile?(0,By.jsx)("img",{src:i.imageFile,alt:n,className:a}):null!==o&&void 0!==o&&o.photoURL?(0,By.jsx)("img",{src:o.photoURL,alt:n,className:a}):(0,By.jsx)("div",{className:`${a} bg-white flex items-center justify-center`,children:(0,By.jsx)(ke,{className:"small"===r?"h-5 w-5":"h-8 w-8"})})},PF=e=>{let{isLoading:t}=e;const n=Z(),{data:r=[]}=rF({queryKey:["users"],queryFn:async()=>{try{const e=(await Sd(vh(SF,"users"))).docs.map((e=>{const t=e.data();return{id:e.id,displayName:t.displayName,email:t.email}}));return e}catch(ig){return console.error("Error fetching users:",ig),[]}},enabled:t,staleTime:3e4});return(0,By.jsx)("div",{className:"mb-10 md:mb-8 overflow-x-auto",children:(0,By.jsx)("div",{className:"flex space-x-4 gap-[1rem]",children:t?(0,By.jsx)("div",{className:"flex space-x-4",children:r.map((e=>(0,By.jsxs)("div",{className:"flex flex-col items-center group cursor-pointer",onClick:()=>{return t=e.id,void n(`/mypage?userId=${t}`);var t},role:"button","aria-label":`View ${e.displayName||"Anonymous"}'s profile`,children:[(0,By.jsx)("div",{className:"w-16 h-16 rounded-full p-0.5 transition-transform transform group-hover:scale-105",children:(0,By.jsx)(AF,{userId:e.id,username:(null===e||void 0===e?void 0:e.displayName)||"Anonymous",size:"large"})}),(0,By.jsx)("span",{className:"text-xs mt-1 group-hover:text-blue-400 transition-colors",children:(null===e||void 0===e?void 0:e.displayName)||"Anonymous"})]},e.id)))}):(0,By.jsx)(CF,{})})})},IF=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),jF=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),NF=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),MF=xe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var DF=class extends UL{#R;#L;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#L=e.mutationCache,this.#R=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#R.includes(e)||(this.#R.push(e),this.clearGcTimeout(),this.#L.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#R=this.#R.filter((t=>t!==e)),this.scheduleGc(),this.#L.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#R.length||("pending"===this.state.status?this.scheduleGc():this.#L.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){this.#u=FL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#L.canRun(this)});const t="pending"===this.state.status,n=!this.#u.canStart();try{if(!t){this.#d({type:"pending",variables:e,isPaused:n}),await(this.#L.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#u.start();return await(this.#L.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#L.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#d({type:"success",data:r}),r}catch(ig){try{throw await(this.#L.config.onError?.(ig,e,this.state.context,this)),await(this.options.onError?.(ig,e,this.state.context)),await(this.#L.config.onSettled?.(void 0,ig,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,ig,e,this.state.context)),ig}finally{this.#d({type:"error",error:ig})}}finally{this.#L.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),IL.batch((()=>{this.#R.forEach((t=>{t.onMutationUpdate(e)})),this.#L.notify({mutation:this,type:"updated",action:e})}))}};var RF=class extends lL{#l;#g=void 0;#F;#U;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#B()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),xL(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#F,observer:this}),t?.mutationKey&&this.options.mutationKey&&vL(t.mutationKey)!==vL(this.options.mutationKey)?this.reset():"pending"===this.#F?.state.status&&this.#F.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#F?.removeObserver(this)}onMutationUpdate(e){this.#B(),this.#D(e)}getCurrentResult(){return this.#g}reset(){this.#F?.removeObserver(this),this.#F=void 0,this.#B(),this.#D()}mutate(e,t){return this.#U=t,this.#F?.removeObserver(this),this.#F=this.#l.getMutationCache().build(this.#l,this.options),this.#F.addObserver(this),this.#F.execute(e)}#B(){const e=this.#F?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#g={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#D(e){IL.batch((()=>{if(this.#U&&this.hasListeners()){const t=this.#g.variables,n=this.#g.context;"success"===e?.type?(this.#U.onSuccess?.(e.data,t,n),this.#U.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#U.onError?.(e.error,t,n),this.#U.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#g)}))}))}};function LF(e,t){const n=GL(t),[r]=i.useState((()=>new RF(n,e)));i.useEffect((()=>{r.setOptions(e)}),[r,e]);const o=i.useSyncExternalStore(i.useCallback((e=>r.subscribe(IL.batchCalls(e))),[r]),(()=>r.getCurrentResult()),(()=>r.getCurrentResult())),a=i.useCallback(((e,t)=>{r.mutate(e,t).catch(ZL)}),[r]);if(o.error&&JL(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const FF=()=>{const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=Bp(Ly,(async e=>{if(e){const t=bh(Ry,"users",e.uid);await Ed(t,{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},{merge:!0})}t(e)}));return()=>e()}),[]),{user:e,setUser:t}},UF=()=>{const{user:e}=FF(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(null),l=GL(),[u,c]=(0,i.useState)(""),{data:h=[],isLoading:d}=rF({queryKey:["posts"],queryFn:async()=>{const e=ad(vh(Ry,"posts"),cd("createdAt","desc"));return(await Sd(e)).docs.map((e=>({id:e.id,...e.data()})))},enabled:!!e}),{data:f={}}=rF({queryKey:["likes",null===e||void 0===e?void 0:e.uid],queryFn:async()=>{if(!e)return{};const t=await xd(bh(Ry,"userLikes",e.uid));return t.exists()?t.data():{}},enabled:!!e}),{data:p={}}=rF({queryKey:["bookmarks",null===e||void 0===e?void 0:e.uid],queryFn:async()=>{if(!e)return{};const t=await xd(bh(Ry,"userBookmarks",e.uid));return t.exists()?t.data():{}},enabled:!!e}),{data:m={}}=rF({queryKey:["comments"],queryFn:async()=>{const e={};return(await Sd(vh(Ry,"comments"))).docs.forEach((t=>{const n={id:t.id,...t.data()};e[n.postId]||(e[n.postId]=[]),e[n.postId].push(n)})),e},enabled:!!e}),{mutateAsync:y}=LF({mutationFn:async()=>{if(!e||!t||!r)throw new Error("Missing data");let n="";var i;a&&(n=await(i=a,new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=e=>t(e),n.readAsDataURL(i)}))));const o={title:t.trim(),content:r.trim(),authorId:e.uid,authorName:e.displayName||"Anonymous",postImage:n,createdAt:Pd(),likes:0,comments:0,shares:0};return(await Od(vh(Ry,"posts"),o)).id},onSuccess:()=>{l.invalidateQueries({queryKey:["posts"]}),n(""),o(""),s(null)}}),g=LF({mutationFn:async t=>{let{postId:n}=t;if(!e)throw new Error("User not logged in");const r=bh(Ry,"posts",n),i=bh(Ry,"userLikes",e.uid),o=!f[n];await Ed(i,{...f,[n]:o},{merge:!0});const a=h.find((e=>e.id===n));if(!a)throw new Error("Post not found");return await kd(r,{likes:o?(a.likes||0)+1:(a.likes||0)-1}),{postId:n,liked:o}},onSuccess:()=>{l.invalidateQueries({queryKey:["posts"]}),l.invalidateQueries({queryKey:["likes"]})}}),v=LF({mutationFn:async t=>{if(!e)throw new Error("User not logged in");var n;await(n=bh(Ry,"posts",t),Cd(ch(n.firestore,Sh),[new ts(n._key,Va.none())]))},onSuccess:()=>{l.invalidateQueries({queryKey:["posts"]})}}),b=LF({mutationFn:async t=>{let{postId:n}=t;if(!e)throw new Error("User not logged in");const r=bh(Ry,"userBookmarks",e.uid),i=!p[n];return await Ed(r,{...p,[n]:i},{merge:!0}),{postId:n,bookmarked:i}},onSuccess:()=>{l.invalidateQueries({queryKey:["bookmarks"]})}}),w=LF({mutationFn:async t=>{let{postId:n,content:r}=t;if(!e||!r.trim())throw new Error("Missing data");const i={postId:n,authorId:e.uid,authorName:e.displayName||"Anonymous",content:r.trim(),createdAt:Pd()},o=await Od(vh(Ry,"comments"),i),a=bh(Ry,"posts",n),s=h.find((e=>e.id===n));return s&&await kd(a,{comments:(s.comments||0)+1}),o.id},onSuccess:()=>{l.invalidateQueries({queryKey:["comments"]}),l.invalidateQueries({queryKey:["posts"]}),c("")}});return{user:e,title:t,setTitle:n,content:r,setContent:o,posts:h,imageFile:a,setImageFile:s,savePost:y,likeStatuses:f,toggleLike:g,isPending:g.isPending,deletePost:v,bookmarkStatuses:p,toggleBookmark:b,comments:m,commentContent:u,setCommentContent:c,addComment:w}},BF=e=>{let{userId:t,size:n="md"}=e;const{isUserImage:r}=kF({userId:t,collectionData:"profileImages"}),{data:i}=rF({queryKey:["user",t],queryFn:async()=>{const e=await xd(bh(SF,"users",t));return e.exists()?e.data():null}}),o={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-16 h-16"};return null!==r&&void 0!==r&&r.imageFile?(0,By.jsx)("img",{src:r.imageFile,alt:"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",className:`${o[n]} rounded-full mr-3 object-cover`}):null!==i&&void 0!==i&&i.photoURL?(0,By.jsx)("img",{src:i.photoURL,alt:"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",className:`${o[n]} rounded-full mr-3 object-cover`}):(0,By.jsx)("div",{className:`${o[n]} rounded-full mr-3 bg-white flex items-center justify-center`,children:(0,By.jsx)(ke,{className:("lg"===n?"h-8 w-8":"h-6 w-6")+" text-gray-400"})})},zF=e=>{let{isUser:t,showAllPosts:n=!1}=e;const{posts:r,likeStatuses:o,toggleLike:a,deletePost:s,bookmarkStatuses:l,toggleBookmark:u,comments:c,commentContent:h,setCommentContent:d,addComment:f}=UF(),{isDarkMode:p}=Uy(),[m,y]=(0,i.useState)(null),g=n?r:r.filter((e=>e.authorId===(null===t||void 0===t?void 0:t.uid))),v=[...g].sort(((e,t)=>{var n,r;const i=l[e.id]||!1,o=l[t.id]||!1;return i&&!o?-1:!i&&o?1:(null===(n=t.createdAt)||void 0===n?void 0:n.seconds)-(null===(r=e.createdAt)||void 0===r?void 0:r.seconds)})),b=e=>{if(!e)return"";return e.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,By.jsx)("div",{className:"space-y-6",children:0===v.length?(0,By.jsx)("p",{className:"text-center text-gray-500",children:"\uc791\uc131\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):v.map((e=>{var n;return(0,By.jsxs)("div",{className:(p?"bg-gray-800 bg-opacity-50":"bg-purple-300 bg-opacity-50")+" rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:bg-opacity-70",children:[(0,By.jsxs)("div",{className:"p-4 flex items-center",children:[(0,By.jsx)(BF,{userId:e.authorId,size:"md"}),(0,By.jsxs)("div",{children:[(0,By.jsx)("span",{className:"font-semibold",children:e.authorName}),(0,By.jsx)("p",{className:"text-xs text-gray-400",children:b(e.createdAt)})]}),(0,By.jsxs)("div",{className:"ml-auto relative",children:[(0,By.jsx)("button",{onClick:()=>{return t=e.id,void y(m===t?null:t);var t},className:"focus:outline-none",children:(0,By.jsx)(IF,{className:"h-5 w-5"})}),m===e.id&&e.authorId===(null===t||void 0===t?void 0:t.uid)&&(0,By.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10",children:(0,By.jsx)("div",{className:"py-1",children:(0,By.jsx)("button",{onClick:()=>(async e=>{window.confirm("\uac8c\uc2dc\ubb3c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(await s.mutateAsync(e),y(null))})(e.id),className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:"\uac8c\uc2dc\ubb3c \uc0ad\uc81c\ud558\uae30"})})})]})]}),(0,By.jsxs)("div",{className:"p-4",children:[(0,By.jsx)("h3",{className:"mb-4 font-semibold text-[1.25rem]",children:e.title}),(0,By.jsx)("p",{className:"mb-4",children:e.content}),e.postImage&&(0,By.jsx)("div",{className:"mb-4",children:(0,By.jsx)("img",{src:e.postImage,alt:"Post content",className:"w-full rounded-lg object-cover max-h-96",onError:e=>{console.error("Image load error:",e),e.currentTarget.src="/default-post-image.png"}})}),(0,By.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,By.jsxs)("div",{className:"flex space-x-4",children:[(0,By.jsxs)("button",{onClick:()=>(async e=>{t&&!a.isPending&&await a.mutateAsync({postId:e})})(e.id),className:"flex items-center space-x-1 focus:outline-none group",children:[(0,By.jsx)(jF,{className:"h-5 w-5 "+(o[e.id]?"text-red-500 fill-current":"group-hover:text-red-500 transition-colors")}),(0,By.jsx)("span",{children:e.likes})]}),(0,By.jsxs)("button",{className:"flex items-center space-x-1 focus:outline-none group",children:[(0,By.jsx)(_e,{className:"h-5 w-5 group-hover:text-blue-400 transition-colors"}),(0,By.jsx)("span",{children:e.comments})]}),(0,By.jsxs)("button",{className:"flex items-center space-x-1 focus:outline-none group",children:[(0,By.jsx)(NF,{className:"h-5 w-5 group-hover:text-green-400 transition-colors"}),(0,By.jsx)("span",{children:e.shares})]})]}),(0,By.jsx)("button",{onClick:()=>(async e=>{t&&!u.isPending&&await u.mutateAsync({postId:e})})(e.id),className:"focus:outline-none",children:(0,By.jsx)(MF,{className:"h-5 w-5 "+(l[e.id]?"text-yellow-500 fill-current":"hover:text-yellow-500 transition-colors")})})]})]}),(0,By.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[null===(n=c[e.id])||void 0===n?void 0:n.map((e=>(0,By.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,By.jsx)(BF,{userId:e.authorId,size:"sm"}),(0,By.jsxs)("div",{className:"flex-1",children:[(0,By.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,By.jsx)("span",{className:"font-semibold",children:e.authorName}),(0,By.jsx)("span",{className:"text-xs text-gray-500",children:b(e.createdAt)})]}),(0,By.jsx)("p",{className:"text-sm mt-1",children:e.content})]})]},e.id))),t&&(0,By.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,By.jsx)("input",{type:"text",value:h,onChange:e=>d(e.target.value),placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694...",className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded-full px-4 py-2 text-sm"}),(0,By.jsx)("button",{onClick:()=>(async e=>{h.trim()&&await f.mutateAsync({postId:e,content:h})})(e.id),className:`px-4 py-2  text-white rounded-full text-sm  transition-colors ${h.trim()?"opacity-100":"opacity-80"} ${p?"bg-blue-500 hover:bg-blue-600":"bg-purple-500 hover:bg-purple-600"}`,children:"\ub313\uae00 \uc791\uc131"})]})]})]},e.id)}))})},VF=()=>(0,By.jsx)(By.Fragment,{children:TF.map(((e,t)=>(0,By.jsxs)("div",{className:"bg-gray-800 bg-opacity-50 rounded-lg overflow-hidden backdrop-blur-sm",children:[(0,By.jsxs)("div",{className:"p-4 flex items-center",children:[(0,By.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-600 animate-pulse mr-3"}),(0,By.jsx)("div",{className:"w-24 h-4 bg-gray-600 animate-pulse rounded"})]}),(0,By.jsx)("div",{className:"w-full h-48 bg-gray-600 animate-pulse"}),(0,By.jsxs)("div",{className:"p-4",children:[(0,By.jsx)("div",{className:"w-full h-4 bg-gray-600 animate-pulse rounded mb-2"}),(0,By.jsx)("div",{className:"w-2/3 h-4 bg-gray-600 animate-pulse rounded"})]})]},t)))}),qF=()=>{const[e,t]=(0,i.useState)(!1),{user:n}=FF(),{userId:r}=function(){let{matches:e}=i.useContext(G),t=e[e.length-1];return t?t.params:{}}();return(0,i.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),400);return()=>clearTimeout(e)}),[]),(0,By.jsx)(pg,{children:(0,By.jsxs)("main",{className:"max-w-screen-xl mx-auto md:p-8 px-3 py-8 flex flex-col gap-25 ",children:[(0,By.jsx)(wF,{}),(0,By.jsx)(PF,{isLoading:e}),e?(0,By.jsx)(zF,{isLoading:e,showAllPosts:!0,isUser:n}):(0,By.jsx)(VF,{})]})})},$F=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),HF=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),WF=e=>{let{onClick:t,value:n,type:r}=e;const{isDarkMode:i}=Uy();return(0,By.jsx)("button",{type:r,onClick:()=>null===t||void 0===t?void 0:t(),className:` font-semibold mt-4 bg-purple-300 ${i?"bg-blue-700 text-blue-100 shadow-blue-800 hover:shadow-blue-900":"text-purple-800 shadow-purple-500 hover:shadow-purple-500"}  rounded-2xl inline-block p-2 bg-opacity-50  shadow-md  transition-all duration-200 ease hover:cursor-pointer hover:bg-opacity-50  hover:shadow-sm `,children:n})},KF=e=>{let{isHandleEditClick:t,isFileInputRef:n,isFetchImageFile:r,isHandleImageChange:o,isUserState:a,isUserImage:s,setIsUserImage:l,isEditable:u}=e;return(0,i.useEffect)((()=>{(async()=>{if(null!==a&&void 0!==a&&a.uid){const e=await xd(bh(Ry,"images",a.uid));if(e.exists()&&e.data().imageId){const t=await r(e.data().imageId);t&&l({imageFile:t})}}})()}),[a]),(0,By.jsxs)("div",{className:"relative",children:[null!==s&&void 0!==s&&s.imageFile?(0,By.jsx)("img",{src:s.imageFile,alt:`${null===a||void 0===a?void 0:a.email}\uc758 \uc0ac\uc9c4`,className:"absolute -top-16 left-6 w-32 h-32 rounded-full border-4 border-gray-800"}):null!==a&&void 0!==a&&a.photoURL?(0,By.jsx)("img",{src:a.photoURL,alt:`${null===a||void 0===a?void 0:a.email}\uc758 \uc0ac\uc9c4`,className:"absolute -top-16 left-6 w-32 h-32 rounded-full border-4 border-gray-800"}):(0,By.jsx)("div",{className:"absolute -top-16 left-6 w-32 h-32 rounded-full border-4 border-gray-800 bg-white flex items-center justify-center",children:(0,By.jsx)(ke,{className:"h-16 w-16 text-gray-400"})}),(0,By.jsx)("div",{className:`text-[0] ${a?" bg-[#72E5F2]":"bg-gray-900"} shadow-[0_0_4rem_rgba(10,205,206,0.5)] w-[2rem] h-[2rem] rounded-2xl bottom-[-3rem] absolute left-[8rem] z-10 `,children:"\ub85c\uadf8\uc778 \ud65c\uc131\ud654 \uc0c1\ud0dc"}),(0,By.jsxs)("div",{className:"float-right h-[auto]",children:[(0,By.jsx)("input",{type:"file",ref:n,onChange:o,accept:"image/*",className:"hidden"}),u&&(0,By.jsx)(WF,{onClick:t,value:"\ud504\ub85c\ud544 \uc0ac\uc9c4 \ubcc0\uacbd"})]})]})},GF=e=>{let{onClick:t,onSubmit:n,onChange:r,onKeyDown:i,setIsOpenMessageBox:o,setIsIntroSave:a}=e;const s=()=>{null===a||void 0===a||a(!1),null===o||void 0===o||o(!1)};return(0,By.jsx)("div",{className:"max-w-[500px] w-[100%] rounded-2xl  h-[20rem] bg-white bg-opacity-60 absolute top-[50%] translate-x-[-50%]  translate-y-[-50%] left-[50%]  z-[10] ",children:(0,By.jsxs)("label",{className:"flex flex-col gap-10  h-[100%]",children:[(0,By.jsx)("p",{className:"font-bold bg-purple-500 mb-10 w-100 text-white rounded-t-2xl py-2 flex items-center justify-center text-2xl",children:"\uc790\uc2e0\uc744 \uc18c\uac1c \ud574\uc8fc\uc138\uc694!"}),(0,By.jsxs)("form",{method:"post",onSubmit:e=>n(e),className:"flex flex-col justify-center items-center  gap-10 w-full",children:[(0,By.jsx)("input",{onChange:r,className:"border indent-2 w-[80%] px-5 rounded-md border-purple-600 h-[2.75rem]",placeholder:"\ud55c\uc904 \uc18c\uac1c\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),(0,By.jsxs)("div",{className:"flex gap-10",children:[(0,By.jsx)("button",{onKeyDown:e=>null===i||void 0===i?void 0:i(e),onClick:e=>null===t||void 0===t?void 0:t(e),className:"h-[2.5rem] bg-purple-500 text-white rounded-md p-2",type:"button",children:"\uc800\uc7a5"}),(0,By.jsx)("button",{onClick:()=>null===s||void 0===s?void 0:s(),className:"h-[2.5rem] bg-purple-500 text-white rounded-md p-2",type:"button",children:"\ucde8\uc18c"})]})]})]})})},QF=xe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),YF=e=>{let{isMessage:t,isUserState:n,isPageUser:r,isEditable:i}=e;const{isDarkMode:o}=Uy(),{data:a}=rF({queryKey:["userMessage",null===n||void 0===n?void 0:n.uid],queryFn:async()=>{if(null===n||void 0===n||!n.uid)return null;const e=await xd(bh(SF,"messages",n.uid));return e.exists()?e.data().message:null},enabled:!(null===n||void 0===n||!n.uid)}),s=i?t:a;return(0,By.jsxs)("div",{className:(o?"bg-blue-900 ":"bg-purple-300 bg-opacity-10 border border-purple-300 ")+" bg-opacity-30 rounded-lg p-4 mb-6",children:[(0,By.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:[null===n||void 0===n?void 0:n.displayName,"\ub2d8\uc758 \ud55c\uc904 \uc18c\uac1c\uae00\uc774\uc5d0\uc694!"]}),(0,By.jsx)("div",{className:"flex items-center justify-between",children:(0,By.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,By.jsx)(QF,{className:"h-8 w-8  opacity-90 "+(o?"text-blue-700":"text-purple-700")}),(0,By.jsx)("p",{className:"bg-transparent border-b border-purple-600 focus:outline-none  transition-colors "+(o?"border-blue-600":"border-purple-600"),children:s||"\uc18c\uac1c\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})})]})},XF=e=>{let{onClick:t,isOpenModal:n,isPostHandleChange:r,onClickPostSubmit:i,onClickPostBox:o,isTitle:a,postMessage:s,imageFile:l,setImageFile:u}=e;if(!i)return null;return(0,By.jsx)("div",{onClick:t,className:"fixed inset-0 bg-purple-500 bg-opacity-50 flex items-center justify-center z-50",children:(0,By.jsx)("div",{onClick:e=>{e.stopPropagation()},className:"w-full max-w-[900px] px-8 py-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg mx-4",children:(0,By.jsxs)(fF,{isHandleSubmit:i,children:[(0,By.jsxs)("label",{children:[(0,By.jsx)("h3",{className:"text-xl text-purple-500 dark:text-purple-400 pb-3 font-bold",children:"\uc81c\ubaa9"}),(0,By.jsx)("input",{type:"text",name:"title",value:a||"",onChange:e=>null===r||void 0===r?void 0:r(e),className:"bg-purple-100 dark:bg-purple-900 rounded-xl p-3 w-full",required:!0})]}),(0,By.jsxs)("label",{children:[(0,By.jsx)("h3",{className:"py-4 text-xl text-purple-500 dark:text-purple-400 font-bold",children:"\ub0b4\uc6a9"}),(0,By.jsx)("textarea",{name:"content",value:s||"",onChange:e=>null===r||void 0===r?void 0:r(e),className:"bg-purple-100 dark:bg-purple-900 rounded-xl w-full p-4 h-[15rem] resize-none focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0})]}),(0,By.jsxs)("label",{children:[(0,By.jsx)("h3",{className:"py-4 text-xl text-purple-500 dark:text-purple-400 font-bold",children:"\uc774\ubbf8\uc9c0 \ucca8\ubd80"}),(0,By.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(null===u||void 0===u||u(n))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),l&&(0,By.jsx)("div",{className:"mt-2",children:(0,By.jsx)("img",{src:URL.createObjectURL(l),alt:"Preview",className:"max-w-xs rounded-lg"})})]}),(0,By.jsxs)("div",{className:"flex gap-4 pt-6 justify-end",children:[(0,By.jsx)("button",{type:"submit",className:"px-6 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-colors",children:"\uac8c\uc2dc"}),(0,By.jsx)("button",{type:"button",className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:o,children:"\ucde8\uc18c"})]})]})})})},JF=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ZF=e=>{let{isUserState:t}=e;const{isDarkMode:n}=Uy(),r=null===t||void 0===t?void 0:t.uid,{isFileInputRef:o,isFetchImageFile:a,setIsUserImage:s,isUserImage:l,isHandleImageChange:u,isHandleEditClick:c}=kF({userId:r||null,collectionData:"backgroundImages"});return(0,i.useEffect)((()=>{(async()=>{try{if(null!==t&&void 0!==t&&t.uid){const e=await xd(bh(Ry,"images",t.uid));if(e.exists()&&e.data().imageId){const t=await a(e.data().imageId);t&&s({imageFile:t})}}}catch(ig){throw new Error(null===ig||void 0===ig?void 0:ig.toString())}})()}),[t,a,s]),(0,By.jsxs)("div",{className:"relative h-48 bg-cover bg-center "+(n?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-pink-400 to-purple-400 border border-purple-300"),style:{backgroundImage:null!==l&&void 0!==l&&l.imageFile?`url(${l.imageFile})`:n?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-pink-400 to-purple-400 border border-purple-300"},children:[(0,By.jsx)("button",{onClick:c,className:"absolute top-4 right-4 bg-gray-800 bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400",children:(0,By.jsx)(JF,{className:"h-5 w-5 text-white"})}),(0,By.jsx)("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"})]})};var eU=n(7950),tU=n.t(eU,2);function nU(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(oB){}new Map;const rU=o.startTransition;tU.flushSync,o.useId;function iU(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=a.current,[c,m]=i.useState({action:l.action,location:l.location}),{v7_startTransition:y}=r||{},g=i.useCallback((e=>{y&&rU?rU((()=>m(e))):m(e)}),[m,y]);return i.useLayoutEffect((()=>l.listen(g)),[l,g]),i.useEffect((()=>de(r)),[r]),i.createElement(pe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var oU,aU;function sU(e){let t=i.useRef(nU(e)),n=i.useRef(!1),r=X(),o=i.useMemo((()=>function(e,t){let n=nU(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=Z(),s=i.useCallback(((e,t)=>{const r=nU("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(oU||(oU={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(aU||(aU={}));function lU(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{isDarkMode:o}=Uy(),{user:a,message:s,setMessage:l,setBeforeMessage:u,setIsSaveMessage:c,saveMessage:h,fetchMessage:d}=(()=>{const{user:e}=FF(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(!0);return{user:e,message:t,setMessage:n,beforeMessage:r,setBeforeMessage:o,isSaveMessage:a,setIsSaveMessage:s,saveMessage:async()=>{if(e)try{const n={message:a?t:r,userId:e.uid,userName:e.displayName||"Anonymous",createdAt:Pd()};await Ed(bh(Ry,"messages",e.uid),n)}catch(ig){throw console.error("Error saving message:",ig),ig}else console.error("No user found")},fetchMessage:async()=>{if(e)try{const t=await xd(bh(Ry,"messages",e.uid));t.exists()&&n(t.data().message)}catch(ig){throw console.error("Error fetching message:",ig),ig}}}})(),{title:f,setTitle:p,content:m,setContent:y,savePost:g,imageFile:v,setImageFile:b}=UF(),[w]=sU(),x=w.get("userId"),{isUserImage:_,setIsUserImage:S,isHandleImageChange:E,isFetchImageFile:k,isFileInputRef:O,isHandleEditClick:T}=kF({userId:x||(null===a||void 0===a?void 0:a.uid)||null,collectionData:"profileImages"}),{data:C}=rF({queryKey:["user",x],queryFn:async()=>{if(!x)return a;const e=await xd(bh(SF,"users",x));return e.exists()?e.data():null},enabled:!!x}),A=!x||x===(null===a||void 0===a?void 0:a.uid),P=async e=>{const{value:t}=e.currentTarget;l(t)},I=()=>{r((e=>!e))},j=()=>{u(s),t((e=>!e))};return(0,i.useEffect)((()=>{a&&d()}),[a]),(0,By.jsxs)(pg,{children:[(0,By.jsxs)(ug,{children:[A&&e&&(0,By.jsx)(GF,{setIsOpenMessageBox:t,setIsIntroSave:c,onSubmit:async e=>{try{e.preventDefault(),e.stopPropagation(),t(!1),await h()}catch(ig){console.error("Error saving message:",ig)}},onClick:j,onChange:P,onKeyDown:j}),(0,By.jsxs)("main",{className:"max-w-screen-xl mx-auto p-4",children:[(0,By.jsxs)("div",{className:` ${o?"bg-gray-800 bg-opacity-50":"bg-purple-300 bg-opacity-10 border border-purple-300"}  rounded-lg overflow-hidden backdrop-blur-sm mb-6`,children:[(0,By.jsx)(ZF,{isUserState:C||a}),(0,By.jsxs)("div",{className:"relative px-6 pb-6",children:[(0,By.jsx)(KF,{isUserState:C||a,isUserImage:_,setIsUserImage:S,isHandleImageChange:E,isFetchImageFile:k,isFileInputRef:O,isHandleEditClick:T,isEditable:A}),(0,By.jsxs)("div",{className:"pt-20",children:[(0,By.jsx)("h2",{className:"text-2xl font-bold",children:(null===C||void 0===C?void 0:C.displayName)||(null===a||void 0===a?void 0:a.displayName)||""}),(0,By.jsxs)("p",{className:"text-gray-400 flex items-center mt-1",children:[(0,By.jsx)($F,{className:"h-4 w-4 mr-1"})," Email:"," ",(null===C||void 0===C?void 0:C.email)||(null===a||void 0===a?void 0:a.email)||""]}),(0,By.jsxs)("p",{className:"text-gray-400 flex items-center mt-1",children:[(0,By.jsx)(HF,{className:"h-4 w-4 mr-1"})," create ID:"," ",(null===a||void 0===a?void 0:a.metadata.creationTime)||""]}),A&&(0,By.jsx)(WF,{value:"\uc18c\uac1c\uae00 \uc785\ub825\ud558\uae30",onClick:j})]})]})]}),(0,By.jsx)(YF,{isPageUser:C,isEditable:A,isUserState:C||a,isMessage:s}),(0,By.jsxs)("div",{className:"flex flex-col gap-10 justify-around",children:[A&&(0,By.jsx)(WF,{onClick:()=>I(),value:"\uac8c\uc2dc\uae00 \uc791\uc131\ud558\uae30"}),(0,By.jsx)(zF,{isUserImage:_,isUser:C||a,isTitle:f})]})]})]}),n&&(0,By.jsx)(XF,{onClickPostBox:I,isPostHandleChange:async e=>{const{value:t,name:n}=e.currentTarget;try{switch(n){case"title":p(t);break;case"content":y(t)}}catch(e){console.error("Error in form change:",e)}},onClickPostSubmit:async e=>{try{if(e.preventDefault(),e.stopPropagation(),!a)return void console.error("User not logged in");if(!f||!m)return void console.error("Title or content is missing",{isTitle:f,postMessage:m});await g(),p(""),y(""),b(null),r(!1)}catch(ig){console.error("Error creating post:",ig)}},isHandleChage:P,isOpenModal:n,onClick:I,isTitle:f,postMessage:m,imageFile:v,setImageFile:b})]})}const uU=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),cU=()=>(0,By.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,By.jsx)("p",{className:"text-gray-500 text-lg",children:"Select a chat to start messaging"})}),hU=(Math.pow(10,8),43200),dU=Symbol.for("constructDateFrom");function fU(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&dU in e?e[dU](t):e instanceof Date?new e.constructor(t):new Date(t)}function pU(e){return fU(e,Date.now())}const mU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function yU(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const gU={date:yU({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:yU({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:yU({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},vU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function bU(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const wU={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:bU({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:bU({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:bU({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:bU({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:bU({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function xU(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;return{value:u,rest:t.slice(a.length)}}}function _U(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const SU={ordinalNumber:_U({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:xU({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xU({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:xU({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xU({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xU({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},EU={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=mU[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:gU,formatRelative:(e,t,n,r)=>vU[e],localize:wU,match:SU,options:{weekStartsOn:0,firstWeekContainsDate:1}};let kU={};function OU(){return kU}function TU(e,t){return fU(t||e,e)}function CU(e){const t=TU(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function AU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=fU.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}function PU(e,t){const n=+TU(e)-+TU(t);return n<0?-1:n>0?1:n}function IU(e,t,n){const[r,i]=AU(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function jU(e,t){const n=TU(e,t?.in);return n.setHours(23,59,59,999),n}function NU(e,t){const n=TU(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function MU(e,t){const n=TU(e,t?.in);return+jU(n,t)===+NU(n,t)}function DU(e,t,n){const[r,i,o]=AU(n?.in,e,e,t),a=PU(i,o),s=Math.abs(IU(i,o));if(s<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*s);let l=PU(i,o)===-a;MU(r)&&1===s&&1===PU(r,o)&&(l=!1);const u=a*(s-+l);return 0===u?0:u}function RU(e,t){return+TU(e)-+TU(t)}function LU(e,t,n){const r=RU(e,t)/1e3;return(i=n?.roundingMethod,e=>{const t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})(r);var i}function FU(e,t,n){const r=OU(),i=n?.locale??r.locale??EU,o=PU(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o}),[s,l]=AU(n?.in,...o>0?[t,e]:[e,t]),u=LU(l,s),c=(CU(l)-CU(s))/1e3,h=Math.round((u-c)/60);let d;if(h<2)return n?.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",0,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):0===h?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",h,a);if(h<45)return i.formatDistance("xMinutes",h,a);if(h<90)return i.formatDistance("aboutXHours",1,a);if(h<1440){const e=Math.round(h/60);return i.formatDistance("aboutXHours",e,a)}if(h<2520)return i.formatDistance("xDays",1,a);if(h<hU){const e=Math.round(h/1440);return i.formatDistance("xDays",e,a)}if(h<86400)return d=Math.round(h/hU),i.formatDistance("aboutXMonths",d,a);if(d=DU(l,s),d<12){const e=Math.round(h/hU);return i.formatDistance("xMonths",e,a)}{const e=d%12,t=Math.trunc(d/12);return e<3?i.formatDistance("aboutXYears",t,a):e<9?i.formatDistance("overXYears",t,a):i.formatDistance("almostXYears",t+1,a)}}function UU(e,t){return FU(e,pU(e),t)}const BU={lessThanXSeconds:{one:"1\ucd08 \ubbf8\ub9cc",other:"{{count}}\ucd08 \ubbf8\ub9cc"},xSeconds:{one:"1\ucd08",other:"{{count}}\ucd08"},halfAMinute:"30\ucd08",lessThanXMinutes:{one:"1\ubd84 \ubbf8\ub9cc",other:"{{count}}\ubd84 \ubbf8\ub9cc"},xMinutes:{one:"1\ubd84",other:"{{count}}\ubd84"},aboutXHours:{one:"\uc57d 1\uc2dc\uac04",other:"\uc57d {{count}}\uc2dc\uac04"},xHours:{one:"1\uc2dc\uac04",other:"{{count}}\uc2dc\uac04"},xDays:{one:"1\uc77c",other:"{{count}}\uc77c"},aboutXWeeks:{one:"\uc57d 1\uc8fc",other:"\uc57d {{count}}\uc8fc"},xWeeks:{one:"1\uc8fc",other:"{{count}}\uc8fc"},aboutXMonths:{one:"\uc57d 1\uac1c\uc6d4",other:"\uc57d {{count}}\uac1c\uc6d4"},xMonths:{one:"1\uac1c\uc6d4",other:"{{count}}\uac1c\uc6d4"},aboutXYears:{one:"\uc57d 1\ub144",other:"\uc57d {{count}}\ub144"},xYears:{one:"1\ub144",other:"{{count}}\ub144"},overXYears:{one:"1\ub144 \uc774\uc0c1",other:"{{count}}\ub144 \uc774\uc0c1"},almostXYears:{one:"\uac70\uc758 1\ub144",other:"\uac70\uc758 {{count}}\ub144"}},zU={date:yU({formats:{full:"y\ub144 M\uc6d4 d\uc77c EEEE",long:"y\ub144 M\uc6d4 d\uc77c",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:yU({formats:{full:"a H\uc2dc mm\ubd84 ss\ucd08 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:yU({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},VU={lastWeek:"'\uc9c0\ub09c' eeee p",yesterday:"'\uc5b4\uc81c' p",today:"'\uc624\ub298' p",tomorrow:"'\ub0b4\uc77c' p",nextWeek:"'\ub2e4\uc74c' eeee p",other:"P"},qU={ordinalNumber:(e,t)=>{const n=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(n);case"date":return n+"\uc77c";default:return n+"\ubc88\uc9f8"}},era:bU({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["\uae30\uc6d0\uc804","\uc11c\uae30"]},defaultWidth:"wide"}),quarter:bU({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:bU({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],wide:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},defaultWidth:"wide"}),day:bU({values:{narrow:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],abbreviated:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],wide:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},defaultWidth:"wide"}),dayPeriod:bU({values:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultFormattingWidth:"wide"})},$U={ordinalNumber:_U({matchPattern:/^(\d+)(\uc77c|\ubc88\uc9f8)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:xU({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(\uae30\uc6d0\uc804|\uc11c\uae30)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|\uae30\uc6d0\uc804)/i,/^(ad|\uc11c\uae30)/i]},defaultParseWidth:"any"}),quarter:xU({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\uc0ac?\ubd84\uae30/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:xU({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])\uc6d4/i,wide:/^(1[012]|[123456789])\uc6d4/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\uc6d4?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:xU({matchPatterns:{narrow:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,short:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,abbreviated:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,wide:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]\uc694\uc77c/},defaultMatchWidth:"wide",parsePatterns:{any:[/^\uc77c/,/^\uc6d4/,/^\ud654/,/^\uc218/,/^\ubaa9/,/^\uae08/,/^\ud1a0/]},defaultParseWidth:"any"}),dayPeriod:xU({matchPatterns:{any:/^(am|pm|\uc624\uc804|\uc624\ud6c4|\uc790\uc815|\uc815\uc624|\uc544\uce68|\uc800\ub141|\ubc24)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|\uc624\uc804)/i,pm:/^(pm|\uc624\ud6c4)/i,midnight:/^\uc790\uc815/i,noon:/^\uc815\uc624/i,morning:/^\uc544\uce68/i,afternoon:/^\uc624\ud6c4/i,evening:/^\uc800\ub141/i,night:/^\ubc24/i}},defaultParseWidth:"any"})},HU={code:"ko",formatDistance:(e,t,n)=>{let r;const i=BU[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?r+" \ud6c4":r+" \uc804":r},formatLong:zU,formatRelative:(e,t,n,r)=>VU[e],localize:qU,match:$U,options:{weekStartsOn:0,firstWeekContainsDate:1}},WU=e=>{var t,n,r,o;let{messages:a,currentRoom:s,isOpen:l,onClickToggleSideBar:u}=e;const{isDarkMode:c}=Uy(),[h,d]=(0,i.useState)(""),f=(0,i.useRef)(null),[p,m]=(0,i.useState)(null),y=(0,i.useRef)(null),[g,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),{isUserImage:x,isFetchImageFile:_}=kF({userId:(null===(t=EF.currentUser)||void 0===t?void 0:t.uid)||null,collectionData:"profileImages"}),{data:S}=rF({queryKey:["chatRoom",s],queryFn:()=>new Promise((e=>{const t=Td(bh(SF,"chats",s),(t=>{t.exists()&&e({id:t.id,...t.data()})}));return()=>t()})),enabled:!!s}),{data:E}=rF({queryKey:["userImage",null===(n=EF.currentUser)||void 0===n?void 0:n.uid],queryFn:()=>_(),enabled:!(null===(r=EF.currentUser)||void 0===r||!r.uid)}),k=()=>{if(!y.current)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=y.current,r=Math.abs(t-n-e)<1;r&&a.length>0&&w(a[a.length-1].id);const i=a.length>0&&b!==a[a.length-1].id;v(!r&&i)};(0,i.useEffect)((()=>{(async()=>{var e;if(null!==(e=EF.currentUser)&&void 0!==e&&e.uid)try{const e=await _();m(e||null)}catch(ig){console.error("Error fetching user image:",ig),m(null)}})()}),[null===(o=EF.currentUser)||void 0===o?void 0:o.uid]),(0,i.useEffect)((()=>{const e=y.current;if(e)return e.addEventListener("scroll",k),()=>e.removeEventListener("scroll",k)}),[]),(0,i.useEffect)((()=>{if(a.length>0){const e=y.current;if(e){const{scrollTop:t,scrollHeight:n,clientHeight:r}=e;Math.abs(n-r-t)<1&&w(a[a.length-1].id)}}}),[a]);const{mutate:O}=LF({mutationFn:async e=>{if(!e.trim()||!s||!EF.currentUser)return;const t={text:e,userId:EF.currentUser.uid,userName:EF.currentUser.displayName||"\uc775\uba85",userImage:E||null,timestamp:Pd()};await Od(vh(SF,`chats/${s}/messages`),t)},onSuccess:()=>{var e;d(""),null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),v(!1),a.length>0&&w(a[a.length-1].id)},onError:e=>{console.error("Error sending message:",e)}});return(0,By.jsx)("div",{className:"flex-1 flex flex-col h-screen md:p-4 p-2",children:s&&S?(0,By.jsxs)(By.Fragment,{children:[(0,By.jsxs)("div",{className:`\n              ${c?"bg-gray-800 border-b border-gray-700":"bg-opacity-55 border-b border-purple-300 shadow-[0_10px_10px_-1px_rgba(233,213,255,0.5)]"} \n              bg-opacity-50 backdrop-filter backdrop-blur-lg p-4 flex items-center justify-between\n            `,children:[(0,By.jsxs)("div",{className:"flex items-center",children:[(0,By.jsx)("div",{className:`w-10 h-10 rounded-full ${c?"bg-gray-600":"bg-opacity-55 border border-purple-700 text-black"}  flex items-center justify-center mr-3 font-bold`,children:null===S||void 0===S?void 0:S.name[0]}),(0,By.jsx)("span",{className:"font-semibold",children:null===S||void 0===S?void 0:S.name})]}),(0,By.jsx)("div",{className:"flex space-x-4",children:(0,By.jsx)(uU,{size:25,onClick:u,className:`block cursor-pointer transition-all duration-500 ease-in-out\n                  hover:rotate-180 hover:translate-x-0\n                  ${l?"rotate-180":"rotate-0"}\n                  hover:scale-110 active:scale-95\n                  ${c?"hover:text-blue-700":"hover:text-purple-600"}\n                `})})]}),(0,By.jsxs)("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[null===a||void 0===a?void 0:a.map((e=>{var t,n,r,i,o,a;return(0,By.jsx)("div",{className:"flex "+(e.userId===(null===(t=EF.currentUser)||void 0===t?void 0:t.uid)?"justify-end":"justify-start"),children:(0,By.jsxs)("div",{className:"flex items-start max-w-xs lg:max-w-md xl:max-w-lg",children:[e.userId!==(null===(n=EF.currentUser)||void 0===n?void 0:n.uid)&&(0,By.jsxs)("div",{className:"mr-2 flex flex-col items-center",children:[e.userImage?(0,By.jsx)(AF,{userId:e.userId,username:e.userName||"Anonymous",size:"small"}):(0,By.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold\n                          "+(c?"bg-gray-700 text-white":"bg-purple-100 text-purple-600"),children:(null===(r=e.userName)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.toUpperCase())||"?"}),(0,By.jsx)("span",{className:"text-xs mt-1",children:e.userName||"\uc775\uba85"})]}),(0,By.jsxs)("div",{className:((null===e||void 0===e?void 0:e.userId)===(null===(o=EF.currentUser)||void 0===o?void 0:o.uid)?c?"bg-blue-600 rounded-l-lg rounded-br-lg":"bg-purple-600 rounded-l-lg rounded-br-lg text-white":c?"bg-gray-700 rounded-r-lg rounded-bl-lg":"bg-gray-100 rounded-r-lg rounded-bl-lg")+" p-3 shadow-md",children:[(0,By.jsx)("p",{children:null===e||void 0===e?void 0:e.text}),(0,By.jsx)("p",{className:`text-xs ${c?"text-gray-300":"text-gray-600"} mt-1`,children:(a=e.timestamp,a&&a.toDate?UU(a.toDate(),{addSuffix:!0,locale:HU}):"")})]})]})},e.id)})),(0,By.jsx)("div",{ref:f})]}),g&&(0,By.jsx)("div",{onClick:()=>{var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),v(!1),a.length>0&&w(a[a.length-1].id)},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 cursor-pointer w-[20rem] rounded-lg flex items-center",children:"\uc0c8\uae00 \uc77d\uae30"}),(0,By.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O(h)},className:"mt-4 flex",children:[(0,By.jsx)("input",{type:"text",value:h,onChange:e=>d(e.target.value),className:"flex-1 border rounded-l p-2 "+(c?"bg-gray-700 text-white":"bg-white text-gray-900"),placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694..."}),(0,By.jsx)("button",{type:"submit",className:`px-4 py-2 rounded-r ${c?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"} text-white`,children:"\uc804\uc1a1"})]})]}):(0,By.jsx)(cU,{})})},KU=e=>{let{searchTerm:t,onRoomSelect:n,onClickToggleSideBar:r}=e;const{isDarkMode:o}=Uy(),[a,s]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=Td(ad(vh(SF,"chats")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));s(t)}));return()=>e()}),[]);const l=a.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return(0,By.jsxs)("div",{className:"overflow-y-auto h-[calc(100vh-8rem)] "+(o?"":"shadow-[17px_0_10px_-3px_rgba(233,213,255,0.5)]"),children:[(0,By.jsx)("button",{onClick:()=>{const e=prompt("\uc0c8\ub85c\uc6b4 \ucc44\ud305\ubc29 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694:");e&&(async e=>{try{var t;await Od(vh(SF,"chats"),{name:e,createdAt:Pd(),createdBy:null===(t=EF.currentUser)||void 0===t?void 0:t.uid})}catch(ig){console.error("Error creating chat room:",ig)}})(e)},className:`w-full p-3 mb-2 ${o?"bg-blue-600":"bg-purple-600"} text-white rounded`,children:"\uc0c8 \ucc44\ud305\ubc29 \ub9cc\ub4e4\uae30"}),l.map((e=>(0,By.jsxs)("button",{onClick:()=>{n(e.id),r()},className:`flex items-center w-full p-3 ${o?"hover:bg-gray-800":"hover:bg-purple-200"} transition-colors`,children:[(0,By.jsx)("div",{className:`w-10 h-10 rounded-full ${o?"bg-gray-600":"border border-purple-700"} font-bold flex items-center justify-center mr-3`,children:e.name[0]}),(0,By.jsx)("span",{children:e.name})]},e.id)))]})},GU=e=>{let{onRoomSelect:t,isOpen:n,onClickToggleSideBar:r}=e;const[o,a]=(0,i.useState)(""),{isDarkMode:s}=Uy();return(0,By.jsx)("div",{className:` ${n?"flex":"hidden"} `,children:(0,By.jsxs)("div",{className:`\n        fixed  sm:top-0 top-[7.1rem]  left-0 h-full z-50\n        w-full \n        md:relative md:block md:w-64\n        ${n?"block":"hidden"}\n        ${s?"bg-gray-800 bg-opacity-50 backdrop-filter backdrop-blur-lg border-r border-gray-700":"bg-opacity-75 text-black backdrop-blur backdrop-filter border-r border-purple-300 shadow-[17px_0_10px_-3px_rgba(233,213,255,0.5)]"}\n      `,children:[(0,By.jsxs)("div",{className:"p-4 opacity-100",children:[(0,By.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,By.jsx)("h1",{className:(s?"text-white":"text-purple-700")+" text-xl font-bold",children:"RainyChat"}),(0,By.jsx)(gF,{className:s?"text-blue-400":"text-purple-400"})]}),(0,By.jsx)("div",{className:"relative",children:(0,By.jsx)("input",{type:"text",placeholder:"\uac80\uc0c9",className:`w-full ${s?"bg-gray-700 bg-opacity-50":"bg-gray-100 bg-opacity-50 border border-purple-300"}  rounded-md py-2 px-4 focus:outline-none`,value:o,onChange:e=>a(e.target.value)})})]}),(0,By.jsx)(KU,{onClickToggleSideBar:r,searchTerm:o,onRoomSelect:t})]})})},QU=()=>{const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(null),s=()=>{t(!e)};return(0,i.useEffect)((()=>{if(!o)return void r([]);const e=Td(ad(vh(SF,`chats/${o}/messages`),cd("timestamp","asc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t)}),(e=>{console.error("Error in messages snapshot:",e),r([])}));return()=>e()}),[o]),(0,By.jsx)(pg,{children:(0,By.jsx)(ug,{children:(0,By.jsxs)("div",{className:"flex",children:[(0,By.jsx)("div",{className:"absolute inset-0 pointer-events-none w-full"}),(0,By.jsx)(GU,{isOpen:e,onClickToggleSideBar:s,onRoomSelect:a}),(0,By.jsx)(WU,{isOpen:e,onClickToggleSideBar:s,messages:n,currentRoom:o})]})})})};const YU=function(){return(0,By.jsxs)(me,{children:[(0,By.jsx)(fe,{path:"",element:(0,By.jsx)(dF,{})}),(0,By.jsx)(fe,{path:"/membership",element:(0,By.jsx)(hg,{})}),(0,By.jsx)(fe,{path:"/mypage",element:(0,By.jsx)(lU,{})}),(0,By.jsx)(fe,{path:"/chat",element:(0,By.jsx)(QU,{})}),(0,By.jsx)(fe,{path:"/profile",element:(0,By.jsx)(qF,{})}),(0,By.jsx)(fe,{path:"/login",element:(0,By.jsx)(yF,{})})]})},XU=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};var JU=class extends lL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#z=new Map}#z;build(e,t,n){const r=t.queryKey,i=t.queryHash??gL(r,t);let o=this.get(i);return o||(o=new BL({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#z.has(e.queryHash)||(this.#z.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#z.get(e.queryHash);t&&(e.destroy(),t===e&&this.#z.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){IL.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#z.get(e)}getAll(){return[...this.#z.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>mL(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>mL(e,t))):t}notify(e){IL.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){IL.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){IL.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},ZU=class extends lL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#V=new Set,this.#q=new Map,this.#$=0}#V;#q;#$;build(e,t,n){const r=new DF({mutationCache:this,mutationId:++this.#$,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#V.add(e);const t=eB(e);if("string"===typeof t){const n=this.#q.get(t);n?n.push(e):this.#q.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#V.delete(e)){const t=eB(e);if("string"===typeof t){const n=this.#q.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#q.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=eB(e);if("string"===typeof t){const n=this.#q.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=eB(e);if("string"===typeof t){const n=this.#q.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){IL.batch((()=>{this.#V.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#V.clear(),this.#q.clear()}))}getAll(){return Array.from(this.#V)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>yL(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>yL(e,t)))}notify(e){IL.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return IL.batch((()=>Promise.all(e.map((e=>e.continue().catch(cL))))))}};function eB(e){return e.options.scope?.id}function tB(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const u=async()=>{let n=!1;const u=AL(t.options,t.fetchOptions),c=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const o={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};(e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)})})(o);const a=await u(o),{maxPages:s}=t.options,l=i?TL:OL;return{pages:l(e.pages,a,s),pageParams:l(e.pageParams,r,s)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:a},n=(e?rB:nB)(r,t);s=await c(t,n,e)}else{const t=e??o.length;do{const e=0===l?a[0]??r.initialPageParam:nB(r,s);if(l>0&&null==e)break;s=await c(s,e),l++}while(l<t)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function nB(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function rB(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}const iB=new class{#H;#L;#c;#W;#K;#G;#Q;#Y;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#H=e.queryCache||new JU,this.#L=e.mutationCache||new ZU,this.#c=e.defaultOptions||{},this.#W=new Map,this.#K=new Map,this.#G=0}mount(){this.#G++,1===this.#G&&(this.#Q=PL.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onFocus())})),this.#Y=jL.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onOnline())})))}unmount(){this.#G--,0===this.#G&&(this.#Q?.(),this.#Q=void 0,this.#Y?.(),this.#Y=void 0)}isFetching(e){return this.#H.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#L.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#H.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fL(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#H.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#H.get(r.queryHash),o=i?.state.data,a=function(e,t){return"function"===typeof e?e(t):e}(t,o);if(void 0!==a)return this.#H.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return IL.batch((()=>this.#H.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state}removeQueries(e){const t=this.#H;IL.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#H;return IL.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=IL.batch((()=>this.#H.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(cL).catch(cL)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return IL.batch((()=>(this.#H.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=IL.batch((()=>this.#H.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(cL)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(cL)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#H.build(this,t);return n.isStaleByTime(fL(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cL).catch(cL)}fetchInfiniteQuery(e){return e.behavior=tB(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cL).catch(cL)}ensureInfiniteQueryData(e){return e.behavior=tB(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jL.isOnline()?this.#L.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#H}getMutationCache(){return this.#L}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#W.set(vL(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#W.values()],n={};return t.forEach((t=>{bL(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#K.set(vL(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#K.values()],n={};return t.forEach((t=>{bL(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gL(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===CL&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#H.clear(),this.#L.clear()}};r.createRoot(document.getElementById("root")).render((0,By.jsx)(QL,{client:iB,children:(0,By.jsx)(i.StrictMode,{children:(0,By.jsx)(iU,{children:(0,By.jsx)(YU,{})})})})),XU()})()})();
//# sourceMappingURL=main.c1df6264.js.map